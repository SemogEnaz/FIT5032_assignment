(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fd(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ft={},Ao=[],xs=()=>{},R_=()=>!1,du=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ud=t=>t.startsWith("onUpdate:"),bn=Object.assign,$d=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},uT=Object.prototype.hasOwnProperty,st=(t,e)=>uT.call(t,e),Ce=Array.isArray,So=t=>fl(t)==="[object Map]",fu=t=>fl(t)==="[object Set]",Bp=t=>fl(t)==="[object Date]",Le=t=>typeof t=="function",zt=t=>typeof t=="string",$s=t=>typeof t=="symbol",yt=t=>t!==null&&typeof t=="object",C_=t=>(yt(t)||Le(t))&&Le(t.then)&&Le(t.catch),P_=Object.prototype.toString,fl=t=>P_.call(t),hT=t=>fl(t).slice(8,-1),k_=t=>fl(t)==="[object Object]",Bd=t=>zt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ma=Fd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pu=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},dT=/-\w/g,es=pu(t=>t.replace(dT,e=>e.slice(1).toUpperCase())),fT=/\B([A-Z])/g,ai=pu(t=>t.replace(fT,"-$1").toLowerCase()),mu=pu(t=>t.charAt(0).toUpperCase()+t.slice(1)),yh=pu(t=>t?`on${mu(t)}`:""),zr=(t,e)=>!Object.is(t,e),uc=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},O_=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},kc=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let jp;const gu=()=>jp||(jp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _u(t){if(Ce(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=zt(s)?_T(s):_u(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(zt(t)||yt(t))return t}const pT=/;(?![^(]*\))/g,mT=/:([^]+)/,gT=/\/\*[^]*?\*\//g;function _T(t){const e={};return t.replace(gT,"").split(pT).forEach(n=>{if(n){const s=n.split(mT);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function yu(t){let e="";if(zt(t))e=t;else if(Ce(t))for(let n=0;n<t.length;n++){const s=yu(t[n]);s&&(e+=s+" ")}else if(yt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const yT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vT=Fd(yT);function x_(t){return!!t||t===""}function wT(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=vu(t[s],e[s]);return n}function vu(t,e){if(t===e)return!0;let n=Bp(t),s=Bp(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=$s(t),s=$s(e),n||s)return t===e;if(n=Ce(t),s=Ce(e),n||s)return n&&s?wT(t,e):!1;if(n=yt(t),s=yt(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const l=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(l&&!u||!l&&u||!vu(t[o],e[o]))return!1}}return String(t)===String(e)}function ET(t,e){return t.findIndex(n=>vu(n,e))}const N_=t=>!!(t&&t.__v_isRef===!0),ye=t=>zt(t)?t:t==null?"":Ce(t)||yt(t)&&(t.toString===P_||!Le(t.toString))?N_(t)?ye(t.value):JSON.stringify(t,D_,2):String(t),D_=(t,e)=>N_(e)?D_(t,e.value):So(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[vh(s,i)+" =>"]=r,n),{})}:fu(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>vh(n))}:$s(e)?vh(e):yt(e)&&!Ce(e)&&!k_(e)?String(e):e,vh=(t,e="")=>{var n;return $s(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xn;class bT{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xn,!e&&xn&&(this.index=(xn.scopes||(xn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=xn;try{return xn=this,e()}finally{xn=n}}}on(){++this._on===1&&(this.prevScope=xn,xn=this)}off(){this._on>0&&--this._on===0&&(xn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function TT(){return xn}let gt;const wh=new WeakSet;class V_{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,xn&&xn.active&&xn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,wh.has(this)&&(wh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||M_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qp(this),F_(this);const e=gt,n=cs;gt=this,cs=!0;try{return this.fn()}finally{U_(this),gt=e,cs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Hd(e);this.deps=this.depsTail=void 0,qp(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?wh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){zh(this)&&this.run()}get dirty(){return zh(this)}}let L_=0,Fa,Ua;function M_(t,e=!1){if(t.flags|=8,e){t.next=Ua,Ua=t;return}t.next=Fa,Fa=t}function jd(){L_++}function qd(){if(--L_>0)return;if(Ua){let e=Ua;for(Ua=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Fa;){let e=Fa;for(Fa=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function F_(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function U_(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Hd(s),IT(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function zh(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&($_(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function $_(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ya)||(t.globalVersion=Ya,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!zh(t))))return;t.flags|=2;const e=t.dep,n=gt,s=cs;gt=t,cs=!0;try{F_(t);const r=t.fn(t._value);(e.version===0||zr(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{gt=n,cs=s,U_(t),t.flags&=-3}}function Hd(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Hd(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function IT(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let cs=!0;const B_=[];function dr(){B_.push(cs),cs=!1}function fr(){const t=B_.pop();cs=t===void 0?!0:t}function qp(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=gt;gt=void 0;try{e()}finally{gt=n}}}let Ya=0;class AT{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Wd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!gt||!cs||gt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==gt)n=this.activeLink=new AT(gt,this),gt.deps?(n.prevDep=gt.depsTail,gt.depsTail.nextDep=n,gt.depsTail=n):gt.deps=gt.depsTail=n,j_(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=gt.depsTail,n.nextDep=void 0,gt.depsTail.nextDep=n,gt.depsTail=n,gt.deps===n&&(gt.deps=s)}return n}trigger(e){this.version++,Ya++,this.notify(e)}notify(e){jd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{qd()}}}function j_(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)j_(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Kh=new WeakMap,Mi=Symbol(""),Gh=Symbol(""),Xa=Symbol("");function _n(t,e,n){if(cs&&gt){let s=Kh.get(t);s||Kh.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Wd),r.map=s,r.key=n),r.track()}}function or(t,e,n,s,r,i){const o=Kh.get(t);if(!o){Ya++;return}const l=u=>{u&&u.trigger()};if(jd(),e==="clear")o.forEach(l);else{const u=Ce(t),h=u&&Bd(n);if(u&&n==="length"){const d=Number(s);o.forEach((m,y)=>{(y==="length"||y===Xa||!$s(y)&&y>=d)&&l(m)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),h&&l(o.get(Xa)),e){case"add":u?h&&l(o.get("length")):(l(o.get(Mi)),So(t)&&l(o.get(Gh)));break;case"delete":u||(l(o.get(Mi)),So(t)&&l(o.get(Gh)));break;case"set":So(t)&&l(o.get(Mi));break}}qd()}function go(t){const e=nt(t);return e===t?e:(_n(e,"iterate",Xa),Zn(t)?e:e.map(on))}function wu(t){return _n(t=nt(t),"iterate",Xa),t}const ST={__proto__:null,[Symbol.iterator](){return Eh(this,Symbol.iterator,on)},concat(...t){return go(this).concat(...t.map(e=>Ce(e)?go(e):e))},entries(){return Eh(this,"entries",t=>(t[1]=on(t[1]),t))},every(t,e){return sr(this,"every",t,e,void 0,arguments)},filter(t,e){return sr(this,"filter",t,e,n=>n.map(on),arguments)},find(t,e){return sr(this,"find",t,e,on,arguments)},findIndex(t,e){return sr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return sr(this,"findLast",t,e,on,arguments)},findLastIndex(t,e){return sr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return sr(this,"forEach",t,e,void 0,arguments)},includes(...t){return bh(this,"includes",t)},indexOf(...t){return bh(this,"indexOf",t)},join(t){return go(this).join(t)},lastIndexOf(...t){return bh(this,"lastIndexOf",t)},map(t,e){return sr(this,"map",t,e,void 0,arguments)},pop(){return Ra(this,"pop")},push(...t){return Ra(this,"push",t)},reduce(t,...e){return Hp(this,"reduce",t,e)},reduceRight(t,...e){return Hp(this,"reduceRight",t,e)},shift(){return Ra(this,"shift")},some(t,e){return sr(this,"some",t,e,void 0,arguments)},splice(...t){return Ra(this,"splice",t)},toReversed(){return go(this).toReversed()},toSorted(t){return go(this).toSorted(t)},toSpliced(...t){return go(this).toSpliced(...t)},unshift(...t){return Ra(this,"unshift",t)},values(){return Eh(this,"values",on)}};function Eh(t,e,n){const s=wu(t),r=s[e]();return s!==t&&!Zn(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const RT=Array.prototype;function sr(t,e,n,s,r,i){const o=wu(t),l=o!==t&&!Zn(t),u=o[e];if(u!==RT[e]){const m=u.apply(t,i);return l?on(m):m}let h=n;o!==t&&(l?h=function(m,y){return n.call(this,on(m),y,t)}:n.length>2&&(h=function(m,y){return n.call(this,m,y,t)}));const d=u.call(o,h,s);return l&&r?r(d):d}function Hp(t,e,n,s){const r=wu(t);let i=n;return r!==t&&(Zn(t)?n.length>3&&(i=function(o,l,u){return n.call(this,o,l,u,t)}):i=function(o,l,u){return n.call(this,o,on(l),u,t)}),r[e](i,...s)}function bh(t,e,n){const s=nt(t);_n(s,"iterate",Xa);const r=s[e](...n);return(r===-1||r===!1)&&Gd(n[0])?(n[0]=nt(n[0]),s[e](...n)):r}function Ra(t,e,n=[]){dr(),jd();const s=nt(t)[e].apply(t,n);return qd(),fr(),s}const CT=Fd("__proto__,__v_isRef,__isVue"),q_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($s));function PT(t){$s(t)||(t=String(t));const e=nt(this);return _n(e,"has",t),e.hasOwnProperty(t)}class H_{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?UT:G_:i?K_:z_).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Ce(e);if(!r){let u;if(o&&(u=ST[n]))return u;if(n==="hasOwnProperty")return PT}const l=Reflect.get(e,n,En(e)?e:s);return($s(n)?q_.has(n):CT(n))||(r||_n(e,"get",n),i)?l:En(l)?o&&Bd(n)?l:l.value:yt(l)?r?J_(l):Eu(l):l}}class W_ extends H_{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const u=Zr(i);if(!Zn(s)&&!Zr(s)&&(i=nt(i),s=nt(s)),!Ce(e)&&En(i)&&!En(s))return u||(i.value=s),!0}const o=Ce(e)&&Bd(n)?Number(n)<e.length:st(e,n),l=Reflect.set(e,n,s,En(e)?e:r);return e===nt(r)&&(o?zr(s,i)&&or(e,"set",n,s):or(e,"add",n,s)),l}deleteProperty(e,n){const s=st(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&or(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!$s(n)||!q_.has(n))&&_n(e,"has",n),s}ownKeys(e){return _n(e,"iterate",Ce(e)?"length":Mi),Reflect.ownKeys(e)}}class kT extends H_{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const OT=new W_,xT=new kT,NT=new W_(!0);const Qh=t=>t,Zl=t=>Reflect.getPrototypeOf(t);function DT(t,e,n){return function(...s){const r=this.__v_raw,i=nt(r),o=So(i),l=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,h=r[t](...s),d=n?Qh:e?Oc:on;return!e&&_n(i,"iterate",u?Gh:Mi),{next(){const{value:m,done:y}=h.next();return y?{value:m,done:y}:{value:l?[d(m[0]),d(m[1])]:d(m),done:y}},[Symbol.iterator](){return this}}}}function ec(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function VT(t,e){const n={get(r){const i=this.__v_raw,o=nt(i),l=nt(r);t||(zr(r,l)&&_n(o,"get",r),_n(o,"get",l));const{has:u}=Zl(o),h=e?Qh:t?Oc:on;if(u.call(o,r))return h(i.get(r));if(u.call(o,l))return h(i.get(l));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&_n(nt(r),"iterate",Mi),r.size},has(r){const i=this.__v_raw,o=nt(i),l=nt(r);return t||(zr(r,l)&&_n(o,"has",r),_n(o,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const o=this,l=o.__v_raw,u=nt(l),h=e?Qh:t?Oc:on;return!t&&_n(u,"iterate",Mi),l.forEach((d,m)=>r.call(i,h(d),h(m),o))}};return bn(n,t?{add:ec("add"),set:ec("set"),delete:ec("delete"),clear:ec("clear")}:{add(r){!e&&!Zn(r)&&!Zr(r)&&(r=nt(r));const i=nt(this);return Zl(i).has.call(i,r)||(i.add(r),or(i,"add",r,r)),this},set(r,i){!e&&!Zn(i)&&!Zr(i)&&(i=nt(i));const o=nt(this),{has:l,get:u}=Zl(o);let h=l.call(o,r);h||(r=nt(r),h=l.call(o,r));const d=u.call(o,r);return o.set(r,i),h?zr(i,d)&&or(o,"set",r,i):or(o,"add",r,i),this},delete(r){const i=nt(this),{has:o,get:l}=Zl(i);let u=o.call(i,r);u||(r=nt(r),u=o.call(i,r)),l&&l.call(i,r);const h=i.delete(r);return u&&or(i,"delete",r,void 0),h},clear(){const r=nt(this),i=r.size!==0,o=r.clear();return i&&or(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=DT(r,t,e)}),n}function zd(t,e){const n=VT(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(st(n,r)&&r in s?n:s,r,i)}const LT={get:zd(!1,!1)},MT={get:zd(!1,!0)},FT={get:zd(!0,!1)};const z_=new WeakMap,K_=new WeakMap,G_=new WeakMap,UT=new WeakMap;function $T(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function BT(t){return t.__v_skip||!Object.isExtensible(t)?0:$T(hT(t))}function Eu(t){return Zr(t)?t:Kd(t,!1,OT,LT,z_)}function Q_(t){return Kd(t,!1,NT,MT,K_)}function J_(t){return Kd(t,!0,xT,FT,G_)}function Kd(t,e,n,s,r){if(!yt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=BT(t);if(i===0)return t;const o=r.get(t);if(o)return o;const l=new Proxy(t,i===2?s:n);return r.set(t,l),l}function Ro(t){return Zr(t)?Ro(t.__v_raw):!!(t&&t.__v_isReactive)}function Zr(t){return!!(t&&t.__v_isReadonly)}function Zn(t){return!!(t&&t.__v_isShallow)}function Gd(t){return t?!!t.__v_raw:!1}function nt(t){const e=t&&t.__v_raw;return e?nt(e):t}function jT(t){return!st(t,"__v_skip")&&Object.isExtensible(t)&&O_(t,"__v_skip",!0),t}const on=t=>yt(t)?Eu(t):t,Oc=t=>yt(t)?J_(t):t;function En(t){return t?t.__v_isRef===!0:!1}function ht(t){return Y_(t,!1)}function qT(t){return Y_(t,!0)}function Y_(t,e){return En(t)?t:new HT(t,e)}class HT{constructor(e,n){this.dep=new Wd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:nt(e),this._value=n?e:on(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Zn(e)||Zr(e);e=s?e:nt(e),zr(e,n)&&(this._rawValue=e,this._value=s?e:on(e),this.dep.trigger())}}function Fi(t){return En(t)?t.value:t}const WT={get:(t,e,n)=>e==="__v_raw"?t:Fi(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return En(r)&&!En(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function X_(t){return Ro(t)?t:new Proxy(t,WT)}class zT{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Wd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ya-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&gt!==this)return M_(this,!0),!0}get value(){const e=this.dep.track();return $_(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function KT(t,e,n=!1){let s,r;return Le(t)?s=t:(s=t.get,r=t.set),new zT(s,r,n)}const tc={},xc=new WeakMap;let xi;function GT(t,e=!1,n=xi){if(n){let s=xc.get(n);s||xc.set(n,s=[]),s.push(t)}}function QT(t,e,n=ft){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:l,call:u}=n,h=se=>r?se:Zn(se)||r===!1||r===0?ar(se,1):ar(se);let d,m,y,T,S=!1,k=!1;if(En(t)?(m=()=>t.value,S=Zn(t)):Ro(t)?(m=()=>h(t),S=!0):Ce(t)?(k=!0,S=t.some(se=>Ro(se)||Zn(se)),m=()=>t.map(se=>{if(En(se))return se.value;if(Ro(se))return h(se);if(Le(se))return u?u(se,2):se()})):Le(t)?e?m=u?()=>u(t,2):t:m=()=>{if(y){dr();try{y()}finally{fr()}}const se=xi;xi=d;try{return u?u(t,3,[T]):t(T)}finally{xi=se}}:m=xs,e&&r){const se=m,ve=r===!0?1/0:r;m=()=>ar(se(),ve)}const D=TT(),U=()=>{d.stop(),D&&D.active&&$d(D.effects,d)};if(i&&e){const se=e;e=(...ve)=>{se(...ve),U()}}let W=k?new Array(t.length).fill(tc):tc;const G=se=>{if(!(!(d.flags&1)||!d.dirty&&!se))if(e){const ve=d.run();if(r||S||(k?ve.some((ce,w)=>zr(ce,W[w])):zr(ve,W))){y&&y();const ce=xi;xi=d;try{const w=[ve,W===tc?void 0:k&&W[0]===tc?[]:W,T];W=ve,u?u(e,3,w):e(...w)}finally{xi=ce}}}else d.run()};return l&&l(G),d=new V_(m),d.scheduler=o?()=>o(G,!1):G,T=se=>GT(se,!1,d),y=d.onStop=()=>{const se=xc.get(d);if(se){if(u)u(se,4);else for(const ve of se)ve();xc.delete(d)}},e?s?G(!0):W=d.run():o?o(G.bind(null,!0),!0):d.run(),U.pause=d.pause.bind(d),U.resume=d.resume.bind(d),U.stop=U,U}function ar(t,e=1/0,n){if(e<=0||!yt(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,En(t))ar(t.value,e,n);else if(Ce(t))for(let s=0;s<t.length;s++)ar(t[s],e,n);else if(fu(t)||So(t))t.forEach(s=>{ar(s,e,n)});else if(k_(t)){for(const s in t)ar(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&ar(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function pl(t,e,n,s){try{return s?t(...s):t()}catch(r){bu(r,e,n)}}function Bs(t,e,n,s){if(Le(t)){const r=pl(t,e,n,s);return r&&C_(r)&&r.catch(i=>{bu(i,e,n)}),r}if(Ce(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Bs(t[i],e,n,s));return r}}function bu(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ft;if(e){let l=e.parent;const u=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](t,u,h)===!1)return}l=l.parent}if(i){dr(),pl(i,null,10,[t,u,h]),fr();return}}JT(t,n,r,s,o)}function JT(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Pn=[];let Ps=-1;const Co=[];let Fr=null,yo=0;const Z_=Promise.resolve();let Nc=null;function Qd(t){const e=Nc||Z_;return t?e.then(this?t.bind(this):t):e}function YT(t){let e=Ps+1,n=Pn.length;for(;e<n;){const s=e+n>>>1,r=Pn[s],i=Za(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Jd(t){if(!(t.flags&1)){const e=Za(t),n=Pn[Pn.length-1];!n||!(t.flags&2)&&e>=Za(n)?Pn.push(t):Pn.splice(YT(e),0,t),t.flags|=1,ey()}}function ey(){Nc||(Nc=Z_.then(ny))}function XT(t){Ce(t)?Co.push(...t):Fr&&t.id===-1?Fr.splice(yo+1,0,t):t.flags&1||(Co.push(t),t.flags|=1),ey()}function Wp(t,e,n=Ps+1){for(;n<Pn.length;n++){const s=Pn[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Pn.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function ty(t){if(Co.length){const e=[...new Set(Co)].sort((n,s)=>Za(n)-Za(s));if(Co.length=0,Fr){Fr.push(...e);return}for(Fr=e,yo=0;yo<Fr.length;yo++){const n=Fr[yo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Fr=null,yo=0}}const Za=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ny(t){try{for(Ps=0;Ps<Pn.length;Ps++){const e=Pn[Ps];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),pl(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ps<Pn.length;Ps++){const e=Pn[Ps];e&&(e.flags&=-2)}Ps=-1,Pn.length=0,ty(),Nc=null,(Pn.length||Co.length)&&ny()}}let Un=null,sy=null;function Dc(t){const e=Un;return Un=t,sy=t&&t.type.__scopeId||null,e}function bt(t,e=Un,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Mc(-1);const i=Dc(e);let o;try{o=t(...r)}finally{Dc(i),s._d&&Mc(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function It(t,e){if(Un===null)return t;const n=Su(Un),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,l,u=ft]=e[r];i&&(Le(i)&&(i={mounted:i,updated:i}),i.deep&&ar(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:u}))}return t}function ki(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const l=r[o];i&&(l.oldValue=i[o].value);let u=l.dir[s];u&&(dr(),Bs(u,n,8,[t.el,l,t,e]),fr())}}const ZT=Symbol("_vte"),eI=t=>t.__isTeleport,tI=Symbol("_leaveCb");function Yd(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Yd(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ry(t,e){return Le(t)?bn({name:t.name},e,{setup:t}):t}function iy(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Vc=new WeakMap;function $a(t,e,n,s,r=!1){if(Ce(t)){t.forEach((S,k)=>$a(S,e&&(Ce(e)?e[k]:e),n,s,r));return}if(Ba(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&$a(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Su(s.component):s.el,o=r?null:i,{i:l,r:u}=t,h=e&&e.r,d=l.refs===ft?l.refs={}:l.refs,m=l.setupState,y=nt(m),T=m===ft?R_:S=>st(y,S);if(h!=null&&h!==u){if(zp(e),zt(h))d[h]=null,T(h)&&(m[h]=null);else if(En(h)){h.value=null;const S=e;S.k&&(d[S.k]=null)}}if(Le(u))pl(u,l,12,[o,d]);else{const S=zt(u),k=En(u);if(S||k){const D=()=>{if(t.f){const U=S?T(u)?m[u]:d[u]:u.value;if(r)Ce(U)&&$d(U,i);else if(Ce(U))U.includes(i)||U.push(i);else if(S)d[u]=[i],T(u)&&(m[u]=d[u]);else{const W=[i];u.value=W,t.k&&(d[t.k]=W)}}else S?(d[u]=o,T(u)&&(m[u]=o)):k&&(u.value=o,t.k&&(d[t.k]=o))};if(o){const U=()=>{D(),Vc.delete(t)};U.id=-1,Vc.set(t,U),Fn(U,n)}else zp(t),D()}}}function zp(t){const e=Vc.get(t);e&&(e.flags|=8,Vc.delete(t))}gu().requestIdleCallback;gu().cancelIdleCallback;const Ba=t=>!!t.type.__asyncLoader,oy=t=>t.type.__isKeepAlive;function nI(t,e){ay(t,"a",e)}function sI(t,e){ay(t,"da",e)}function ay(t,e,n=vn){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Tu(e,s,n),n){let r=n.parent;for(;r&&r.parent;)oy(r.parent.vnode)&&rI(s,e,n,r),r=r.parent}}function rI(t,e,n,s){const r=Tu(e,t,s,!0);cy(()=>{$d(s[e],r)},n)}function Tu(t,e,n=vn,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{dr();const l=ml(n),u=Bs(e,n,t,o);return l(),fr(),u});return s?r.unshift(i):r.push(i),i}}const yr=t=>(e,n=vn)=>{(!tl||t==="sp")&&Tu(t,(...s)=>e(...s),n)},iI=yr("bm"),Xd=yr("m"),oI=yr("bu"),aI=yr("u"),ly=yr("bum"),cy=yr("um"),lI=yr("sp"),cI=yr("rtg"),uI=yr("rtc");function hI(t,e=vn){Tu("ec",t,e)}const dI="components";function js(t,e){return pI(dI,t,!0,e)||t}const fI=Symbol.for("v-ndc");function pI(t,e,n=!0,s=!1){const r=Un||vn;if(r){const i=r.type;{const l=iA(i,!1);if(l&&(l===e||l===es(e)||l===mu(es(e))))return i}const o=Kp(r[t]||i[t],e)||Kp(r.appContext[t],e);return!o&&s?i:o}}function Kp(t,e){return t&&(t[e]||t[es(e)]||t[mu(es(e))])}function us(t,e,n,s){let r;const i=n,o=Ce(t);if(o||zt(t)){const l=o&&Ro(t);let u=!1,h=!1;l&&(u=!Zn(t),h=Zr(t),t=wu(t)),r=new Array(t.length);for(let d=0,m=t.length;d<m;d++)r[d]=e(u?h?Oc(on(t[d])):on(t[d]):t[d],d,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let l=0;l<t;l++)r[l]=e(l+1,l,void 0,i)}else if(yt(t))if(t[Symbol.iterator])r=Array.from(t,(l,u)=>e(l,u,void 0,i));else{const l=Object.keys(t);r=new Array(l.length);for(let u=0,h=l.length;u<h;u++){const d=l[u];r[u]=e(t[d],d,u,i)}}else r=[];return r}const Jh=t=>t?Cy(t)?Su(t):Jh(t.parent):null,ja=bn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Jh(t.parent),$root:t=>Jh(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>hy(t),$forceUpdate:t=>t.f||(t.f=()=>{Jd(t.update)}),$nextTick:t=>t.n||(t.n=Qd.bind(t.proxy)),$watch:t=>LI.bind(t)}),Th=(t,e)=>t!==ft&&!t.__isScriptSetup&&st(t,e),mI={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:l,appContext:u}=t;let h;if(e[0]!=="$"){const T=o[e];if(T!==void 0)switch(T){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Th(s,e))return o[e]=1,s[e];if(r!==ft&&st(r,e))return o[e]=2,r[e];if((h=t.propsOptions[0])&&st(h,e))return o[e]=3,i[e];if(n!==ft&&st(n,e))return o[e]=4,n[e];Yh&&(o[e]=0)}}const d=ja[e];let m,y;if(d)return e==="$attrs"&&_n(t.attrs,"get",""),d(t);if((m=l.__cssModules)&&(m=m[e]))return m;if(n!==ft&&st(n,e))return o[e]=4,n[e];if(y=u.config.globalProperties,st(y,e))return y[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Th(r,e)?(r[e]=n,!0):s!==ft&&st(s,e)?(s[e]=n,!0):st(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i,type:o}},l){let u,h;return!!(n[l]||t!==ft&&l[0]!=="$"&&st(t,l)||Th(e,l)||(u=i[0])&&st(u,l)||st(s,l)||st(ja,l)||st(r.config.globalProperties,l)||(h=o.__cssModules)&&h[l])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:st(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Gp(t){return Ce(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Yh=!0;function gI(t){const e=hy(t),n=t.proxy,s=t.ctx;Yh=!1,e.beforeCreate&&Qp(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:l,provide:u,inject:h,created:d,beforeMount:m,mounted:y,beforeUpdate:T,updated:S,activated:k,deactivated:D,beforeDestroy:U,beforeUnmount:W,destroyed:G,unmounted:se,render:ve,renderTracked:ce,renderTriggered:w,errorCaptured:b,serverPrefetch:R,expose:x,inheritAttrs:O,components:L,directives:A,filters:Ze}=e;if(h&&_I(h,s,null),o)for(const je in o){const Re=o[je];Le(Re)&&(s[je]=Re.bind(n))}if(r){const je=r.call(n,n);yt(je)&&(t.data=Eu(je))}if(Yh=!0,i)for(const je in i){const Re=i[je],Kt=Le(Re)?Re.bind(n,n):Le(Re.get)?Re.get.bind(n,n):xs,In=!Le(Re)&&Le(Re.set)?Re.set.bind(n):xs,K=Rt({get:Kt,set:In});Object.defineProperty(s,je,{enumerable:!0,configurable:!0,get:()=>K.value,set:at=>K.value=at})}if(l)for(const je in l)uy(l[je],s,n,je);if(u){const je=Le(u)?u.call(n):u;Reflect.ownKeys(je).forEach(Re=>{hc(Re,je[Re])})}d&&Qp(d,t,"c");function Ge(je,Re){Ce(Re)?Re.forEach(Kt=>je(Kt.bind(n))):Re&&je(Re.bind(n))}if(Ge(iI,m),Ge(Xd,y),Ge(oI,T),Ge(aI,S),Ge(nI,k),Ge(sI,D),Ge(hI,b),Ge(uI,ce),Ge(cI,w),Ge(ly,W),Ge(cy,se),Ge(lI,R),Ce(x))if(x.length){const je=t.exposed||(t.exposed={});x.forEach(Re=>{Object.defineProperty(je,Re,{get:()=>n[Re],set:Kt=>n[Re]=Kt,enumerable:!0})})}else t.exposed||(t.exposed={});ve&&t.render===xs&&(t.render=ve),O!=null&&(t.inheritAttrs=O),L&&(t.components=L),A&&(t.directives=A),R&&iy(t)}function _I(t,e,n=xs){Ce(t)&&(t=Xh(t));for(const s in t){const r=t[s];let i;yt(r)?"default"in r?i=Ns(r.from||s,r.default,!0):i=Ns(r.from||s):i=Ns(r),En(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Qp(t,e,n){Bs(Ce(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function uy(t,e,n,s){let r=s.includes(".")?Ty(n,s):()=>n[s];if(zt(t)){const i=e[t];Le(i)&&dc(r,i)}else if(Le(t))dc(r,t.bind(n));else if(yt(t))if(Ce(t))t.forEach(i=>uy(i,e,n,s));else{const i=Le(t.handler)?t.handler.bind(n):e[t.handler];Le(i)&&dc(r,i,t)}}function hy(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let u;return l?u=l:!r.length&&!n&&!s?u=e:(u={},r.length&&r.forEach(h=>Lc(u,h,o,!0)),Lc(u,e,o)),yt(e)&&i.set(e,u),u}function Lc(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Lc(t,i,n,!0),r&&r.forEach(o=>Lc(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=yI[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const yI={data:Jp,props:Yp,emits:Yp,methods:Oa,computed:Oa,beforeCreate:Cn,created:Cn,beforeMount:Cn,mounted:Cn,beforeUpdate:Cn,updated:Cn,beforeDestroy:Cn,beforeUnmount:Cn,destroyed:Cn,unmounted:Cn,activated:Cn,deactivated:Cn,errorCaptured:Cn,serverPrefetch:Cn,components:Oa,directives:Oa,watch:wI,provide:Jp,inject:vI};function Jp(t,e){return e?t?function(){return bn(Le(t)?t.call(this,this):t,Le(e)?e.call(this,this):e)}:e:t}function vI(t,e){return Oa(Xh(t),Xh(e))}function Xh(t){if(Ce(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Cn(t,e){return t?[...new Set([].concat(t,e))]:e}function Oa(t,e){return t?bn(Object.create(null),t,e):e}function Yp(t,e){return t?Ce(t)&&Ce(e)?[...new Set([...t,...e])]:bn(Object.create(null),Gp(t),Gp(e??{})):e}function wI(t,e){if(!t)return e;if(!e)return t;const n=bn(Object.create(null),t);for(const s in e)n[s]=Cn(t[s],e[s]);return n}function dy(){return{app:null,config:{isNativeTag:R_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let EI=0;function bI(t,e){return function(s,r=null){Le(s)||(s=bn({},s)),r!=null&&!yt(r)&&(r=null);const i=dy(),o=new WeakSet,l=[];let u=!1;const h=i.app={_uid:EI++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:aA,get config(){return i.config},set config(d){},use(d,...m){return o.has(d)||(d&&Le(d.install)?(o.add(d),d.install(h,...m)):Le(d)&&(o.add(d),d(h,...m))),h},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),h},component(d,m){return m?(i.components[d]=m,h):i.components[d]},directive(d,m){return m?(i.directives[d]=m,h):i.directives[d]},mount(d,m,y){if(!u){const T=h._ceVNode||Ue(s,r);return T.appContext=i,y===!0?y="svg":y===!1&&(y=void 0),t(T,d,y),u=!0,h._container=d,d.__vue_app__=h,Su(T.component)}},onUnmount(d){l.push(d)},unmount(){u&&(Bs(l,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(d,m){return i.provides[d]=m,h},runWithContext(d){const m=Po;Po=h;try{return d()}finally{Po=m}}};return h}}let Po=null;function hc(t,e){if(vn){let n=vn.provides;const s=vn.parent&&vn.parent.provides;s===n&&(n=vn.provides=Object.create(s)),n[t]=e}}function Ns(t,e,n=!1){const s=eA();if(s||Po){let r=Po?Po._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Le(e)?e.call(s&&s.proxy):e}}const fy={},py=()=>Object.create(fy),my=t=>Object.getPrototypeOf(t)===fy;function TI(t,e,n,s=!1){const r={},i=py();t.propsDefaults=Object.create(null),gy(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Q_(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function II(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,l=nt(r),[u]=t.propsOptions;let h=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let m=0;m<d.length;m++){let y=d[m];if(Iu(t.emitsOptions,y))continue;const T=e[y];if(u)if(st(i,y))T!==i[y]&&(i[y]=T,h=!0);else{const S=es(y);r[S]=Zh(u,l,S,T,t,!1)}else T!==i[y]&&(i[y]=T,h=!0)}}}else{gy(t,e,r,i)&&(h=!0);let d;for(const m in l)(!e||!st(e,m)&&((d=ai(m))===m||!st(e,d)))&&(u?n&&(n[m]!==void 0||n[d]!==void 0)&&(r[m]=Zh(u,l,m,void 0,t,!0)):delete r[m]);if(i!==l)for(const m in i)(!e||!st(e,m))&&(delete i[m],h=!0)}h&&or(t.attrs,"set","")}function gy(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,l;if(e)for(let u in e){if(Ma(u))continue;const h=e[u];let d;r&&st(r,d=es(u))?!i||!i.includes(d)?n[d]=h:(l||(l={}))[d]=h:Iu(t.emitsOptions,u)||(!(u in s)||h!==s[u])&&(s[u]=h,o=!0)}if(i){const u=nt(n),h=l||ft;for(let d=0;d<i.length;d++){const m=i[d];n[m]=Zh(r,u,m,h[m],t,!st(h,m))}}return o}function Zh(t,e,n,s,r,i){const o=t[n];if(o!=null){const l=st(o,"default");if(l&&s===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&Le(u)){const{propsDefaults:h}=r;if(n in h)s=h[n];else{const d=ml(r);s=h[n]=u.call(null,e),d()}}else s=u;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!l?s=!1:o[1]&&(s===""||s===ai(n))&&(s=!0))}return s}const AI=new WeakMap;function _y(t,e,n=!1){const s=n?AI:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},l=[];let u=!1;if(!Le(t)){const d=m=>{u=!0;const[y,T]=_y(m,e,!0);bn(o,y),T&&l.push(...T)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!u)return yt(t)&&s.set(t,Ao),Ao;if(Ce(i))for(let d=0;d<i.length;d++){const m=es(i[d]);Xp(m)&&(o[m]=ft)}else if(i)for(const d in i){const m=es(d);if(Xp(m)){const y=i[d],T=o[m]=Ce(y)||Le(y)?{type:y}:bn({},y),S=T.type;let k=!1,D=!0;if(Ce(S))for(let U=0;U<S.length;++U){const W=S[U],G=Le(W)&&W.name;if(G==="Boolean"){k=!0;break}else G==="String"&&(D=!1)}else k=Le(S)&&S.name==="Boolean";T[0]=k,T[1]=D,(k||st(T,"default"))&&l.push(m)}}const h=[o,l];return yt(t)&&s.set(t,h),h}function Xp(t){return t[0]!=="$"&&!Ma(t)}const Zd=t=>t==="_"||t==="_ctx"||t==="$stable",ef=t=>Ce(t)?t.map(Os):[Os(t)],SI=(t,e,n)=>{if(e._n)return e;const s=bt((...r)=>ef(e(...r)),n);return s._c=!1,s},yy=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Zd(r))continue;const i=t[r];if(Le(i))e[r]=SI(r,i,s);else if(i!=null){const o=ef(i);e[r]=()=>o}}},vy=(t,e)=>{const n=ef(e);t.slots.default=()=>n},wy=(t,e,n)=>{for(const s in e)(n||!Zd(s))&&(t[s]=e[s])},RI=(t,e,n)=>{const s=t.slots=py();if(t.vnode.shapeFlag&32){const r=e._;r?(wy(s,e,n),n&&O_(s,"_",r,!0)):yy(e,s)}else e&&vy(t,e)},CI=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=ft;if(s.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:wy(r,e,n):(i=!e.$stable,yy(e,r)),o=e}else e&&(vy(t,e),o={default:1});if(i)for(const l in r)!Zd(l)&&o[l]==null&&delete r[l]},Fn=HI;function PI(t){return kI(t)}function kI(t,e){const n=gu();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:l,createComment:u,setText:h,setElementText:d,parentNode:m,nextSibling:y,setScopeId:T=xs,insertStaticContent:S}=t,k=(I,C,M,Q=null,J=null,z=null,ae=void 0,ne=null,ee=!!C.dynamicChildren)=>{if(I===C)return;I&&!Ca(I,C)&&(Q=H(I),at(I,J,z,!0),I=null),C.patchFlag===-2&&(ee=!1,C.dynamicChildren=null);const{type:te,ref:Te,shapeFlag:he}=C;switch(te){case Au:D(I,C,M,Q);break;case ei:U(I,C,M,Q);break;case fc:I==null&&W(C,M,Q,ae);break;case At:L(I,C,M,Q,J,z,ae,ne,ee);break;default:he&1?ve(I,C,M,Q,J,z,ae,ne,ee):he&6?A(I,C,M,Q,J,z,ae,ne,ee):(he&64||he&128)&&te.process(I,C,M,Q,J,z,ae,ne,ee,_e)}Te!=null&&J?$a(Te,I&&I.ref,z,C||I,!C):Te==null&&I&&I.ref!=null&&$a(I.ref,null,z,I,!0)},D=(I,C,M,Q)=>{if(I==null)s(C.el=l(C.children),M,Q);else{const J=C.el=I.el;C.children!==I.children&&h(J,C.children)}},U=(I,C,M,Q)=>{I==null?s(C.el=u(C.children||""),M,Q):C.el=I.el},W=(I,C,M,Q)=>{[I.el,I.anchor]=S(I.children,C,M,Q,I.el,I.anchor)},G=({el:I,anchor:C},M,Q)=>{let J;for(;I&&I!==C;)J=y(I),s(I,M,Q),I=J;s(C,M,Q)},se=({el:I,anchor:C})=>{let M;for(;I&&I!==C;)M=y(I),r(I),I=M;r(C)},ve=(I,C,M,Q,J,z,ae,ne,ee)=>{C.type==="svg"?ae="svg":C.type==="math"&&(ae="mathml"),I==null?ce(C,M,Q,J,z,ae,ne,ee):R(I,C,J,z,ae,ne,ee)},ce=(I,C,M,Q,J,z,ae,ne)=>{let ee,te;const{props:Te,shapeFlag:he,transition:we,dirs:Ee}=I;if(ee=I.el=o(I.type,z,Te&&Te.is,Te),he&8?d(ee,I.children):he&16&&b(I.children,ee,null,Q,J,Ih(I,z),ae,ne),Ee&&ki(I,null,Q,"created"),w(ee,I,I.scopeId,ae,Q),Te){for(const Xe in Te)Xe!=="value"&&!Ma(Xe)&&i(ee,Xe,null,Te[Xe],z,Q);"value"in Te&&i(ee,"value",null,Te.value,z),(te=Te.onVnodeBeforeMount)&&Rs(te,Q,I)}Ee&&ki(I,null,Q,"beforeMount");const Pe=OI(J,we);Pe&&we.beforeEnter(ee),s(ee,C,M),((te=Te&&Te.onVnodeMounted)||Pe||Ee)&&Fn(()=>{te&&Rs(te,Q,I),Pe&&we.enter(ee),Ee&&ki(I,null,Q,"mounted")},J)},w=(I,C,M,Q,J)=>{if(M&&T(I,M),Q)for(let z=0;z<Q.length;z++)T(I,Q[z]);if(J){let z=J.subTree;if(C===z||Ay(z.type)&&(z.ssContent===C||z.ssFallback===C)){const ae=J.vnode;w(I,ae,ae.scopeId,ae.slotScopeIds,J.parent)}}},b=(I,C,M,Q,J,z,ae,ne,ee=0)=>{for(let te=ee;te<I.length;te++){const Te=I[te]=ne?Ur(I[te]):Os(I[te]);k(null,Te,C,M,Q,J,z,ae,ne)}},R=(I,C,M,Q,J,z,ae)=>{const ne=C.el=I.el;let{patchFlag:ee,dynamicChildren:te,dirs:Te}=C;ee|=I.patchFlag&16;const he=I.props||ft,we=C.props||ft;let Ee;if(M&&Oi(M,!1),(Ee=we.onVnodeBeforeUpdate)&&Rs(Ee,M,C,I),Te&&ki(C,I,M,"beforeUpdate"),M&&Oi(M,!0),(he.innerHTML&&we.innerHTML==null||he.textContent&&we.textContent==null)&&d(ne,""),te?x(I.dynamicChildren,te,ne,M,Q,Ih(C,J),z):ae||Re(I,C,ne,null,M,Q,Ih(C,J),z,!1),ee>0){if(ee&16)O(ne,he,we,M,J);else if(ee&2&&he.class!==we.class&&i(ne,"class",null,we.class,J),ee&4&&i(ne,"style",he.style,we.style,J),ee&8){const Pe=C.dynamicProps;for(let Xe=0;Xe<Pe.length;Xe++){const ze=Pe[Xe],Yt=he[ze],kt=we[ze];(kt!==Yt||ze==="value")&&i(ne,ze,Yt,kt,J,M)}}ee&1&&I.children!==C.children&&d(ne,C.children)}else!ae&&te==null&&O(ne,he,we,M,J);((Ee=we.onVnodeUpdated)||Te)&&Fn(()=>{Ee&&Rs(Ee,M,C,I),Te&&ki(C,I,M,"updated")},Q)},x=(I,C,M,Q,J,z,ae)=>{for(let ne=0;ne<C.length;ne++){const ee=I[ne],te=C[ne],Te=ee.el&&(ee.type===At||!Ca(ee,te)||ee.shapeFlag&198)?m(ee.el):M;k(ee,te,Te,null,Q,J,z,ae,!0)}},O=(I,C,M,Q,J)=>{if(C!==M){if(C!==ft)for(const z in C)!Ma(z)&&!(z in M)&&i(I,z,C[z],null,J,Q);for(const z in M){if(Ma(z))continue;const ae=M[z],ne=C[z];ae!==ne&&z!=="value"&&i(I,z,ne,ae,J,Q)}"value"in M&&i(I,"value",C.value,M.value,J)}},L=(I,C,M,Q,J,z,ae,ne,ee)=>{const te=C.el=I?I.el:l(""),Te=C.anchor=I?I.anchor:l("");let{patchFlag:he,dynamicChildren:we,slotScopeIds:Ee}=C;Ee&&(ne=ne?ne.concat(Ee):Ee),I==null?(s(te,M,Q),s(Te,M,Q),b(C.children||[],M,Te,J,z,ae,ne,ee)):he>0&&he&64&&we&&I.dynamicChildren?(x(I.dynamicChildren,we,M,J,z,ae,ne),(C.key!=null||J&&C===J.subTree)&&Ey(I,C,!0)):Re(I,C,M,Te,J,z,ae,ne,ee)},A=(I,C,M,Q,J,z,ae,ne,ee)=>{C.slotScopeIds=ne,I==null?C.shapeFlag&512?J.ctx.activate(C,M,Q,ae,ee):Ze(C,M,Q,J,z,ae,ee):Ft(I,C,ee)},Ze=(I,C,M,Q,J,z,ae)=>{const ne=I.component=ZI(I,Q,J);if(oy(I)&&(ne.ctx.renderer=_e),tA(ne,!1,ae),ne.asyncDep){if(J&&J.registerDep(ne,Ge,ae),!I.el){const ee=ne.subTree=Ue(ei);U(null,ee,C,M),I.placeholder=ee.el}}else Ge(ne,I,C,M,J,z,ae)},Ft=(I,C,M)=>{const Q=C.component=I.component;if(jI(I,C,M))if(Q.asyncDep&&!Q.asyncResolved){je(Q,C,M);return}else Q.next=C,Q.update();else C.el=I.el,Q.vnode=C},Ge=(I,C,M,Q,J,z,ae)=>{const ne=()=>{if(I.isMounted){let{next:he,bu:we,u:Ee,parent:Pe,vnode:Xe}=I;{const Bt=by(I);if(Bt){he&&(he.el=Xe.el,je(I,he,ae)),Bt.asyncDep.then(()=>{I.isUnmounted||ne()});return}}let ze=he,Yt;Oi(I,!1),he?(he.el=Xe.el,je(I,he,ae)):he=Xe,we&&uc(we),(Yt=he.props&&he.props.onVnodeBeforeUpdate)&&Rs(Yt,Pe,he,Xe),Oi(I,!0);const kt=em(I),$t=I.subTree;I.subTree=kt,k($t,kt,m($t.el),H($t),I,J,z),he.el=kt.el,ze===null&&qI(I,kt.el),Ee&&Fn(Ee,J),(Yt=he.props&&he.props.onVnodeUpdated)&&Fn(()=>Rs(Yt,Pe,he,Xe),J)}else{let he;const{el:we,props:Ee}=C,{bm:Pe,m:Xe,parent:ze,root:Yt,type:kt}=I,$t=Ba(C);Oi(I,!1),Pe&&uc(Pe),!$t&&(he=Ee&&Ee.onVnodeBeforeMount)&&Rs(he,ze,C),Oi(I,!0);{Yt.ce&&Yt.ce._def.shadowRoot!==!1&&Yt.ce._injectChildStyle(kt);const Bt=I.subTree=em(I);k(null,Bt,M,Q,I,J,z),C.el=Bt.el}if(Xe&&Fn(Xe,J),!$t&&(he=Ee&&Ee.onVnodeMounted)){const Bt=C;Fn(()=>Rs(he,ze,Bt),J)}(C.shapeFlag&256||ze&&Ba(ze.vnode)&&ze.vnode.shapeFlag&256)&&I.a&&Fn(I.a,J),I.isMounted=!0,C=M=Q=null}};I.scope.on();const ee=I.effect=new V_(ne);I.scope.off();const te=I.update=ee.run.bind(ee),Te=I.job=ee.runIfDirty.bind(ee);Te.i=I,Te.id=I.uid,ee.scheduler=()=>Jd(Te),Oi(I,!0),te()},je=(I,C,M)=>{C.component=I;const Q=I.vnode.props;I.vnode=C,I.next=null,II(I,C.props,Q,M),CI(I,C.children,M),dr(),Wp(I),fr()},Re=(I,C,M,Q,J,z,ae,ne,ee=!1)=>{const te=I&&I.children,Te=I?I.shapeFlag:0,he=C.children,{patchFlag:we,shapeFlag:Ee}=C;if(we>0){if(we&128){In(te,he,M,Q,J,z,ae,ne,ee);return}else if(we&256){Kt(te,he,M,Q,J,z,ae,ne,ee);return}}Ee&8?(Te&16&&Pt(te,J,z),he!==te&&d(M,he)):Te&16?Ee&16?In(te,he,M,Q,J,z,ae,ne,ee):Pt(te,J,z,!0):(Te&8&&d(M,""),Ee&16&&b(he,M,Q,J,z,ae,ne,ee))},Kt=(I,C,M,Q,J,z,ae,ne,ee)=>{I=I||Ao,C=C||Ao;const te=I.length,Te=C.length,he=Math.min(te,Te);let we;for(we=0;we<he;we++){const Ee=C[we]=ee?Ur(C[we]):Os(C[we]);k(I[we],Ee,M,null,J,z,ae,ne,ee)}te>Te?Pt(I,J,z,!0,!1,he):b(C,M,Q,J,z,ae,ne,ee,he)},In=(I,C,M,Q,J,z,ae,ne,ee)=>{let te=0;const Te=C.length;let he=I.length-1,we=Te-1;for(;te<=he&&te<=we;){const Ee=I[te],Pe=C[te]=ee?Ur(C[te]):Os(C[te]);if(Ca(Ee,Pe))k(Ee,Pe,M,null,J,z,ae,ne,ee);else break;te++}for(;te<=he&&te<=we;){const Ee=I[he],Pe=C[we]=ee?Ur(C[we]):Os(C[we]);if(Ca(Ee,Pe))k(Ee,Pe,M,null,J,z,ae,ne,ee);else break;he--,we--}if(te>he){if(te<=we){const Ee=we+1,Pe=Ee<Te?C[Ee].el:Q;for(;te<=we;)k(null,C[te]=ee?Ur(C[te]):Os(C[te]),M,Pe,J,z,ae,ne,ee),te++}}else if(te>we)for(;te<=he;)at(I[te],J,z,!0),te++;else{const Ee=te,Pe=te,Xe=new Map;for(te=Pe;te<=we;te++){const Nt=C[te]=ee?Ur(C[te]):Os(C[te]);Nt.key!=null&&Xe.set(Nt.key,te)}let ze,Yt=0;const kt=we-Pe+1;let $t=!1,Bt=0;const un=new Array(kt);for(te=0;te<kt;te++)un[te]=0;for(te=Ee;te<=he;te++){const Nt=I[te];if(Yt>=kt){at(Nt,J,z,!0);continue}let jt;if(Nt.key!=null)jt=Xe.get(Nt.key);else for(ze=Pe;ze<=we;ze++)if(un[ze-Pe]===0&&Ca(Nt,C[ze])){jt=ze;break}jt===void 0?at(Nt,J,z,!0):(un[jt-Pe]=te+1,jt>=Bt?Bt=jt:$t=!0,k(Nt,C[jt],M,null,J,z,ae,ne,ee),Yt++)}const wr=$t?xI(un):Ao;for(ze=wr.length-1,te=kt-1;te>=0;te--){const Nt=Pe+te,jt=C[Nt],ui=C[Nt+1],Ws=Nt+1<Te?ui.el||ui.placeholder:Q;un[te]===0?k(null,jt,M,Ws,J,z,ae,ne,ee):$t&&(ze<0||te!==wr[ze]?K(jt,M,Ws,2):ze--)}}},K=(I,C,M,Q,J=null)=>{const{el:z,type:ae,transition:ne,children:ee,shapeFlag:te}=I;if(te&6){K(I.component.subTree,C,M,Q);return}if(te&128){I.suspense.move(C,M,Q);return}if(te&64){ae.move(I,C,M,_e);return}if(ae===At){s(z,C,M);for(let he=0;he<ee.length;he++)K(ee[he],C,M,Q);s(I.anchor,C,M);return}if(ae===fc){G(I,C,M);return}if(Q!==2&&te&1&&ne)if(Q===0)ne.beforeEnter(z),s(z,C,M),Fn(()=>ne.enter(z),J);else{const{leave:he,delayLeave:we,afterLeave:Ee}=ne,Pe=()=>{I.ctx.isUnmounted?r(z):s(z,C,M)},Xe=()=>{z._isLeaving&&z[tI](!0),he(z,()=>{Pe(),Ee&&Ee()})};we?we(z,Pe,Xe):Xe()}else s(z,C,M)},at=(I,C,M,Q=!1,J=!1)=>{const{type:z,props:ae,ref:ne,children:ee,dynamicChildren:te,shapeFlag:Te,patchFlag:he,dirs:we,cacheIndex:Ee}=I;if(he===-2&&(J=!1),ne!=null&&(dr(),$a(ne,null,M,I,!0),fr()),Ee!=null&&(C.renderCache[Ee]=void 0),Te&256){C.ctx.deactivate(I);return}const Pe=Te&1&&we,Xe=!Ba(I);let ze;if(Xe&&(ze=ae&&ae.onVnodeBeforeUnmount)&&Rs(ze,C,I),Te&6)xt(I.component,M,Q);else{if(Te&128){I.suspense.unmount(M,Q);return}Pe&&ki(I,null,C,"beforeUnmount"),Te&64?I.type.remove(I,C,M,_e,Q):te&&!te.hasOnce&&(z!==At||he>0&&he&64)?Pt(te,C,M,!1,!0):(z===At&&he&384||!J&&Te&16)&&Pt(ee,C,M),Q&&cn(I)}(Xe&&(ze=ae&&ae.onVnodeUnmounted)||Pe)&&Fn(()=>{ze&&Rs(ze,C,I),Pe&&ki(I,null,C,"unmounted")},M)},cn=I=>{const{type:C,el:M,anchor:Q,transition:J}=I;if(C===At){Ut(M,Q);return}if(C===fc){se(I);return}const z=()=>{r(M),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(I.shapeFlag&1&&J&&!J.persisted){const{leave:ae,delayLeave:ne}=J,ee=()=>ae(M,z);ne?ne(I.el,z,ee):ee()}else z()},Ut=(I,C)=>{let M;for(;I!==C;)M=y(I),r(I),I=M;r(C)},xt=(I,C,M)=>{const{bum:Q,scope:J,job:z,subTree:ae,um:ne,m:ee,a:te}=I;Zp(ee),Zp(te),Q&&uc(Q),J.stop(),z&&(z.flags|=8,at(ae,I,C,M)),ne&&Fn(ne,C),Fn(()=>{I.isUnmounted=!0},C)},Pt=(I,C,M,Q=!1,J=!1,z=0)=>{for(let ae=z;ae<I.length;ae++)at(I[ae],C,M,Q,J)},H=I=>{if(I.shapeFlag&6)return H(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const C=y(I.anchor||I.el),M=C&&C[ZT];return M?y(M):C};let ue=!1;const q=(I,C,M)=>{I==null?C._vnode&&at(C._vnode,null,null,!0):k(C._vnode||null,I,C,null,null,null,M),C._vnode=I,ue||(ue=!0,Wp(),ty(),ue=!1)},_e={p:k,um:at,m:K,r:cn,mt:Ze,mc:b,pc:Re,pbc:x,n:H,o:t};return{render:q,hydrate:void 0,createApp:bI(q)}}function Ih({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Oi({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function OI(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ey(t,e,n=!1){const s=t.children,r=e.children;if(Ce(s)&&Ce(r))for(let i=0;i<s.length;i++){const o=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=Ur(r[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Ey(o,l)),l.type===Au&&l.patchFlag!==-1&&(l.el=o.el),l.type===ei&&!l.el&&(l.el=o.el)}}function xI(t){const e=t.slice(),n=[0];let s,r,i,o,l;const u=t.length;for(s=0;s<u;s++){const h=t[s];if(h!==0){if(r=n[n.length-1],t[r]<h){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<h?i=l+1:o=l;h<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function by(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:by(e)}function Zp(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const NI=Symbol.for("v-scx"),DI=()=>Ns(NI);function VI(t,e){return tf(t,null,e)}function dc(t,e,n){return tf(t,e,n)}function tf(t,e,n=ft){const{immediate:s,deep:r,flush:i,once:o}=n,l=bn({},n),u=e&&s||!e&&i!=="post";let h;if(tl){if(i==="sync"){const T=DI();h=T.__watcherHandles||(T.__watcherHandles=[])}else if(!u){const T=()=>{};return T.stop=xs,T.resume=xs,T.pause=xs,T}}const d=vn;l.call=(T,S,k)=>Bs(T,d,S,k);let m=!1;i==="post"?l.scheduler=T=>{Fn(T,d&&d.suspense)}:i!=="sync"&&(m=!0,l.scheduler=(T,S)=>{S?T():Jd(T)}),l.augmentJob=T=>{e&&(T.flags|=4),m&&(T.flags|=2,d&&(T.id=d.uid,T.i=d))};const y=QT(t,e,l);return tl&&(h?h.push(y):u&&y()),y}function LI(t,e,n){const s=this.proxy,r=zt(t)?t.includes(".")?Ty(s,t):()=>s[t]:t.bind(s,s);let i;Le(e)?i=e:(i=e.handler,n=e);const o=ml(this),l=tf(r,i.bind(s),n);return o(),l}function Ty(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const MI=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${es(e)}Modifiers`]||t[`${ai(e)}Modifiers`];function FI(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||ft;let r=n;const i=e.startsWith("update:"),o=i&&MI(s,e.slice(7));o&&(o.trim&&(r=n.map(d=>zt(d)?d.trim():d)),o.number&&(r=n.map(kc)));let l,u=s[l=yh(e)]||s[l=yh(es(e))];!u&&i&&(u=s[l=yh(ai(e))]),u&&Bs(u,t,6,r);const h=s[l+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Bs(h,t,6,r)}}const UI=new WeakMap;function Iy(t,e,n=!1){const s=n?UI:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},l=!1;if(!Le(t)){const u=h=>{const d=Iy(h,e,!0);d&&(l=!0,bn(o,d))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!l?(yt(t)&&s.set(t,null),null):(Ce(i)?i.forEach(u=>o[u]=null):bn(o,i),yt(t)&&s.set(t,o),o)}function Iu(t,e){return!t||!du(e)?!1:(e=e.slice(2).replace(/Once$/,""),st(t,e[0].toLowerCase()+e.slice(1))||st(t,ai(e))||st(t,e))}function em(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:l,emit:u,render:h,renderCache:d,props:m,data:y,setupState:T,ctx:S,inheritAttrs:k}=t,D=Dc(t);let U,W;try{if(n.shapeFlag&4){const se=r||s,ve=se;U=Os(h.call(ve,se,d,m,T,y,S)),W=l}else{const se=e;U=Os(se.length>1?se(m,{attrs:l,slots:o,emit:u}):se(m,null)),W=e.props?l:$I(l)}}catch(se){qa.length=0,bu(se,t,1),U=Ue(ei)}let G=U;if(W&&k!==!1){const se=Object.keys(W),{shapeFlag:ve}=G;se.length&&ve&7&&(i&&se.some(Ud)&&(W=BI(W,i)),G=Mo(G,W,!1,!0))}return n.dirs&&(G=Mo(G,null,!1,!0),G.dirs=G.dirs?G.dirs.concat(n.dirs):n.dirs),n.transition&&Yd(G,n.transition),U=G,Dc(D),U}const $I=t=>{let e;for(const n in t)(n==="class"||n==="style"||du(n))&&((e||(e={}))[n]=t[n]);return e},BI=(t,e)=>{const n={};for(const s in t)(!Ud(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function jI(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:l,patchFlag:u}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?tm(s,o,h):!!o;if(u&8){const d=e.dynamicProps;for(let m=0;m<d.length;m++){const y=d[m];if(o[y]!==s[y]&&!Iu(h,y))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?tm(s,o,h):!0:!!o;return!1}function tm(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Iu(n,i))return!0}return!1}function qI({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ay=t=>t.__isSuspense;function HI(t,e){e&&e.pendingBranch?Ce(t)?e.effects.push(...t):e.effects.push(t):XT(t)}const At=Symbol.for("v-fgt"),Au=Symbol.for("v-txt"),ei=Symbol.for("v-cmt"),fc=Symbol.for("v-stc"),qa=[];let $n=null;function oe(t=!1){qa.push($n=t?null:[])}function WI(){qa.pop(),$n=qa[qa.length-1]||null}let el=1;function Mc(t,e=!1){el+=t,t<0&&$n&&e&&($n.hasOnce=!0)}function Sy(t){return t.dynamicChildren=el>0?$n||Ao:null,WI(),el>0&&$n&&$n.push(t),t}function le(t,e,n,s,r,i){return Sy(P(t,e,n,s,r,i,!0))}function zI(t,e,n,s,r){return Sy(Ue(t,e,n,s,r,!0))}function Fc(t){return t?t.__v_isVNode===!0:!1}function Ca(t,e){return t.type===e.type&&t.key===e.key}const Ry=({key:t})=>t??null,pc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?zt(t)||En(t)||Le(t)?{i:Un,r:t,k:e,f:!!n}:t:null);function P(t,e=null,n=null,s=0,r=null,i=t===At?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ry(e),ref:e&&pc(e),scopeId:sy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Un};return l?(nf(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=zt(n)?8:16),el>0&&!o&&$n&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&$n.push(u),u}const Ue=KI;function KI(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===fI)&&(t=ei),Fc(t)){const l=Mo(t,e,!0);return n&&nf(l,n),el>0&&!i&&$n&&(l.shapeFlag&6?$n[$n.indexOf(t)]=l:$n.push(l)),l.patchFlag=-2,l}if(oA(t)&&(t=t.__vccOpts),e){e=GI(e);let{class:l,style:u}=e;l&&!zt(l)&&(e.class=yu(l)),yt(u)&&(Gd(u)&&!Ce(u)&&(u=bn({},u)),e.style=_u(u))}const o=zt(t)?1:Ay(t)?128:eI(t)?64:yt(t)?4:Le(t)?2:0;return P(t,e,n,s,r,o,i,!0)}function GI(t){return t?Gd(t)||my(t)?bn({},t):t:null}function Mo(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:l,transition:u}=t,h=e?JI(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&Ry(h),ref:e&&e.ref?n&&i?Ce(i)?i.concat(pc(e)):[i,pc(e)]:pc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==At?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Mo(t.ssContent),ssFallback:t.ssFallback&&Mo(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&s&&Yd(d,u.clone(d)),d}function tt(t=" ",e=0){return Ue(Au,null,t,e)}function QI(t,e){const n=Ue(fc,null,t);return n.staticCount=e,n}function St(t="",e=!1){return e?(oe(),zI(ei,null,t)):Ue(ei,null,t)}function Os(t){return t==null||typeof t=="boolean"?Ue(ei):Ce(t)?Ue(At,null,t.slice()):Fc(t)?Ur(t):Ue(Au,null,String(t))}function Ur(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Mo(t)}function nf(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Ce(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),nf(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!my(e)?e._ctx=Un:r===3&&Un&&(Un.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Le(e)?(e={default:e,_ctx:Un},n=32):(e=String(e),s&64?(n=16,e=[tt(e)]):n=8);t.children=e,t.shapeFlag|=n}function JI(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=yu([e.class,s.class]));else if(r==="style")e.style=_u([e.style,s.style]);else if(du(r)){const i=e[r],o=s[r];o&&i!==o&&!(Ce(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Rs(t,e,n,s=null){Bs(t,e,7,[n,s])}const YI=dy();let XI=0;function ZI(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||YI,i={uid:XI++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new bT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_y(s,r),emitsOptions:Iy(s,r),emit:null,emitted:null,propsDefaults:ft,inheritAttrs:s.inheritAttrs,ctx:ft,data:ft,props:ft,attrs:ft,slots:ft,refs:ft,setupState:ft,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=FI.bind(null,i),t.ce&&t.ce(i),i}let vn=null;const eA=()=>vn||Un;let Uc,ed;{const t=gu(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Uc=e("__VUE_INSTANCE_SETTERS__",n=>vn=n),ed=e("__VUE_SSR_SETTERS__",n=>tl=n)}const ml=t=>{const e=vn;return Uc(t),t.scope.on(),()=>{t.scope.off(),Uc(e)}},nm=()=>{vn&&vn.scope.off(),Uc(null)};function Cy(t){return t.vnode.shapeFlag&4}let tl=!1;function tA(t,e=!1,n=!1){e&&ed(e);const{props:s,children:r}=t.vnode,i=Cy(t);TI(t,s,i,e),RI(t,r,n||e);const o=i?nA(t,e):void 0;return e&&ed(!1),o}function nA(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,mI);const{setup:s}=n;if(s){dr();const r=t.setupContext=s.length>1?rA(t):null,i=ml(t),o=pl(s,t,0,[t.props,r]),l=C_(o);if(fr(),i(),(l||t.sp)&&!Ba(t)&&iy(t),l){if(o.then(nm,nm),e)return o.then(u=>{sm(t,u)}).catch(u=>{bu(u,t,0)});t.asyncDep=o}else sm(t,o)}else Py(t)}function sm(t,e,n){Le(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:yt(e)&&(t.setupState=X_(e)),Py(t)}function Py(t,e,n){const s=t.type;t.render||(t.render=s.render||xs);{const r=ml(t);dr();try{gI(t)}finally{fr(),r()}}}const sA={get(t,e){return _n(t,"get",""),t[e]}};function rA(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,sA),slots:t.slots,emit:t.emit,expose:e}}function Su(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(X_(jT(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ja)return ja[n](t)},has(e,n){return n in e||n in ja}})):t.proxy}function iA(t,e=!0){return Le(t)?t.displayName||t.name:t.name||e&&t.__name}function oA(t){return Le(t)&&"__vccOpts"in t}const Rt=(t,e)=>KT(t,e,tl);function ky(t,e,n){const s=(i,o,l)=>{Mc(-1);try{return Ue(i,o,l)}finally{Mc(1)}},r=arguments.length;return r===2?yt(e)&&!Ce(e)?Fc(e)?s(t,null,[e]):s(t,e):s(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Fc(n)&&(n=[n]),s(t,e,n))}const aA="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let td;const rm=typeof window<"u"&&window.trustedTypes;if(rm)try{td=rm.createPolicy("vue",{createHTML:t=>t})}catch{}const Oy=td?t=>td.createHTML(t):t=>t,lA="http://www.w3.org/2000/svg",cA="http://www.w3.org/1998/Math/MathML",ir=typeof document<"u"?document:null,im=ir&&ir.createElement("template"),uA={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?ir.createElementNS(lA,t):e==="mathml"?ir.createElementNS(cA,t):n?ir.createElement(t,{is:n}):ir.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>ir.createTextNode(t),createComment:t=>ir.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ir.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{im.innerHTML=Oy(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=im.content;if(s==="svg"||s==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},hA=Symbol("_vtc");function dA(t,e,n){const s=t[hA];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const om=Symbol("_vod"),fA=Symbol("_vsh"),pA=Symbol(""),mA=/(?:^|;)\s*display\s*:/;function gA(t,e,n){const s=t.style,r=zt(n);let i=!1;if(n&&!r){if(e)if(zt(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&mc(s,l,"")}else for(const o in e)n[o]==null&&mc(s,o,"");for(const o in n)o==="display"&&(i=!0),mc(s,o,n[o])}else if(r){if(e!==n){const o=s[pA];o&&(n+=";"+o),s.cssText=n,i=mA.test(n)}}else e&&t.removeAttribute("style");om in t&&(t[om]=i?s.display:"",t[fA]&&(s.display="none"))}const am=/\s*!important$/;function mc(t,e,n){if(Ce(n))n.forEach(s=>mc(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=_A(t,e);am.test(n)?t.setProperty(ai(s),n.replace(am,""),"important"):t[s]=n}}const lm=["Webkit","Moz","ms"],Ah={};function _A(t,e){const n=Ah[e];if(n)return n;let s=es(e);if(s!=="filter"&&s in t)return Ah[e]=s;s=mu(s);for(let r=0;r<lm.length;r++){const i=lm[r]+s;if(i in t)return Ah[e]=i}return e}const cm="http://www.w3.org/1999/xlink";function um(t,e,n,s,r,i=vT(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(cm,e.slice(6,e.length)):t.setAttributeNS(cm,e,n):n==null||i&&!x_(n)?t.removeAttribute(e):t.setAttribute(e,i?"":$s(n)?String(n):n)}function hm(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Oy(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=x_(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function Di(t,e,n,s){t.addEventListener(e,n,s)}function yA(t,e,n,s){t.removeEventListener(e,n,s)}const dm=Symbol("_vei");function vA(t,e,n,s,r=null){const i=t[dm]||(t[dm]={}),o=i[e];if(s&&o)o.value=s;else{const[l,u]=wA(e);if(s){const h=i[e]=TA(s,r);Di(t,l,h,u)}else o&&(yA(t,l,o,u),i[e]=void 0)}}const fm=/(?:Once|Passive|Capture)$/;function wA(t){let e;if(fm.test(t)){e={};let s;for(;s=t.match(fm);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ai(t.slice(2)),e]}let Sh=0;const EA=Promise.resolve(),bA=()=>Sh||(EA.then(()=>Sh=0),Sh=Date.now());function TA(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Bs(IA(s,n.value),e,5,[s])};return n.value=t,n.attached=bA(),n}function IA(t,e){if(Ce(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const pm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,AA=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?dA(t,s,o):e==="style"?gA(t,n,s):du(e)?Ud(e)||vA(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):SA(t,e,s,o))?(hm(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&um(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!zt(s))?hm(t,es(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),um(t,e,s,o))};function SA(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&pm(e)&&Le(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return pm(e)&&zt(n)?!1:e in t}const $c=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ce(e)?n=>uc(e,n):e};function RA(t){t.target.composing=!0}function mm(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ko=Symbol("_assign"),Lt={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[ko]=$c(r);const i=s||r.props&&r.props.type==="number";Di(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),i&&(l=kc(l)),t[ko](l)}),n&&Di(t,"change",()=>{t.value=t.value.trim()}),e||(Di(t,"compositionstart",RA),Di(t,"compositionend",mm),Di(t,"change",mm))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[ko]=$c(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?kc(t.value):t.value,u=e??"";l!==u&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===u)||(t.value=u))}},nd={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=fu(e);Di(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?kc(Bc(o)):Bc(o));t[ko](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,Qd(()=>{t._assigning=!1})}),t[ko]=$c(s)},mounted(t,{value:e}){gm(t,e)},beforeUpdate(t,e,n){t[ko]=$c(n)},updated(t,{value:e}){t._assigning||gm(t,e)}};function gm(t,e){const n=t.multiple,s=Ce(e);if(!(n&&!s&&!fu(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],l=Bc(o);if(n)if(s){const u=typeof l;u==="string"||u==="number"?o.selected=e.some(h=>String(h)===String(l)):o.selected=ET(e,l)>-1}else o.selected=e.has(l);else if(vu(Bc(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Bc(t){return"_value"in t?t._value:t.value}const CA=["ctrl","shift","alt","meta"],PA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>CA.some(n=>t[`${n}Key`]&&!e.includes(n))},jc=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=((r,...i)=>{for(let o=0;o<e.length;o++){const l=PA[e[o]];if(l&&l(r,e))return}return t(r,...i)}))},kA={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},OA=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=(r=>{if(!("key"in r))return;const i=ai(r.key);if(e.some(o=>o===i||kA[o]===i))return t(r)}))},xA=bn({patchProp:AA},uA);let _m;function NA(){return _m||(_m=PI(xA))}const DA=((...t)=>{const e=NA().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=LA(s);if(!r)return;const i=e._component;!Le(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,VA(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e});function VA(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function LA(t){return zt(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const vo=typeof document<"u";function xy(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function MA(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&xy(t.default)}const Et=Object.assign;function Rh(t,e){const n={};for(const s in e){const r=e[s];n[s]=hs(r)?r.map(t):t(r)}return n}const Ha=()=>{},hs=Array.isArray,Ny=/#/g,FA=/&/g,UA=/\//g,$A=/=/g,BA=/\?/g,Dy=/\+/g,jA=/%5B/g,qA=/%5D/g,Vy=/%5E/g,HA=/%60/g,Ly=/%7B/g,WA=/%7C/g,My=/%7D/g,zA=/%20/g;function sf(t){return encodeURI(""+t).replace(WA,"|").replace(jA,"[").replace(qA,"]")}function KA(t){return sf(t).replace(Ly,"{").replace(My,"}").replace(Vy,"^")}function sd(t){return sf(t).replace(Dy,"%2B").replace(zA,"+").replace(Ny,"%23").replace(FA,"%26").replace(HA,"`").replace(Ly,"{").replace(My,"}").replace(Vy,"^")}function GA(t){return sd(t).replace($A,"%3D")}function QA(t){return sf(t).replace(Ny,"%23").replace(BA,"%3F")}function JA(t){return t==null?"":QA(t).replace(UA,"%2F")}function nl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const YA=/\/$/,XA=t=>t.replace(YA,"");function Ch(t,e,n="/"){let s,r={},i="",o="";const l=e.indexOf("#");let u=e.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(s=e.slice(0,u),i=e.slice(u+1,l>-1?l:e.length),r=t(i)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=nS(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:nl(o)}}function ZA(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function eS(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Fo(e.matched[s],n.matched[r])&&Fy(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Fo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Fy(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!tS(t[n],e[n]))return!1;return!0}function tS(t,e){return hs(t)?ym(t,e):hs(e)?ym(e,t):t===e}function ym(t,e){return hs(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function nS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Lr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var sl;(function(t){t.pop="pop",t.push="push"})(sl||(sl={}));var qc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(qc||(qc={}));const Ph="";function sS(t){if(!t)if(vo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),XA(t)}const rS=/^[^#]+#/;function iS(t,e){return t.replace(rS,"#")+e}function oS(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const aS=()=>({left:window.scrollX,top:window.scrollY});function lS(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=oS(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function vm(t,e){return(history.state?history.state.position-e:-1)+t}const rd=new Map;function cS(t,e){rd.set(t,e)}function uS(t){const e=rd.get(t);return rd.delete(t),e}function hS(t=""){let e=[],n=[[Ph,{}]],s=0;t=sS(t);function r(l,u={}){s++,s!==n.length&&n.splice(s),n.push([l,u])}function i(l,u,{direction:h,delta:d}){const m={direction:h,delta:d,type:sl.pop};for(const y of e)y(l,u,m)}const o={location:Ph,state:{},base:t,createHref:iS.bind(null,t),replace(l,u){n.splice(s--,1),r(l,u)},push(l,u){r(l,u)},listen(l){return e.push(l),()=>{const u=e.indexOf(l);u>-1&&e.splice(u,1)}},destroy(){e=[],n=[[Ph,{}]],s=0},go(l,u=!0){const h=this.location,d=l<0?qc.back:qc.forward;s=Math.max(0,Math.min(s+l,n.length-1)),u&&i(this.location,h,{direction:d,delta:l})}};return Object.defineProperty(o,"location",{enumerable:!0,get:()=>n[s][0]}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>n[s][1]}),o}function dS(t){return typeof t=="string"||t&&typeof t=="object"}function Uy(t){return typeof t=="string"||typeof t=="symbol"}const $y=Symbol("");var wm;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(wm||(wm={}));function Uo(t,e){return Et(new Error,{type:t,[$y]:!0},e)}function rr(t,e){return t instanceof Error&&$y in t&&(e==null||!!(t.type&e))}const Em="[^/]+?",fS={sensitive:!1,strict:!1,start:!0,end:!0},pS=/[.+*?^${}()[\]/\\]/g;function mS(t,e){const n=Et({},fS,e),s=[];let r=n.start?"^":"";const i=[];for(const h of t){const d=h.length?[]:[90];n.strict&&!h.length&&(r+="/");for(let m=0;m<h.length;m++){const y=h[m];let T=40+(n.sensitive?.25:0);if(y.type===0)m||(r+="/"),r+=y.value.replace(pS,"\\$&"),T+=40;else if(y.type===1){const{value:S,repeatable:k,optional:D,regexp:U}=y;i.push({name:S,repeatable:k,optional:D});const W=U||Em;if(W!==Em){T+=10;try{new RegExp(`(${W})`)}catch(se){throw new Error(`Invalid custom RegExp for param "${S}" (${W}): `+se.message)}}let G=k?`((?:${W})(?:/(?:${W}))*)`:`(${W})`;m||(G=D&&h.length<2?`(?:/${G})`:"/"+G),D&&(G+="?"),r+=G,T+=20,D&&(T+=-8),k&&(T+=-20),W===".*"&&(T+=-50)}d.push(T)}s.push(d)}if(n.strict&&n.end){const h=s.length-1;s[h][s[h].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function l(h){const d=h.match(o),m={};if(!d)return null;for(let y=1;y<d.length;y++){const T=d[y]||"",S=i[y-1];m[S.name]=T&&S.repeatable?T.split("/"):T}return m}function u(h){let d="",m=!1;for(const y of t){(!m||!d.endsWith("/"))&&(d+="/"),m=!1;for(const T of y)if(T.type===0)d+=T.value;else if(T.type===1){const{value:S,repeatable:k,optional:D}=T,U=S in h?h[S]:"";if(hs(U)&&!k)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const W=hs(U)?U.join("/"):U;if(!W)if(D)y.length<2&&(d.endsWith("/")?d=d.slice(0,-1):m=!0);else throw new Error(`Missing required param "${S}"`);d+=W}}return d||"/"}return{re:o,score:s,keys:i,parse:l,stringify:u}}function gS(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function By(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=gS(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(bm(s))return 1;if(bm(r))return-1}return r.length-s.length}function bm(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const _S={type:0,value:""},yS=/[a-zA-Z0-9_]/;function vS(t){if(!t)return[[]];if(t==="/")return[[_S]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(T){throw new Error(`ERR (${n})/"${h}": ${T}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let l=0,u,h="",d="";function m(){h&&(n===0?i.push({type:0,value:h}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:h,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),h="")}function y(){h+=u}for(;l<t.length;){if(u=t[l++],u==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:u==="/"?(h&&m(),o()):u===":"?(m(),n=1):y();break;case 4:y(),n=s;break;case 1:u==="("?n=2:yS.test(u)?y():(m(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:m(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),m(),o(),r}function wS(t,e,n){const s=mS(vS(t.path),n),r=Et(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function ES(t,e){const n=[],s=new Map;e=Sm({strict:!1,end:!0,sensitive:!1},e);function r(m){return s.get(m)}function i(m,y,T){const S=!T,k=Im(m);k.aliasOf=T&&T.record;const D=Sm(e,m),U=[k];if("alias"in m){const se=typeof m.alias=="string"?[m.alias]:m.alias;for(const ve of se)U.push(Im(Et({},k,{components:T?T.record.components:k.components,path:ve,aliasOf:T?T.record:k})))}let W,G;for(const se of U){const{path:ve}=se;if(y&&ve[0]!=="/"){const ce=y.record.path,w=ce[ce.length-1]==="/"?"":"/";se.path=y.record.path+(ve&&w+ve)}if(W=wS(se,y,D),T?T.alias.push(W):(G=G||W,G!==W&&G.alias.push(W),S&&m.name&&!Am(W)&&o(m.name)),jy(W)&&u(W),k.children){const ce=k.children;for(let w=0;w<ce.length;w++)i(ce[w],W,T&&T.children[w])}T=T||W}return G?()=>{o(G)}:Ha}function o(m){if(Uy(m)){const y=s.get(m);y&&(s.delete(m),n.splice(n.indexOf(y),1),y.children.forEach(o),y.alias.forEach(o))}else{const y=n.indexOf(m);y>-1&&(n.splice(y,1),m.record.name&&s.delete(m.record.name),m.children.forEach(o),m.alias.forEach(o))}}function l(){return n}function u(m){const y=IS(m,n);n.splice(y,0,m),m.record.name&&!Am(m)&&s.set(m.record.name,m)}function h(m,y){let T,S={},k,D;if("name"in m&&m.name){if(T=s.get(m.name),!T)throw Uo(1,{location:m});D=T.record.name,S=Et(Tm(y.params,T.keys.filter(G=>!G.optional).concat(T.parent?T.parent.keys.filter(G=>G.optional):[]).map(G=>G.name)),m.params&&Tm(m.params,T.keys.map(G=>G.name))),k=T.stringify(S)}else if(m.path!=null)k=m.path,T=n.find(G=>G.re.test(k)),T&&(S=T.parse(k),D=T.record.name);else{if(T=y.name?s.get(y.name):n.find(G=>G.re.test(y.path)),!T)throw Uo(1,{location:m,currentLocation:y});D=T.record.name,S=Et({},y.params,m.params),k=T.stringify(S)}const U=[];let W=T;for(;W;)U.unshift(W.record),W=W.parent;return{name:D,path:k,params:S,matched:U,meta:TS(U)}}t.forEach(m=>i(m));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:h,removeRoute:o,clearRoutes:d,getRoutes:l,getRecordMatcher:r}}function Tm(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Im(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:bS(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function bS(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Am(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function TS(t){return t.reduce((e,n)=>Et(e,n.meta),{})}function Sm(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function IS(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;By(t,e[i])<0?s=i:n=i+1}const r=AS(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function AS(t){let e=t;for(;e=e.parent;)if(jy(e)&&By(t,e)===0)return e}function jy({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function SS(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Dy," "),o=i.indexOf("="),l=nl(o<0?i:i.slice(0,o)),u=o<0?null:nl(i.slice(o+1));if(l in e){let h=e[l];hs(h)||(h=e[l]=[h]),h.push(u)}else e[l]=u}return e}function Rm(t){let e="";for(let n in t){const s=t[n];if(n=GA(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(hs(s)?s.map(i=>i&&sd(i)):[s&&sd(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function RS(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=hs(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const CS=Symbol(""),Cm=Symbol(""),Ru=Symbol(""),qy=Symbol(""),id=Symbol("");function Pa(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function $r(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((l,u)=>{const h=y=>{y===!1?u(Uo(4,{from:n,to:e})):y instanceof Error?u(y):dS(y)?u(Uo(2,{from:e,to:y})):(o&&s.enterCallbacks[r]===o&&typeof y=="function"&&o.push(y),l())},d=i(()=>t.call(s&&s.instances[r],e,n,h));let m=Promise.resolve(d);t.length<3&&(m=m.then(h)),m.catch(y=>u(y))})}function kh(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const l in o.components){let u=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(xy(u)){const d=(u.__vccOpts||u)[e];d&&i.push($r(d,n,s,o,l,r))}else{let h=u();i.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const m=MA(d)?d.default:d;o.mods[l]=d,o.components[l]=m;const T=(m.__vccOpts||m)[e];return T&&$r(T,n,s,o,l,r)()}))}}return i}function Pm(t){const e=Ns(Ru),n=Ns(qy),s=Rt(()=>{const u=Fi(t.to);return e.resolve(u)}),r=Rt(()=>{const{matched:u}=s.value,{length:h}=u,d=u[h-1],m=n.matched;if(!d||!m.length)return-1;const y=m.findIndex(Fo.bind(null,d));if(y>-1)return y;const T=km(u[h-2]);return h>1&&km(d)===T&&m[m.length-1].path!==T?m.findIndex(Fo.bind(null,u[h-2])):y}),i=Rt(()=>r.value>-1&&NS(n.params,s.value.params)),o=Rt(()=>r.value>-1&&r.value===n.matched.length-1&&Fy(n.params,s.value.params));function l(u={}){if(xS(u)){const h=e[Fi(t.replace)?"replace":"push"](Fi(t.to)).catch(Ha);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:s,href:Rt(()=>s.value.href),isActive:i,isExactActive:o,navigate:l}}function PS(t){return t.length===1?t[0]:t}const kS=ry({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Pm,setup(t,{slots:e}){const n=Eu(Pm(t)),{options:s}=Ns(Ru),r=Rt(()=>({[Om(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Om(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&PS(e.default(n));return t.custom?i:ky("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),OS=kS;function xS(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function NS(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!hs(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function km(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Om=(t,e,n)=>t??e??n,DS=ry({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Ns(id),r=Rt(()=>t.route||s.value),i=Ns(Cm,0),o=Rt(()=>{let h=Fi(i);const{matched:d}=r.value;let m;for(;(m=d[h])&&!m.components;)h++;return h}),l=Rt(()=>r.value.matched[o.value]);hc(Cm,Rt(()=>o.value+1)),hc(CS,l),hc(id,r);const u=ht();return dc(()=>[u.value,l.value,t.name],([h,d,m],[y,T,S])=>{d&&(d.instances[m]=h,T&&T!==d&&h&&h===y&&(d.leaveGuards.size||(d.leaveGuards=T.leaveGuards),d.updateGuards.size||(d.updateGuards=T.updateGuards))),h&&d&&(!T||!Fo(d,T)||!y)&&(d.enterCallbacks[m]||[]).forEach(k=>k(h))},{flush:"post"}),()=>{const h=r.value,d=t.name,m=l.value,y=m&&m.components[d];if(!y)return xm(n.default,{Component:y,route:h});const T=m.props[d],S=T?T===!0?h.params:typeof T=="function"?T(h):T:null,D=ky(y,Et({},S,e,{onVnodeUnmounted:U=>{U.component.isUnmounted&&(m.instances[d]=null)},ref:u}));return xm(n.default,{Component:D,route:h})||D}}});function xm(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const VS=DS;function LS(t){const e=ES(t.routes,t),n=t.parseQuery||SS,s=t.stringifyQuery||Rm,r=t.history,i=Pa(),o=Pa(),l=Pa(),u=qT(Lr);let h=Lr;vo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Rh.bind(null,H=>""+H),m=Rh.bind(null,JA),y=Rh.bind(null,nl);function T(H,ue){let q,_e;return Uy(H)?(q=e.getRecordMatcher(H),_e=ue):_e=H,e.addRoute(_e,q)}function S(H){const ue=e.getRecordMatcher(H);ue&&e.removeRoute(ue)}function k(){return e.getRoutes().map(H=>H.record)}function D(H){return!!e.getRecordMatcher(H)}function U(H,ue){if(ue=Et({},ue||u.value),typeof H=="string"){const M=Ch(n,H,ue.path),Q=e.resolve({path:M.path},ue),J=r.createHref(M.fullPath);return Et(M,Q,{params:y(Q.params),hash:nl(M.hash),redirectedFrom:void 0,href:J})}let q;if(H.path!=null)q=Et({},H,{path:Ch(n,H.path,ue.path).path});else{const M=Et({},H.params);for(const Q in M)M[Q]==null&&delete M[Q];q=Et({},H,{params:m(M)}),ue.params=m(ue.params)}const _e=e.resolve(q,ue),Ye=H.hash||"";_e.params=d(y(_e.params));const I=ZA(s,Et({},H,{hash:KA(Ye),path:_e.path})),C=r.createHref(I);return Et({fullPath:I,hash:Ye,query:s===Rm?RS(H.query):H.query||{}},_e,{redirectedFrom:void 0,href:C})}function W(H){return typeof H=="string"?Ch(n,H,u.value.path):Et({},H)}function G(H,ue){if(h!==H)return Uo(8,{from:ue,to:H})}function se(H){return w(H)}function ve(H){return se(Et(W(H),{replace:!0}))}function ce(H){const ue=H.matched[H.matched.length-1];if(ue&&ue.redirect){const{redirect:q}=ue;let _e=typeof q=="function"?q(H):q;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=W(_e):{path:_e},_e.params={}),Et({query:H.query,hash:H.hash,params:_e.path!=null?{}:H.params},_e)}}function w(H,ue){const q=h=U(H),_e=u.value,Ye=H.state,I=H.force,C=H.replace===!0,M=ce(q);if(M)return w(Et(W(M),{state:typeof M=="object"?Et({},Ye,M.state):Ye,force:I,replace:C}),ue||q);const Q=q;Q.redirectedFrom=ue;let J;return!I&&eS(s,_e,q)&&(J=Uo(16,{to:Q,from:_e}),K(_e,_e,!0,!1)),(J?Promise.resolve(J):x(Q,_e)).catch(z=>rr(z)?rr(z,2)?z:In(z):Re(z,Q,_e)).then(z=>{if(z){if(rr(z,2))return w(Et({replace:C},W(z.to),{state:typeof z.to=="object"?Et({},Ye,z.to.state):Ye,force:I}),ue||Q)}else z=L(Q,_e,!0,C,Ye);return O(Q,_e,z),z})}function b(H,ue){const q=G(H,ue);return q?Promise.reject(q):Promise.resolve()}function R(H){const ue=Ut.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext(H):H()}function x(H,ue){let q;const[_e,Ye,I]=MS(H,ue);q=kh(_e.reverse(),"beforeRouteLeave",H,ue);for(const M of _e)M.leaveGuards.forEach(Q=>{q.push($r(Q,H,ue))});const C=b.bind(null,H,ue);return q.push(C),Pt(q).then(()=>{q=[];for(const M of i.list())q.push($r(M,H,ue));return q.push(C),Pt(q)}).then(()=>{q=kh(Ye,"beforeRouteUpdate",H,ue);for(const M of Ye)M.updateGuards.forEach(Q=>{q.push($r(Q,H,ue))});return q.push(C),Pt(q)}).then(()=>{q=[];for(const M of I)if(M.beforeEnter)if(hs(M.beforeEnter))for(const Q of M.beforeEnter)q.push($r(Q,H,ue));else q.push($r(M.beforeEnter,H,ue));return q.push(C),Pt(q)}).then(()=>(H.matched.forEach(M=>M.enterCallbacks={}),q=kh(I,"beforeRouteEnter",H,ue,R),q.push(C),Pt(q))).then(()=>{q=[];for(const M of o.list())q.push($r(M,H,ue));return q.push(C),Pt(q)}).catch(M=>rr(M,8)?M:Promise.reject(M))}function O(H,ue,q){l.list().forEach(_e=>R(()=>_e(H,ue,q)))}function L(H,ue,q,_e,Ye){const I=G(H,ue);if(I)return I;const C=ue===Lr,M=vo?history.state:{};q&&(_e||C?r.replace(H.fullPath,Et({scroll:C&&M&&M.scroll},Ye)):r.push(H.fullPath,Ye)),u.value=H,K(H,ue,q,C),In()}let A;function Ze(){A||(A=r.listen((H,ue,q)=>{if(!xt.listening)return;const _e=U(H),Ye=ce(_e);if(Ye){w(Et(Ye,{replace:!0,force:!0}),_e).catch(Ha);return}h=_e;const I=u.value;vo&&cS(vm(I.fullPath,q.delta),aS()),x(_e,I).catch(C=>rr(C,12)?C:rr(C,2)?(w(Et(W(C.to),{force:!0}),_e).then(M=>{rr(M,20)&&!q.delta&&q.type===sl.pop&&r.go(-1,!1)}).catch(Ha),Promise.reject()):(q.delta&&r.go(-q.delta,!1),Re(C,_e,I))).then(C=>{C=C||L(_e,I,!1),C&&(q.delta&&!rr(C,8)?r.go(-q.delta,!1):q.type===sl.pop&&rr(C,20)&&r.go(-1,!1)),O(_e,I,C)}).catch(Ha)}))}let Ft=Pa(),Ge=Pa(),je;function Re(H,ue,q){In(H);const _e=Ge.list();return _e.length?_e.forEach(Ye=>Ye(H,ue,q)):console.error(H),Promise.reject(H)}function Kt(){return je&&u.value!==Lr?Promise.resolve():new Promise((H,ue)=>{Ft.add([H,ue])})}function In(H){return je||(je=!H,Ze(),Ft.list().forEach(([ue,q])=>H?q(H):ue()),Ft.reset()),H}function K(H,ue,q,_e){const{scrollBehavior:Ye}=t;if(!vo||!Ye)return Promise.resolve();const I=!q&&uS(vm(H.fullPath,0))||(_e||!q)&&history.state&&history.state.scroll||null;return Qd().then(()=>Ye(H,ue,I)).then(C=>C&&lS(C)).catch(C=>Re(C,H,ue))}const at=H=>r.go(H);let cn;const Ut=new Set,xt={currentRoute:u,listening:!0,addRoute:T,removeRoute:S,clearRoutes:e.clearRoutes,hasRoute:D,getRoutes:k,resolve:U,options:t,push:se,replace:ve,go:at,back:()=>at(-1),forward:()=>at(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:Ge.add,isReady:Kt,install(H){const ue=this;H.component("RouterLink",OS),H.component("RouterView",VS),H.config.globalProperties.$router=ue,Object.defineProperty(H.config.globalProperties,"$route",{enumerable:!0,get:()=>Fi(u)}),vo&&!cn&&u.value===Lr&&(cn=!0,se(r.location).catch(Ye=>{}));const q={};for(const Ye in Lr)Object.defineProperty(q,Ye,{get:()=>u.value[Ye],enumerable:!0});H.provide(Ru,ue),H.provide(qy,Q_(q)),H.provide(id,u);const _e=H.unmount;Ut.add(H),H.unmount=function(){Ut.delete(H),Ut.size<1&&(h=Lr,A&&A(),A=null,u.value=Lr,cn=!1,je=!1),_e()}}};function Pt(H){return H.reduce((ue,q)=>ue.then(()=>R(q)),Promise.resolve())}return xt}function MS(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const l=e.matched[o];l&&(t.matched.find(h=>Fo(h,l))?s.push(l):n.push(l));const u=t.matched[o];u&&(e.matched.find(h=>Fo(h,u))||r.push(u))}return[n,s,r]}function Cu(){return Ns(Ru)}const Hs=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},FS={class:"d-flex flex-column align-items-center"},US={class:"mt-3 w-100"},$S={class:"nav nav-pills nav-justified px-3"},BS={class:"nav-item"},jS={class:"nav-item"},qS={class:"nav-item"},HS={class:"nav-item"},WS={class:"nav-item"},zS={class:"nav-item"},KS={class:"nav-item"},GS={class:"nav-item"},QS={class:"nav-item"},JS={class:"nav-item"},YS={class:"nav-item"},XS={class:"nav-item"},ZS={key:1,class:"nav-item"},e0={__name:"App",setup(t){const e=Cu();function n(h){const d=document.cookie.match(new RegExp("(^| )"+encodeURIComponent(h)+"=([^;]+)"));return d?decodeURIComponent(d[2]):null}function s(h){document.cookie=`${encodeURIComponent(h)}=; path=/; max-age=0; samesite=lax`}const r=ht(null);function i(){try{r.value=JSON.parse(localStorage.getItem("sessionUser")||"null")}catch{r.value=null}}const o=Rt(()=>{const h=n("loginSuccess")==="true";return!!r.value&&h});function l(){localStorage.removeItem("sessionUser"),s("sessionUser"),s("loginSuccess"),i(),e.push("/")}function u(h){(h.key==="sessionUser"||h.key===null)&&i()}return Xd(()=>{i(),window.addEventListener("storage",u)}),ly(()=>{window.removeEventListener("storage",u)}),(h,d)=>{const m=js("RouterLink"),y=js("RouterView");return oe(),le("div",FS,[d[13]||(d[13]=P("h1",{class:"mt-3"},"Clayton Pool Assocation",-1)),P("nav",US,[P("ul",$S,[P("li",BS,[Ue(m,{class:"nav-link",to:"/"},{default:bt(()=>[...d[0]||(d[0]=[tt("Home Page",-1)])]),_:1})]),P("li",jS,[Ue(m,{class:"nav-link",to:"/events"},{default:bt(()=>[...d[1]||(d[1]=[tt("Events",-1)])]),_:1})]),P("li",qS,[Ue(m,{class:"nav-link",to:"/blog"},{default:bt(()=>[...d[2]||(d[2]=[tt("Blog",-1)])]),_:1})]),P("li",HS,[Ue(m,{class:"nav-link",to:"/newsletters"},{default:bt(()=>[...d[3]||(d[3]=[tt("Newsletters",-1)])]),_:1})]),P("li",WS,[Ue(m,{class:"nav-link",to:"/FireRegister"},{default:bt(()=>[...d[4]||(d[4]=[tt("FireRegister",-1)])]),_:1})]),P("li",zS,[Ue(m,{class:"nav-link",to:"/FireLogin"},{default:bt(()=>[...d[5]||(d[5]=[tt("FireLogin",-1)])]),_:1})]),P("li",KS,[Ue(m,{class:"nav-link",to:"/WeatherCheck"},{default:bt(()=>[...d[6]||(d[6]=[tt("WeatherView",-1)])]),_:1})]),P("li",GS,[Ue(m,{class:"nav-link",to:"/addBook"},{default:bt(()=>[...d[7]||(d[7]=[tt("AddBook",-1)])]),_:1})]),P("li",QS,[Ue(m,{class:"nav-link",to:"/getBook"},{default:bt(()=>[...d[8]||(d[8]=[tt("GetBook",-1)])]),_:1})]),P("li",JS,[Ue(m,{class:"nav-link",to:"/CreateBook"},{default:bt(()=>[...d[9]||(d[9]=[tt("CreateBook",-1)])]),_:1})]),P("li",YS,[Ue(m,{class:"nav-link",to:"/GetAllBookAPI"},{default:bt(()=>[...d[10]||(d[10]=[tt("GetAllBookAPI",-1)])]),_:1})]),P("li",XS,[Ue(m,{class:"nav-link",to:"/GetCount"},{default:bt(()=>[...d[11]||(d[11]=[tt("GetBookCount",-1)])]),_:1})]),o.value?(oe(),le("li",{key:0,class:"nav-item",onClick:l}," Logout ")):(oe(),le("li",ZS,[Ue(m,{class:"nav-link",to:"/loginregister"},{default:bt(()=>[...d[12]||(d[12]=[tt("Login | Register",-1)])]),_:1})]))])]),Ue(y,{class:"mt-4"})])}}},t0=Hs(e0,[["__scopeId","data-v-f7274e80"]]);var gc={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var n0=gc.exports,Nm;function s0(){return Nm||(Nm=1,(function(t,e){(function(n,s){t.exports=s()})(n0,function(){const n=new Map,s={set(_,c,p){n.has(_)||n.set(_,new Map);const v=n.get(_);v.has(c)||v.size===0?v.set(c,p):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(v.keys())[0]}.`)},get:(_,c)=>n.has(_)&&n.get(_).get(c)||null,remove(_,c){if(!n.has(_))return;const p=n.get(_);p.delete(c),p.size===0&&n.delete(_)}},r="transitionend",i=_=>(_&&window.CSS&&window.CSS.escape&&(_=_.replace(/#([^\s"#']+)/g,(c,p)=>`#${CSS.escape(p)}`)),_),o=_=>_==null?`${_}`:Object.prototype.toString.call(_).match(/\s([a-z]+)/i)[1].toLowerCase(),l=_=>{_.dispatchEvent(new Event(r))},u=_=>!(!_||typeof _!="object")&&(_.jquery!==void 0&&(_=_[0]),_.nodeType!==void 0),h=_=>u(_)?_.jquery?_[0]:_:typeof _=="string"&&_.length>0?document.querySelector(i(_)):null,d=_=>{if(!u(_)||_.getClientRects().length===0)return!1;const c=getComputedStyle(_).getPropertyValue("visibility")==="visible",p=_.closest("details:not([open])");if(!p)return c;if(p!==_){const v=_.closest("summary");if(v&&v.parentNode!==p||v===null)return!1}return c},m=_=>!_||_.nodeType!==Node.ELEMENT_NODE||!!_.classList.contains("disabled")||(_.disabled!==void 0?_.disabled:_.hasAttribute("disabled")&&_.getAttribute("disabled")!=="false"),y=_=>{if(!document.documentElement.attachShadow)return null;if(typeof _.getRootNode=="function"){const c=_.getRootNode();return c instanceof ShadowRoot?c:null}return _ instanceof ShadowRoot?_:_.parentNode?y(_.parentNode):null},T=()=>{},S=_=>{_.offsetHeight},k=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,D=[],U=()=>document.documentElement.dir==="rtl",W=_=>{var c;c=()=>{const p=k();if(p){const v=_.NAME,N=p.fn[v];p.fn[v]=_.jQueryInterface,p.fn[v].Constructor=_,p.fn[v].noConflict=()=>(p.fn[v]=N,_.jQueryInterface)}},document.readyState==="loading"?(D.length||document.addEventListener("DOMContentLoaded",()=>{for(const p of D)p()}),D.push(c)):c()},G=(_,c=[],p=_)=>typeof _=="function"?_.call(...c):p,se=(_,c,p=!0)=>{if(!p)return void G(_);const v=(j=>{if(!j)return 0;let{transitionDuration:Z,transitionDelay:ie}=window.getComputedStyle(j);const me=Number.parseFloat(Z),ge=Number.parseFloat(ie);return me||ge?(Z=Z.split(",")[0],ie=ie.split(",")[0],1e3*(Number.parseFloat(Z)+Number.parseFloat(ie))):0})(c)+5;let N=!1;const V=({target:j})=>{j===c&&(N=!0,c.removeEventListener(r,V),G(_))};c.addEventListener(r,V),setTimeout(()=>{N||l(c)},v)},ve=(_,c,p,v)=>{const N=_.length;let V=_.indexOf(c);return V===-1?!p&&v?_[N-1]:_[0]:(V+=p?1:-1,v&&(V=(V+N)%N),_[Math.max(0,Math.min(V,N-1))])},ce=/[^.]*(?=\..*)\.|.*/,w=/\..*/,b=/::\d+$/,R={};let x=1;const O={mouseenter:"mouseover",mouseleave:"mouseout"},L=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function A(_,c){return c&&`${c}::${x++}`||_.uidEvent||x++}function Ze(_){const c=A(_);return _.uidEvent=c,R[c]=R[c]||{},R[c]}function Ft(_,c,p=null){return Object.values(_).find(v=>v.callable===c&&v.delegationSelector===p)}function Ge(_,c,p){const v=typeof c=="string",N=v?p:c||p;let V=In(_);return L.has(V)||(V=_),[v,N,V]}function je(_,c,p,v,N){if(typeof c!="string"||!_)return;let[V,j,Z]=Ge(c,p,v);c in O&&(j=(xe=>function(ke){if(!ke.relatedTarget||ke.relatedTarget!==ke.delegateTarget&&!ke.delegateTarget.contains(ke.relatedTarget))return xe.call(this,ke)})(j));const ie=Ze(_),me=ie[Z]||(ie[Z]={}),ge=Ft(me,j,V?p:null);if(ge)return void(ge.oneOff=ge.oneOff&&N);const de=A(j,c.replace(ce,"")),Fe=V?(function(Ie,xe,ke){return function Ne(ct){const mt=Ie.querySelectorAll(xe);for(let{target:Be}=ct;Be&&Be!==this;Be=Be.parentNode)for(const et of mt)if(et===Be)return at(ct,{delegateTarget:Be}),Ne.oneOff&&K.off(Ie,ct.type,xe,ke),ke.apply(Be,[ct])}})(_,p,j):(function(Ie,xe){return function ke(Ne){return at(Ne,{delegateTarget:Ie}),ke.oneOff&&K.off(Ie,Ne.type,xe),xe.apply(Ie,[Ne])}})(_,j);Fe.delegationSelector=V?p:null,Fe.callable=j,Fe.oneOff=N,Fe.uidEvent=de,me[de]=Fe,_.addEventListener(Z,Fe,V)}function Re(_,c,p,v,N){const V=Ft(c[p],v,N);V&&(_.removeEventListener(p,V,!!N),delete c[p][V.uidEvent])}function Kt(_,c,p,v){const N=c[p]||{};for(const[V,j]of Object.entries(N))V.includes(v)&&Re(_,c,p,j.callable,j.delegationSelector)}function In(_){return _=_.replace(w,""),O[_]||_}const K={on(_,c,p,v){je(_,c,p,v,!1)},one(_,c,p,v){je(_,c,p,v,!0)},off(_,c,p,v){if(typeof c!="string"||!_)return;const[N,V,j]=Ge(c,p,v),Z=j!==c,ie=Ze(_),me=ie[j]||{},ge=c.startsWith(".");if(V===void 0){if(ge)for(const de of Object.keys(ie))Kt(_,ie,de,c.slice(1));for(const[de,Fe]of Object.entries(me)){const Ie=de.replace(b,"");Z&&!c.includes(Ie)||Re(_,ie,j,Fe.callable,Fe.delegationSelector)}}else{if(!Object.keys(me).length)return;Re(_,ie,j,V,N?p:null)}},trigger(_,c,p){if(typeof c!="string"||!_)return null;const v=k();let N=null,V=!0,j=!0,Z=!1;c!==In(c)&&v&&(N=v.Event(c,p),v(_).trigger(N),V=!N.isPropagationStopped(),j=!N.isImmediatePropagationStopped(),Z=N.isDefaultPrevented());const ie=at(new Event(c,{bubbles:V,cancelable:!0}),p);return Z&&ie.preventDefault(),j&&_.dispatchEvent(ie),ie.defaultPrevented&&N&&N.preventDefault(),ie}};function at(_,c={}){for(const[p,v]of Object.entries(c))try{_[p]=v}catch{Object.defineProperty(_,p,{configurable:!0,get:()=>v})}return _}function cn(_){if(_==="true")return!0;if(_==="false")return!1;if(_===Number(_).toString())return Number(_);if(_===""||_==="null")return null;if(typeof _!="string")return _;try{return JSON.parse(decodeURIComponent(_))}catch{return _}}function Ut(_){return _.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const xt={setDataAttribute(_,c,p){_.setAttribute(`data-bs-${Ut(c)}`,p)},removeDataAttribute(_,c){_.removeAttribute(`data-bs-${Ut(c)}`)},getDataAttributes(_){if(!_)return{};const c={},p=Object.keys(_.dataset).filter(v=>v.startsWith("bs")&&!v.startsWith("bsConfig"));for(const v of p){let N=v.replace(/^bs/,"");N=N.charAt(0).toLowerCase()+N.slice(1),c[N]=cn(_.dataset[v])}return c},getDataAttribute:(_,c)=>cn(_.getAttribute(`data-bs-${Ut(c)}`))};class Pt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,p){const v=u(p)?xt.getDataAttribute(p,"config"):{};return{...this.constructor.Default,...typeof v=="object"?v:{},...u(p)?xt.getDataAttributes(p):{},...typeof c=="object"?c:{}}}_typeCheckConfig(c,p=this.constructor.DefaultType){for(const[v,N]of Object.entries(p)){const V=c[v],j=u(V)?"element":o(V);if(!new RegExp(N).test(j))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${v}" provided type "${j}" but expected type "${N}".`)}}}class H extends Pt{constructor(c,p){super(),(c=h(c))&&(this._element=c,this._config=this._getConfig(p),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),K.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,p,v=!0){se(c,p,v)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return s.get(h(c),this.DATA_KEY)}static getOrCreateInstance(c,p={}){return this.getInstance(c)||new this(c,typeof p=="object"?p:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const ue=_=>{let c=_.getAttribute("data-bs-target");if(!c||c==="#"){let p=_.getAttribute("href");if(!p||!p.includes("#")&&!p.startsWith("."))return null;p.includes("#")&&!p.startsWith("#")&&(p=`#${p.split("#")[1]}`),c=p&&p!=="#"?p.trim():null}return c?c.split(",").map(p=>i(p)).join(","):null},q={find:(_,c=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(c,_)),findOne:(_,c=document.documentElement)=>Element.prototype.querySelector.call(c,_),children:(_,c)=>[].concat(..._.children).filter(p=>p.matches(c)),parents(_,c){const p=[];let v=_.parentNode.closest(c);for(;v;)p.push(v),v=v.parentNode.closest(c);return p},prev(_,c){let p=_.previousElementSibling;for(;p;){if(p.matches(c))return[p];p=p.previousElementSibling}return[]},next(_,c){let p=_.nextElementSibling;for(;p;){if(p.matches(c))return[p];p=p.nextElementSibling}return[]},focusableChildren(_){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(p=>`${p}:not([tabindex^="-"])`).join(",");return this.find(c,_).filter(p=>!m(p)&&d(p))},getSelectorFromElement(_){const c=ue(_);return c&&q.findOne(c)?c:null},getElementFromSelector(_){const c=ue(_);return c?q.findOne(c):null},getMultipleElementsFromSelector(_){const c=ue(_);return c?q.find(c):[]}},_e=(_,c="hide")=>{const p=`click.dismiss${_.EVENT_KEY}`,v=_.NAME;K.on(document,p,`[data-bs-dismiss="${v}"]`,function(N){if(["A","AREA"].includes(this.tagName)&&N.preventDefault(),m(this))return;const V=q.getElementFromSelector(this)||this.closest(`.${v}`);_.getOrCreateInstance(V)[c]()})},Ye=".bs.alert",I=`close${Ye}`,C=`closed${Ye}`;class M extends H{static get NAME(){return"alert"}close(){if(K.trigger(this._element,I).defaultPrevented)return;this._element.classList.remove("show");const c=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,c)}_destroyElement(){this._element.remove(),K.trigger(this._element,C),this.dispose()}static jQueryInterface(c){return this.each(function(){const p=M.getOrCreateInstance(this);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c](this)}})}}_e(M,"close"),W(M);const Q='[data-bs-toggle="button"]';class J extends H{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(c){return this.each(function(){const p=J.getOrCreateInstance(this);c==="toggle"&&p[c]()})}}K.on(document,"click.bs.button.data-api",Q,_=>{_.preventDefault();const c=_.target.closest(Q);J.getOrCreateInstance(c).toggle()}),W(J);const z=".bs.swipe",ae=`touchstart${z}`,ne=`touchmove${z}`,ee=`touchend${z}`,te=`pointerdown${z}`,Te=`pointerup${z}`,he={endCallback:null,leftCallback:null,rightCallback:null},we={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ee extends Pt{constructor(c,p){super(),this._element=c,c&&Ee.isSupported()&&(this._config=this._getConfig(p),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return he}static get DefaultType(){return we}static get NAME(){return"swipe"}dispose(){K.off(this._element,z)}_start(c){this._supportPointerEvents?this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX):this._deltaX=c.touches[0].clientX}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),G(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=40)return;const p=c/this._deltaX;this._deltaX=0,p&&G(p>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(K.on(this._element,te,c=>this._start(c)),K.on(this._element,Te,c=>this._end(c)),this._element.classList.add("pointer-event")):(K.on(this._element,ae,c=>this._start(c)),K.on(this._element,ne,c=>this._move(c)),K.on(this._element,ee,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&(c.pointerType==="pen"||c.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Pe=".bs.carousel",Xe=".data-api",ze="ArrowLeft",Yt="ArrowRight",kt="next",$t="prev",Bt="left",un="right",wr=`slide${Pe}`,Nt=`slid${Pe}`,jt=`keydown${Pe}`,ui=`mouseenter${Pe}`,Ws=`mouseleave${Pe}`,xl=`dragstart${Pe}`,hi=`load${Pe}${Xe}`,Nl=`click${Pe}${Xe}`,Xt="carousel",di="active",Er=".active",br=".carousel-item",Xu=Er+br,Zu={[ze]:un,[Yt]:Bt},Tr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},eh={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ir extends H{constructor(c,p){super(c,p),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=q.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Xt&&this.cycle()}static get Default(){return Tr}static get DefaultType(){return eh}static get NAME(){return"carousel"}next(){this._slide(kt)}nextWhenVisible(){!document.hidden&&d(this._element)&&this.next()}prev(){this._slide($t)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?K.one(this._element,Nt,()=>this.cycle()):this.cycle())}to(c){const p=this._getItems();if(c>p.length-1||c<0)return;if(this._isSliding)return void K.one(this._element,Nt,()=>this.to(c));const v=this._getItemIndex(this._getActive());if(v===c)return;const N=c>v?kt:$t;this._slide(N,p[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&K.on(this._element,jt,c=>this._keydown(c)),this._config.pause==="hover"&&(K.on(this._element,ui,()=>this.pause()),K.on(this._element,Ws,()=>this._maybeEnableCycle())),this._config.touch&&Ee.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of q.find(".carousel-item img",this._element))K.on(p,xl,v=>v.preventDefault());const c={leftCallback:()=>this._slide(this._directionToOrder(Bt)),rightCallback:()=>this._slide(this._directionToOrder(un)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Ee(this._element,c)}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const p=Zu[c.key];p&&(c.preventDefault(),this._slide(this._directionToOrder(p)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const p=q.findOne(Er,this._indicatorsElement);p.classList.remove(di),p.removeAttribute("aria-current");const v=q.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);v&&(v.classList.add(di),v.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const p=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=p||this._config.defaultInterval}_slide(c,p=null){if(this._isSliding)return;const v=this._getActive(),N=c===kt,V=p||ve(this._getItems(),v,N,this._config.wrap);if(V===v)return;const j=this._getItemIndex(V),Z=de=>K.trigger(this._element,de,{relatedTarget:V,direction:this._orderToDirection(c),from:this._getItemIndex(v),to:j});if(Z(wr).defaultPrevented||!v||!V)return;const ie=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(j),this._activeElement=V;const me=N?"carousel-item-start":"carousel-item-end",ge=N?"carousel-item-next":"carousel-item-prev";V.classList.add(ge),S(V),v.classList.add(me),V.classList.add(me),this._queueCallback(()=>{V.classList.remove(me,ge),V.classList.add(di),v.classList.remove(di,ge,me),this._isSliding=!1,Z(Nt)},v,this._isAnimated()),ie&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return q.findOne(Xu,this._element)}_getItems(){return q.find(br,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return U()?c===Bt?$t:kt:c===Bt?kt:$t}_orderToDirection(c){return U()?c===$t?Bt:un:c===$t?un:Bt}static jQueryInterface(c){return this.each(function(){const p=Ir.getOrCreateInstance(this,c);if(typeof c!="number"){if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}}else p.to(c)})}}K.on(document,Nl,"[data-bs-slide], [data-bs-slide-to]",function(_){const c=q.getElementFromSelector(this);if(!c||!c.classList.contains(Xt))return;_.preventDefault();const p=Ir.getOrCreateInstance(c),v=this.getAttribute("data-bs-slide-to");return v?(p.to(v),void p._maybeEnableCycle()):xt.getDataAttribute(this,"slide")==="next"?(p.next(),void p._maybeEnableCycle()):(p.prev(),void p._maybeEnableCycle())}),K.on(window,hi,()=>{const _=q.find('[data-bs-ride="carousel"]');for(const c of _)Ir.getOrCreateInstance(c)}),W(Ir);const ms=".bs.collapse",Dl=`show${ms}`,Vl=`shown${ms}`,ra=`hide${ms}`,fi=`hidden${ms}`,th=`click${ms}.data-api`,jn="show",zs="collapse",pi="collapsing",ia=`:scope .${zs} .${zs}`,mi='[data-bs-toggle="collapse"]',Ll={parent:null,toggle:!0},nh={parent:"(null|element)",toggle:"boolean"};class Ks extends H{constructor(c,p){super(c,p),this._isTransitioning=!1,this._triggerArray=[];const v=q.find(mi);for(const N of v){const V=q.getSelectorFromElement(N),j=q.find(V).filter(Z=>Z===this._element);V!==null&&j.length&&this._triggerArray.push(N)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ll}static get DefaultType(){return nh}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(N=>N!==this._element).map(N=>Ks.getOrCreateInstance(N,{toggle:!1}))),c.length&&c[0]._isTransitioning||K.trigger(this._element,Dl).defaultPrevented)return;for(const N of c)N.hide();const p=this._getDimension();this._element.classList.remove(zs),this._element.classList.add(pi),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const v=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(pi),this._element.classList.add(zs,jn),this._element.style[p]="",K.trigger(this._element,Vl)},this._element,!0),this._element.style[p]=`${this._element[v]}px`}hide(){if(this._isTransitioning||!this._isShown()||K.trigger(this._element,ra).defaultPrevented)return;const c=this._getDimension();this._element.style[c]=`${this._element.getBoundingClientRect()[c]}px`,S(this._element),this._element.classList.add(pi),this._element.classList.remove(zs,jn);for(const p of this._triggerArray){const v=q.getElementFromSelector(p);v&&!this._isShown(v)&&this._addAriaAndCollapsedClass([p],!1)}this._isTransitioning=!0,this._element.style[c]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(pi),this._element.classList.add(zs),K.trigger(this._element,fi)},this._element,!0)}_isShown(c=this._element){return c.classList.contains(jn)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=h(c.parent),c}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(mi);for(const p of c){const v=q.getElementFromSelector(p);v&&this._addAriaAndCollapsedClass([p],this._isShown(v))}}_getFirstLevelChildren(c){const p=q.find(ia,this._config.parent);return q.find(c,this._config.parent).filter(v=>!p.includes(v))}_addAriaAndCollapsedClass(c,p){if(c.length)for(const v of c)v.classList.toggle("collapsed",!p),v.setAttribute("aria-expanded",p)}static jQueryInterface(c){const p={};return typeof c=="string"&&/show|hide/.test(c)&&(p.toggle=!1),this.each(function(){const v=Ks.getOrCreateInstance(this,p);if(typeof c=="string"){if(v[c]===void 0)throw new TypeError(`No method named "${c}"`);v[c]()}})}}K.on(document,th,mi,function(_){(_.target.tagName==="A"||_.delegateTarget&&_.delegateTarget.tagName==="A")&&_.preventDefault();for(const c of q.getMultipleElementsFromSelector(this))Ks.getOrCreateInstance(c,{toggle:!1}).toggle()}),W(Ks);var sn="top",Zt="bottom",hn="right",Gt="left",gs="auto",kn=[sn,Zt,hn,Gt],ts="start",Ar="end",oa="clippingParents",Xi="viewport",Gs="popper",Zi="reference",gi=kn.reduce(function(_,c){return _.concat([c+"-"+ts,c+"-"+Ar])},[]),eo=[].concat(kn,[gs]).reduce(function(_,c){return _.concat([c,c+"-"+ts,c+"-"+Ar])},[]),aa="beforeRead",la="read",Ml="afterRead",ns="beforeMain",Ln="main",Sr="afterMain",Rr="beforeWrite",to="write",lt="afterWrite",_i=[aa,la,Ml,ns,Ln,Sr,Rr,to,lt];function dn(_){return _?(_.nodeName||"").toLowerCase():null}function Qt(_){if(_==null)return window;if(_.toString()!=="[object Window]"){var c=_.ownerDocument;return c&&c.defaultView||window}return _}function Qs(_){return _ instanceof Qt(_).Element||_ instanceof Element}function An(_){return _ instanceof Qt(_).HTMLElement||_ instanceof HTMLElement}function ca(_){return typeof ShadowRoot<"u"&&(_ instanceof Qt(_).ShadowRoot||_ instanceof ShadowRoot)}const ua={name:"applyStyles",enabled:!0,phase:"write",fn:function(_){var c=_.state;Object.keys(c.elements).forEach(function(p){var v=c.styles[p]||{},N=c.attributes[p]||{},V=c.elements[p];An(V)&&dn(V)&&(Object.assign(V.style,v),Object.keys(N).forEach(function(j){var Z=N[j];Z===!1?V.removeAttribute(j):V.setAttribute(j,Z===!0?"":Z)}))})},effect:function(_){var c=_.state,p={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,p.popper),c.styles=p,c.elements.arrow&&Object.assign(c.elements.arrow.style,p.arrow),function(){Object.keys(c.elements).forEach(function(v){var N=c.elements[v],V=c.attributes[v]||{},j=Object.keys(c.styles.hasOwnProperty(v)?c.styles[v]:p[v]).reduce(function(Z,ie){return Z[ie]="",Z},{});An(N)&&dn(N)&&(Object.assign(N.style,j),Object.keys(V).forEach(function(Z){N.removeAttribute(Z)}))})}},requires:["computeStyles"]};function qn(_){return _.split("-")[0]}var Js=Math.max,_s=Math.min,On=Math.round;function no(){var _=navigator.userAgentData;return _!=null&&_.brands&&Array.isArray(_.brands)?_.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function ha(){return!/^((?!chrome|android).)*safari/i.test(no())}function Ys(_,c,p){c===void 0&&(c=!1),p===void 0&&(p=!1);var v=_.getBoundingClientRect(),N=1,V=1;c&&An(_)&&(N=_.offsetWidth>0&&On(v.width)/_.offsetWidth||1,V=_.offsetHeight>0&&On(v.height)/_.offsetHeight||1);var j=(Qs(_)?Qt(_):window).visualViewport,Z=!ha()&&p,ie=(v.left+(Z&&j?j.offsetLeft:0))/N,me=(v.top+(Z&&j?j.offsetTop:0))/V,ge=v.width/N,de=v.height/V;return{width:ge,height:de,top:me,right:ie+ge,bottom:me+de,left:ie,x:ie,y:me}}function so(_){var c=Ys(_),p=_.offsetWidth,v=_.offsetHeight;return Math.abs(c.width-p)<=1&&(p=c.width),Math.abs(c.height-v)<=1&&(v=c.height),{x:_.offsetLeft,y:_.offsetTop,width:p,height:v}}function da(_,c){var p=c.getRootNode&&c.getRootNode();if(_.contains(c))return!0;if(p&&ca(p)){var v=c;do{if(v&&_.isSameNode(v))return!0;v=v.parentNode||v.host}while(v)}return!1}function fn(_){return Qt(_).getComputedStyle(_)}function sh(_){return["table","td","th"].indexOf(dn(_))>=0}function ys(_){return((Qs(_)?_.ownerDocument:_.document)||window.document).documentElement}function ro(_){return dn(_)==="html"?_:_.assignedSlot||_.parentNode||(ca(_)?_.host:null)||ys(_)}function ss(_){return An(_)&&fn(_).position!=="fixed"?_.offsetParent:null}function yi(_){for(var c=Qt(_),p=ss(_);p&&sh(p)&&fn(p).position==="static";)p=ss(p);return p&&(dn(p)==="html"||dn(p)==="body"&&fn(p).position==="static")?c:p||(function(v){var N=/firefox/i.test(no());if(/Trident/i.test(no())&&An(v)&&fn(v).position==="fixed")return null;var V=ro(v);for(ca(V)&&(V=V.host);An(V)&&["html","body"].indexOf(dn(V))<0;){var j=fn(V);if(j.transform!=="none"||j.perspective!=="none"||j.contain==="paint"||["transform","perspective"].indexOf(j.willChange)!==-1||N&&j.willChange==="filter"||N&&j.filter&&j.filter!=="none")return V;V=V.parentNode}return null})(_)||c}function vi(_){return["top","bottom"].indexOf(_)>=0?"x":"y"}function vs(_,c,p){return Js(_,_s(c,p))}function fa(_){return Object.assign({},{top:0,right:0,bottom:0,left:0},_)}function Cr(_,c){return c.reduce(function(p,v){return p[v]=_,p},{})}const Pr={name:"arrow",enabled:!0,phase:"main",fn:function(_){var c,p=_.state,v=_.name,N=_.options,V=p.elements.arrow,j=p.modifiersData.popperOffsets,Z=qn(p.placement),ie=vi(Z),me=[Gt,hn].indexOf(Z)>=0?"height":"width";if(V&&j){var ge=(function(ut,ot){return fa(typeof(ut=typeof ut=="function"?ut(Object.assign({},ot.rects,{placement:ot.placement})):ut)!="number"?ut:Cr(ut,kn))})(N.padding,p),de=so(V),Fe=ie==="y"?sn:Gt,Ie=ie==="y"?Zt:hn,xe=p.rects.reference[me]+p.rects.reference[ie]-j[ie]-p.rects.popper[me],ke=j[ie]-p.rects.reference[ie],Ne=yi(V),ct=Ne?ie==="y"?Ne.clientHeight||0:Ne.clientWidth||0:0,mt=xe/2-ke/2,Be=ge[Fe],et=ct-de[me]-ge[Ie],$e=ct/2-de[me]/2+mt,Ke=vs(Be,$e,et),it=ie;p.modifiersData[v]=((c={})[it]=Ke,c.centerOffset=Ke-$e,c)}},effect:function(_){var c=_.state,p=_.options.element,v=p===void 0?"[data-popper-arrow]":p;v!=null&&(typeof v!="string"||(v=c.elements.popper.querySelector(v)))&&da(c.elements.popper,v)&&(c.elements.arrow=v)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xs(_){return _.split("-")[1]}var pa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wt(_){var c,p=_.popper,v=_.popperRect,N=_.placement,V=_.variation,j=_.offsets,Z=_.position,ie=_.gpuAcceleration,me=_.adaptive,ge=_.roundOffsets,de=_.isFixed,Fe=j.x,Ie=Fe===void 0?0:Fe,xe=j.y,ke=xe===void 0?0:xe,Ne=typeof ge=="function"?ge({x:Ie,y:ke}):{x:Ie,y:ke};Ie=Ne.x,ke=Ne.y;var ct=j.hasOwnProperty("x"),mt=j.hasOwnProperty("y"),Be=Gt,et=sn,$e=window;if(me){var Ke=yi(p),it="clientHeight",ut="clientWidth";Ke===Qt(p)&&fn(Ke=ys(p)).position!=="static"&&Z==="absolute"&&(it="scrollHeight",ut="scrollWidth"),(N===sn||(N===Gt||N===hn)&&V===Ar)&&(et=Zt,ke-=(de&&Ke===$e&&$e.visualViewport?$e.visualViewport.height:Ke[it])-v.height,ke*=ie?1:-1),N!==Gt&&(N!==sn&&N!==Zt||V!==Ar)||(Be=hn,Ie-=(de&&Ke===$e&&$e.visualViewport?$e.visualViewport.width:Ke[ut])-v.width,Ie*=ie?1:-1)}var ot,Vt=Object.assign({position:Z},me&&pa),Mn=ge===!0?(function(os,Sn){var Kn=os.x,Gn=os.y,Ot=Sn.devicePixelRatio||1;return{x:On(Kn*Ot)/Ot||0,y:On(Gn*Ot)/Ot||0}})({x:Ie,y:ke},Qt(p)):{x:Ie,y:ke};return Ie=Mn.x,ke=Mn.y,ie?Object.assign({},Vt,((ot={})[et]=mt?"0":"",ot[Be]=ct?"0":"",ot.transform=($e.devicePixelRatio||1)<=1?"translate("+Ie+"px, "+ke+"px)":"translate3d("+Ie+"px, "+ke+"px, 0)",ot)):Object.assign({},Vt,((c={})[et]=mt?ke+"px":"",c[Be]=ct?Ie+"px":"",c.transform="",c))}const ma={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(_){var c=_.state,p=_.options,v=p.gpuAcceleration,N=v===void 0||v,V=p.adaptive,j=V===void 0||V,Z=p.roundOffsets,ie=Z===void 0||Z,me={placement:qn(c.placement),variation:Xs(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:N,isFixed:c.options.strategy==="fixed"};c.modifiersData.popperOffsets!=null&&(c.styles.popper=Object.assign({},c.styles.popper,wt(Object.assign({},me,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:j,roundOffsets:ie})))),c.modifiersData.arrow!=null&&(c.styles.arrow=Object.assign({},c.styles.arrow,wt(Object.assign({},me,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ie})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})},data:{}};var io={passive:!0};const oo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(_){var c=_.state,p=_.instance,v=_.options,N=v.scroll,V=N===void 0||N,j=v.resize,Z=j===void 0||j,ie=Qt(c.elements.popper),me=[].concat(c.scrollParents.reference,c.scrollParents.popper);return V&&me.forEach(function(ge){ge.addEventListener("scroll",p.update,io)}),Z&&ie.addEventListener("resize",p.update,io),function(){V&&me.forEach(function(ge){ge.removeEventListener("scroll",p.update,io)}),Z&&ie.removeEventListener("resize",p.update,io)}},data:{}};var Fl={left:"right",right:"left",bottom:"top",top:"bottom"};function wi(_){return _.replace(/left|right|bottom|top/g,function(c){return Fl[c]})}var ao={start:"end",end:"start"};function rs(_){return _.replace(/start|end/g,function(c){return ao[c]})}function lo(_){var c=Qt(_);return{scrollLeft:c.pageXOffset,scrollTop:c.pageYOffset}}function ga(_){return Ys(ys(_)).left+lo(_).scrollLeft}function Zs(_){var c=fn(_),p=c.overflow,v=c.overflowX,N=c.overflowY;return/auto|scroll|overlay|hidden/.test(p+N+v)}function _a(_){return["html","body","#document"].indexOf(dn(_))>=0?_.ownerDocument.body:An(_)&&Zs(_)?_:_a(ro(_))}function er(_,c){var p;c===void 0&&(c=[]);var v=_a(_),N=v===((p=_.ownerDocument)==null?void 0:p.body),V=Qt(v),j=N?[V].concat(V.visualViewport||[],Zs(v)?v:[]):v,Z=c.concat(j);return N?Z:Z.concat(er(ro(j)))}function kr(_){return Object.assign({},_,{left:_.x,top:_.y,right:_.x+_.width,bottom:_.y+_.height})}function ya(_,c,p){return c===Xi?kr((function(v,N){var V=Qt(v),j=ys(v),Z=V.visualViewport,ie=j.clientWidth,me=j.clientHeight,ge=0,de=0;if(Z){ie=Z.width,me=Z.height;var Fe=ha();(Fe||!Fe&&N==="fixed")&&(ge=Z.offsetLeft,de=Z.offsetTop)}return{width:ie,height:me,x:ge+ga(v),y:de}})(_,p)):Qs(c)?(function(v,N){var V=Ys(v,!1,N==="fixed");return V.top=V.top+v.clientTop,V.left=V.left+v.clientLeft,V.bottom=V.top+v.clientHeight,V.right=V.left+v.clientWidth,V.width=v.clientWidth,V.height=v.clientHeight,V.x=V.left,V.y=V.top,V})(c,p):kr((function(v){var N,V=ys(v),j=lo(v),Z=(N=v.ownerDocument)==null?void 0:N.body,ie=Js(V.scrollWidth,V.clientWidth,Z?Z.scrollWidth:0,Z?Z.clientWidth:0),me=Js(V.scrollHeight,V.clientHeight,Z?Z.scrollHeight:0,Z?Z.clientHeight:0),ge=-j.scrollLeft+ga(v),de=-j.scrollTop;return fn(Z||V).direction==="rtl"&&(ge+=Js(V.clientWidth,Z?Z.clientWidth:0)-ie),{width:ie,height:me,x:ge,y:de}})(ys(_)))}function Ei(_){var c,p=_.reference,v=_.element,N=_.placement,V=N?qn(N):null,j=N?Xs(N):null,Z=p.x+p.width/2-v.width/2,ie=p.y+p.height/2-v.height/2;switch(V){case sn:c={x:Z,y:p.y-v.height};break;case Zt:c={x:Z,y:p.y+p.height};break;case hn:c={x:p.x+p.width,y:ie};break;case Gt:c={x:p.x-v.width,y:ie};break;default:c={x:p.x,y:p.y}}var me=V?vi(V):null;if(me!=null){var ge=me==="y"?"height":"width";switch(j){case ts:c[me]=c[me]-(p[ge]/2-v[ge]/2);break;case Ar:c[me]=c[me]+(p[ge]/2-v[ge]/2)}}return c}function Or(_,c){c===void 0&&(c={});var p=c,v=p.placement,N=v===void 0?_.placement:v,V=p.strategy,j=V===void 0?_.strategy:V,Z=p.boundary,ie=Z===void 0?oa:Z,me=p.rootBoundary,ge=me===void 0?Xi:me,de=p.elementContext,Fe=de===void 0?Gs:de,Ie=p.altBoundary,xe=Ie!==void 0&&Ie,ke=p.padding,Ne=ke===void 0?0:ke,ct=fa(typeof Ne!="number"?Ne:Cr(Ne,kn)),mt=Fe===Gs?Zi:Gs,Be=_.rects.popper,et=_.elements[xe?mt:Fe],$e=(function(Sn,Kn,Gn,Ot){var As=Kn==="clippingParents"?(function(dt){var Rn=er(ro(dt)),Qn=["absolute","fixed"].indexOf(fn(dt).position)>=0&&An(dt)?yi(dt):dt;return Qs(Qn)?Rn.filter(function(Vr){return Qs(Vr)&&da(Vr,Qn)&&dn(Vr)!=="body"}):[]})(Sn):[].concat(Kn),Ss=[].concat(As,[Gn]),mo=Ss[0],en=Ss.reduce(function(dt,Rn){var Qn=ya(Sn,Rn,Ot);return dt.top=Js(Qn.top,dt.top),dt.right=_s(Qn.right,dt.right),dt.bottom=_s(Qn.bottom,dt.bottom),dt.left=Js(Qn.left,dt.left),dt},ya(Sn,mo,Ot));return en.width=en.right-en.left,en.height=en.bottom-en.top,en.x=en.left,en.y=en.top,en})(Qs(et)?et:et.contextElement||ys(_.elements.popper),ie,ge,j),Ke=Ys(_.elements.reference),it=Ei({reference:Ke,element:Be,placement:N}),ut=kr(Object.assign({},Be,it)),ot=Fe===Gs?ut:Ke,Vt={top:$e.top-ot.top+ct.top,bottom:ot.bottom-$e.bottom+ct.bottom,left:$e.left-ot.left+ct.left,right:ot.right-$e.right+ct.right},Mn=_.modifiersData.offset;if(Fe===Gs&&Mn){var os=Mn[N];Object.keys(Vt).forEach(function(Sn){var Kn=[hn,Zt].indexOf(Sn)>=0?1:-1,Gn=[sn,Zt].indexOf(Sn)>=0?"y":"x";Vt[Sn]+=os[Gn]*Kn})}return Vt}function Ul(_,c){c===void 0&&(c={});var p=c,v=p.placement,N=p.boundary,V=p.rootBoundary,j=p.padding,Z=p.flipVariations,ie=p.allowedAutoPlacements,me=ie===void 0?eo:ie,ge=Xs(v),de=ge?Z?gi:gi.filter(function(xe){return Xs(xe)===ge}):kn,Fe=de.filter(function(xe){return me.indexOf(xe)>=0});Fe.length===0&&(Fe=de);var Ie=Fe.reduce(function(xe,ke){return xe[ke]=Or(_,{placement:ke,boundary:N,rootBoundary:V,padding:j})[qn(ke)],xe},{});return Object.keys(Ie).sort(function(xe,ke){return Ie[xe]-Ie[ke]})}const xr={name:"flip",enabled:!0,phase:"main",fn:function(_){var c=_.state,p=_.options,v=_.name;if(!c.modifiersData[v]._skip){for(var N=p.mainAxis,V=N===void 0||N,j=p.altAxis,Z=j===void 0||j,ie=p.fallbackPlacements,me=p.padding,ge=p.boundary,de=p.rootBoundary,Fe=p.altBoundary,Ie=p.flipVariations,xe=Ie===void 0||Ie,ke=p.allowedAutoPlacements,Ne=c.options.placement,ct=qn(Ne),mt=ie||(ct!==Ne&&xe?(function(dt){if(qn(dt)===gs)return[];var Rn=wi(dt);return[rs(dt),Rn,rs(Rn)]})(Ne):[wi(Ne)]),Be=[Ne].concat(mt).reduce(function(dt,Rn){return dt.concat(qn(Rn)===gs?Ul(c,{placement:Rn,boundary:ge,rootBoundary:de,padding:me,flipVariations:xe,allowedAutoPlacements:ke}):Rn)},[]),et=c.rects.reference,$e=c.rects.popper,Ke=new Map,it=!0,ut=Be[0],ot=0;ot<Be.length;ot++){var Vt=Be[ot],Mn=qn(Vt),os=Xs(Vt)===ts,Sn=[sn,Zt].indexOf(Mn)>=0,Kn=Sn?"width":"height",Gn=Or(c,{placement:Vt,boundary:ge,rootBoundary:de,altBoundary:Fe,padding:me}),Ot=Sn?os?hn:Gt:os?Zt:sn;et[Kn]>$e[Kn]&&(Ot=wi(Ot));var As=wi(Ot),Ss=[];if(V&&Ss.push(Gn[Mn]<=0),Z&&Ss.push(Gn[Ot]<=0,Gn[As]<=0),Ss.every(function(dt){return dt})){ut=Vt,it=!1;break}Ke.set(Vt,Ss)}if(it)for(var mo=function(dt){var Rn=Be.find(function(Qn){var Vr=Ke.get(Qn);if(Vr)return Vr.slice(0,dt).every(function(Jl){return Jl})});if(Rn)return ut=Rn,"break"},en=xe?3:1;en>0&&mo(en)!=="break";en--);c.placement!==ut&&(c.modifiersData[v]._skip=!0,c.placement=ut,c.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function va(_,c,p){return p===void 0&&(p={x:0,y:0}),{top:_.top-c.height-p.y,right:_.right-c.width+p.x,bottom:_.bottom-c.height+p.y,left:_.left-c.width-p.x}}function wa(_){return[sn,hn,Zt,Gt].some(function(c){return _[c]>=0})}const co={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(_){var c=_.state,p=_.name,v=c.rects.reference,N=c.rects.popper,V=c.modifiersData.preventOverflow,j=Or(c,{elementContext:"reference"}),Z=Or(c,{altBoundary:!0}),ie=va(j,v),me=va(Z,N,V),ge=wa(ie),de=wa(me);c.modifiersData[p]={referenceClippingOffsets:ie,popperEscapeOffsets:me,isReferenceHidden:ge,hasPopperEscaped:de},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":ge,"data-popper-escaped":de})}},uo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(_){var c=_.state,p=_.options,v=_.name,N=p.offset,V=N===void 0?[0,0]:N,j=eo.reduce(function(ge,de){return ge[de]=(function(Fe,Ie,xe){var ke=qn(Fe),Ne=[Gt,sn].indexOf(ke)>=0?-1:1,ct=typeof xe=="function"?xe(Object.assign({},Ie,{placement:Fe})):xe,mt=ct[0],Be=ct[1];return mt=mt||0,Be=(Be||0)*Ne,[Gt,hn].indexOf(ke)>=0?{x:Be,y:mt}:{x:mt,y:Be}})(de,c.rects,V),ge},{}),Z=j[c.placement],ie=Z.x,me=Z.y;c.modifiersData.popperOffsets!=null&&(c.modifiersData.popperOffsets.x+=ie,c.modifiersData.popperOffsets.y+=me),c.modifiersData[v]=j}},ho={name:"popperOffsets",enabled:!0,phase:"read",fn:function(_){var c=_.state,p=_.name;c.modifiersData[p]=Ei({reference:c.rects.reference,element:c.rects.popper,placement:c.placement})},data:{}},bi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(_){var c=_.state,p=_.options,v=_.name,N=p.mainAxis,V=N===void 0||N,j=p.altAxis,Z=j!==void 0&&j,ie=p.boundary,me=p.rootBoundary,ge=p.altBoundary,de=p.padding,Fe=p.tether,Ie=Fe===void 0||Fe,xe=p.tetherOffset,ke=xe===void 0?0:xe,Ne=Or(c,{boundary:ie,rootBoundary:me,padding:de,altBoundary:ge}),ct=qn(c.placement),mt=Xs(c.placement),Be=!mt,et=vi(ct),$e=et==="x"?"y":"x",Ke=c.modifiersData.popperOffsets,it=c.rects.reference,ut=c.rects.popper,ot=typeof ke=="function"?ke(Object.assign({},c.rects,{placement:c.placement})):ke,Vt=typeof ot=="number"?{mainAxis:ot,altAxis:ot}:Object.assign({mainAxis:0,altAxis:0},ot),Mn=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,os={x:0,y:0};if(Ke){if(V){var Sn,Kn=et==="y"?sn:Gt,Gn=et==="y"?Zt:hn,Ot=et==="y"?"height":"width",As=Ke[et],Ss=As+Ne[Kn],mo=As-Ne[Gn],en=Ie?-ut[Ot]/2:0,dt=mt===ts?it[Ot]:ut[Ot],Rn=mt===ts?-ut[Ot]:-it[Ot],Qn=c.elements.arrow,Vr=Ie&&Qn?so(Qn):{width:0,height:0},Jl=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Pp=Jl[Kn],kp=Jl[Gn],Yl=vs(0,it[Ot],Vr[Ot]),nT=Be?it[Ot]/2-en-Yl-Pp-Vt.mainAxis:dt-Yl-Pp-Vt.mainAxis,sT=Be?-it[Ot]/2+en+Yl+kp+Vt.mainAxis:Rn+Yl+kp+Vt.mainAxis,mh=c.elements.arrow&&yi(c.elements.arrow),rT=mh?et==="y"?mh.clientTop||0:mh.clientLeft||0:0,Op=(Sn=Mn?.[et])!=null?Sn:0,iT=As+sT-Op,xp=vs(Ie?_s(Ss,As+nT-Op-rT):Ss,As,Ie?Js(mo,iT):mo);Ke[et]=xp,os[et]=xp-As}if(Z){var Np,oT=et==="x"?sn:Gt,aT=et==="x"?Zt:hn,Pi=Ke[$e],Xl=$e==="y"?"height":"width",Dp=Pi+Ne[oT],Vp=Pi-Ne[aT],gh=[sn,Gt].indexOf(ct)!==-1,Lp=(Np=Mn?.[$e])!=null?Np:0,Mp=gh?Dp:Pi-it[Xl]-ut[Xl]-Lp+Vt.altAxis,Fp=gh?Pi+it[Xl]+ut[Xl]-Lp-Vt.altAxis:Vp,Up=Ie&&gh?(function(lT,cT,_h){var $p=vs(lT,cT,_h);return $p>_h?_h:$p})(Mp,Pi,Fp):vs(Ie?Mp:Dp,Pi,Ie?Fp:Vp);Ke[$e]=Up,os[$e]=Up-Pi}c.modifiersData[v]=os}},requiresIfExists:["offset"]};function $l(_,c,p){p===void 0&&(p=!1);var v,N,V=An(c),j=An(c)&&(function(de){var Fe=de.getBoundingClientRect(),Ie=On(Fe.width)/de.offsetWidth||1,xe=On(Fe.height)/de.offsetHeight||1;return Ie!==1||xe!==1})(c),Z=ys(c),ie=Ys(_,j,p),me={scrollLeft:0,scrollTop:0},ge={x:0,y:0};return(V||!V&&!p)&&((dn(c)!=="body"||Zs(Z))&&(me=(v=c)!==Qt(v)&&An(v)?{scrollLeft:(N=v).scrollLeft,scrollTop:N.scrollTop}:lo(v)),An(c)?((ge=Ys(c,!0)).x+=c.clientLeft,ge.y+=c.clientTop):Z&&(ge.x=ga(Z))),{x:ie.left+me.scrollLeft-ge.x,y:ie.top+me.scrollTop-ge.y,width:ie.width,height:ie.height}}function Bl(_){var c=new Map,p=new Set,v=[];function N(V){p.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(j){if(!p.has(j)){var Z=c.get(j);Z&&N(Z)}}),v.push(V)}return _.forEach(function(V){c.set(V.name,V)}),_.forEach(function(V){p.has(V.name)||N(V)}),v}var ws={placement:"bottom",modifiers:[],strategy:"absolute"};function Ea(){for(var _=arguments.length,c=new Array(_),p=0;p<_;p++)c[p]=arguments[p];return!c.some(function(v){return!(v&&typeof v.getBoundingClientRect=="function")})}function Ti(_){_===void 0&&(_={});var c=_,p=c.defaultModifiers,v=p===void 0?[]:p,N=c.defaultOptions,V=N===void 0?ws:N;return function(j,Z,ie){ie===void 0&&(ie=V);var me,ge,de={placement:"bottom",orderedModifiers:[],options:Object.assign({},ws,V),modifiersData:{},elements:{reference:j,popper:Z},attributes:{},styles:{}},Fe=[],Ie=!1,xe={state:de,setOptions:function(Ne){var ct=typeof Ne=="function"?Ne(de.options):Ne;ke(),de.options=Object.assign({},V,de.options,ct),de.scrollParents={reference:Qs(j)?er(j):j.contextElement?er(j.contextElement):[],popper:er(Z)};var mt,Be,et=(function($e){var Ke=Bl($e);return _i.reduce(function(it,ut){return it.concat(Ke.filter(function(ot){return ot.phase===ut}))},[])})((mt=[].concat(v,de.options.modifiers),Be=mt.reduce(function($e,Ke){var it=$e[Ke.name];return $e[Ke.name]=it?Object.assign({},it,Ke,{options:Object.assign({},it.options,Ke.options),data:Object.assign({},it.data,Ke.data)}):Ke,$e},{}),Object.keys(Be).map(function($e){return Be[$e]})));return de.orderedModifiers=et.filter(function($e){return $e.enabled}),de.orderedModifiers.forEach(function($e){var Ke=$e.name,it=$e.options,ut=it===void 0?{}:it,ot=$e.effect;if(typeof ot=="function"){var Vt=ot({state:de,name:Ke,instance:xe,options:ut});Fe.push(Vt||function(){})}}),xe.update()},forceUpdate:function(){if(!Ie){var Ne=de.elements,ct=Ne.reference,mt=Ne.popper;if(Ea(ct,mt)){de.rects={reference:$l(ct,yi(mt),de.options.strategy==="fixed"),popper:so(mt)},de.reset=!1,de.placement=de.options.placement,de.orderedModifiers.forEach(function(ot){return de.modifiersData[ot.name]=Object.assign({},ot.data)});for(var Be=0;Be<de.orderedModifiers.length;Be++)if(de.reset!==!0){var et=de.orderedModifiers[Be],$e=et.fn,Ke=et.options,it=Ke===void 0?{}:Ke,ut=et.name;typeof $e=="function"&&(de=$e({state:de,options:it,name:ut,instance:xe})||de)}else de.reset=!1,Be=-1}}},update:(me=function(){return new Promise(function(Ne){xe.forceUpdate(),Ne(de)})},function(){return ge||(ge=new Promise(function(Ne){Promise.resolve().then(function(){ge=void 0,Ne(me())})})),ge}),destroy:function(){ke(),Ie=!0}};if(!Ea(j,Z))return xe;function ke(){Fe.forEach(function(Ne){return Ne()}),Fe=[]}return xe.setOptions(ie).then(function(Ne){!Ie&&ie.onFirstUpdate&&ie.onFirstUpdate(Ne)}),xe}}var jl=Ti(),ql=Ti({defaultModifiers:[oo,ho,ma,ua]}),Nr=Ti({defaultModifiers:[oo,ho,ma,ua,uo,xr,bi,Pr,co]});const pn=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Sr,afterRead:Ml,afterWrite:lt,applyStyles:ua,arrow:Pr,auto:gs,basePlacements:kn,beforeMain:ns,beforeRead:aa,beforeWrite:Rr,bottom:Zt,clippingParents:oa,computeStyles:ma,createPopper:Nr,createPopperBase:jl,createPopperLite:ql,detectOverflow:Or,end:Ar,eventListeners:oo,flip:xr,hide:co,left:Gt,main:Ln,modifierPhases:_i,offset:uo,placements:eo,popper:Gs,popperGenerator:Ti,popperOffsets:ho,preventOverflow:bi,read:la,reference:Zi,right:hn,start:ts,top:sn,variationPlacements:gi,viewport:Xi,write:to},Symbol.toStringTag,{value:"Module"})),ba="dropdown",Es=".bs.dropdown",bs=".data-api",a="ArrowUp",f="ArrowDown",g=`hide${Es}`,E=`hidden${Es}`,F=`show${Es}`,$=`shown${Es}`,re=`click${Es}${bs}`,Ve=`keydown${Es}${bs}`,Dt=`keyup${Es}${bs}`,Qe="show",pt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Hn=`${pt}.${Qe}`,Wn=".dropdown-menu",Ts=U()?"top-end":"top-start",Is=U()?"top-start":"top-end",fo=U()?"bottom-end":"bottom-start",Ta=U()?"bottom-start":"bottom-end",$E=U()?"left-start":"right-start",BE=U()?"right-start":"left-start",jE={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},qE={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class is extends H{constructor(c,p){super(c,p),this._popper=null,this._parent=this._element.parentNode,this._menu=q.next(this._element,Wn)[0]||q.prev(this._element,Wn)[0]||q.findOne(Wn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return jE}static get DefaultType(){return qE}static get NAME(){return ba}toggle(){return this._isShown()?this.hide():this.show()}show(){if(m(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!K.trigger(this._element,F,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))K.on(p,"mouseover",T);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Qe),this._element.classList.add(Qe),K.trigger(this._element,$,c)}}hide(){if(m(this._element)||!this._isShown())return;const c={relatedTarget:this._element};this._completeHide(c)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!K.trigger(this._element,g,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))K.off(p,"mouseover",T);this._popper&&this._popper.destroy(),this._menu.classList.remove(Qe),this._element.classList.remove(Qe),this._element.setAttribute("aria-expanded","false"),xt.removeDataAttribute(this._menu,"popper"),K.trigger(this._element,E,c)}}_getConfig(c){if(typeof(c=super._getConfig(c)).reference=="object"&&!u(c.reference)&&typeof c.reference.getBoundingClientRect!="function")throw new TypeError(`${ba.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(pn===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let c=this._element;this._config.reference==="parent"?c=this._parent:u(this._config.reference)?c=h(this._config.reference):typeof this._config.reference=="object"&&(c=this._config.reference);const p=this._getPopperConfig();this._popper=Nr(c,this._menu,p)}_isShown(){return this._menu.classList.contains(Qe)}_getPlacement(){const c=this._parent;if(c.classList.contains("dropend"))return $E;if(c.classList.contains("dropstart"))return BE;if(c.classList.contains("dropup-center"))return"top";if(c.classList.contains("dropdown-center"))return"bottom";const p=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return c.classList.contains("dropup")?p?Is:Ts:p?Ta:fo}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(p=>Number.parseInt(p,10)):typeof c=="function"?p=>c(p,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(xt.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...G(this._config.popperConfig,[void 0,c])}}_selectMenuItem({key:c,target:p}){const v=q.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(N=>d(N));v.length&&ve(v,p,c===f,!v.includes(p)).focus()}static jQueryInterface(c){return this.each(function(){const p=is.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}static clearMenus(c){if(c.button===2||c.type==="keyup"&&c.key!=="Tab")return;const p=q.find(Hn);for(const v of p){const N=is.getInstance(v);if(!N||N._config.autoClose===!1)continue;const V=c.composedPath(),j=V.includes(N._menu);if(V.includes(N._element)||N._config.autoClose==="inside"&&!j||N._config.autoClose==="outside"&&j||N._menu.contains(c.target)&&(c.type==="keyup"&&c.key==="Tab"||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const Z={relatedTarget:N._element};c.type==="click"&&(Z.clickEvent=c),N._completeHide(Z)}}static dataApiKeydownHandler(c){const p=/input|textarea/i.test(c.target.tagName),v=c.key==="Escape",N=[a,f].includes(c.key);if(!N&&!v||p&&!v)return;c.preventDefault();const V=this.matches(pt)?this:q.prev(this,pt)[0]||q.next(this,pt)[0]||q.findOne(pt,c.delegateTarget.parentNode),j=is.getOrCreateInstance(V);if(N)return c.stopPropagation(),j.show(),void j._selectMenuItem(c);j._isShown()&&(c.stopPropagation(),j.hide(),V.focus())}}K.on(document,Ve,pt,is.dataApiKeydownHandler),K.on(document,Ve,Wn,is.dataApiKeydownHandler),K.on(document,re,is.clearMenus),K.on(document,Dt,is.clearMenus),K.on(document,re,pt,function(_){_.preventDefault(),is.getOrCreateInstance(this).toggle()}),W(is);const Yf="backdrop",Xf="show",Zf=`mousedown.bs.${Yf}`,HE={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},WE={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ep extends Pt{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return HE}static get DefaultType(){return WE}static get NAME(){return Yf}show(c){if(!this._config.isVisible)return void G(c);this._append();const p=this._getElement();this._config.isAnimated&&S(p),p.classList.add(Xf),this._emulateAnimation(()=>{G(c)})}hide(c){this._config.isVisible?(this._getElement().classList.remove(Xf),this._emulateAnimation(()=>{this.dispose(),G(c)})):G(c)}dispose(){this._isAppended&&(K.off(this._element,Zf),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add("fade"),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=h(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),K.on(c,Zf,()=>{G(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){se(c,this._getElement(),this._config.isAnimated)}}const Hl=".bs.focustrap",zE=`focusin${Hl}`,KE=`keydown.tab${Hl}`,tp="backward",GE={autofocus:!0,trapElement:null},QE={autofocus:"boolean",trapElement:"element"};class np extends Pt{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return GE}static get DefaultType(){return QE}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),K.off(document,Hl),K.on(document,zE,c=>this._handleFocusin(c)),K.on(document,KE,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,K.off(document,Hl))}_handleFocusin(c){const{trapElement:p}=this._config;if(c.target===document||c.target===p||p.contains(c.target))return;const v=q.focusableChildren(p);v.length===0?p.focus():this._lastTabNavDirection===tp?v[v.length-1].focus():v[0].focus()}_handleKeydown(c){c.key==="Tab"&&(this._lastTabNavDirection=c.shiftKey?tp:"forward")}}const sp=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",rp=".sticky-top",Wl="padding-right",ip="margin-right";class rh{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Wl,p=>p+c),this._setElementAttributes(sp,Wl,p=>p+c),this._setElementAttributes(rp,ip,p=>p-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Wl),this._resetElementAttributes(sp,Wl),this._resetElementAttributes(rp,ip)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,p,v){const N=this.getWidth();this._applyManipulationCallback(c,V=>{if(V!==this._element&&window.innerWidth>V.clientWidth+N)return;this._saveInitialAttribute(V,p);const j=window.getComputedStyle(V).getPropertyValue(p);V.style.setProperty(p,`${v(Number.parseFloat(j))}px`)})}_saveInitialAttribute(c,p){const v=c.style.getPropertyValue(p);v&&xt.setDataAttribute(c,p,v)}_resetElementAttributes(c,p){this._applyManipulationCallback(c,v=>{const N=xt.getDataAttribute(v,p);N!==null?(xt.removeDataAttribute(v,p),v.style.setProperty(p,N)):v.style.removeProperty(p)})}_applyManipulationCallback(c,p){if(u(c))p(c);else for(const v of q.find(c,this._element))p(v)}}const zn=".bs.modal",JE=`hide${zn}`,YE=`hidePrevented${zn}`,op=`hidden${zn}`,ap=`show${zn}`,XE=`shown${zn}`,ZE=`resize${zn}`,eb=`click.dismiss${zn}`,tb=`mousedown.dismiss${zn}`,nb=`keydown.dismiss${zn}`,sb=`click${zn}.data-api`,lp="modal-open",cp="show",ih="modal-static",rb={backdrop:!0,focus:!0,keyboard:!0},ib={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ii extends H{constructor(c,p){super(c,p),this._dialog=q.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new rh,this._addEventListeners()}static get Default(){return rb}static get DefaultType(){return ib}static get NAME(){return"modal"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||K.trigger(this._element,ap,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(lp),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){this._isShown&&!this._isTransitioning&&(K.trigger(this._element,JE).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(cp),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){K.off(window,zn),K.off(this._dialog,zn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ep({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new np({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const p=q.findOne(".modal-body",this._dialog);p&&(p.scrollTop=0),S(this._element),this._element.classList.add(cp),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,K.trigger(this._element,XE,{relatedTarget:c})},this._dialog,this._isAnimated())}_addEventListeners(){K.on(this._element,nb,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),K.on(window,ZE,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),K.on(this._element,tb,c=>{K.one(this._element,eb,p=>{this._element===c.target&&this._element===p.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(lp),this._resetAdjustments(),this._scrollBar.reset(),K.trigger(this._element,op)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(K.trigger(this._element,YE).defaultPrevented)return;const c=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;p==="hidden"||this._element.classList.contains(ih)||(c||(this._element.style.overflowY="hidden"),this._element.classList.add(ih),this._queueCallback(()=>{this._element.classList.remove(ih),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,p=this._scrollBar.getWidth(),v=p>0;if(v&&!c){const N=U()?"paddingLeft":"paddingRight";this._element.style[N]=`${p}px`}if(!v&&c){const N=U()?"paddingRight":"paddingLeft";this._element.style[N]=`${p}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,p){return this.each(function(){const v=Ii.getOrCreateInstance(this,c);if(typeof c=="string"){if(v[c]===void 0)throw new TypeError(`No method named "${c}"`);v[c](p)}})}}K.on(document,sb,'[data-bs-toggle="modal"]',function(_){const c=q.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&_.preventDefault(),K.one(c,ap,v=>{v.defaultPrevented||K.one(c,op,()=>{d(this)&&this.focus()})});const p=q.findOne(".modal.show");p&&Ii.getInstance(p).hide(),Ii.getOrCreateInstance(c).toggle(this)}),_e(Ii),W(Ii);const tr=".bs.offcanvas",up=".data-api",ob=`load${tr}${up}`,hp="show",dp="showing",fp="hiding",pp=".offcanvas.show",ab=`show${tr}`,lb=`shown${tr}`,cb=`hide${tr}`,mp=`hidePrevented${tr}`,gp=`hidden${tr}`,ub=`resize${tr}`,hb=`click${tr}${up}`,db=`keydown.dismiss${tr}`,fb={backdrop:!0,keyboard:!0,scroll:!1},pb={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class nr extends H{constructor(c,p){super(c,p),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return fb}static get DefaultType(){return pb}static get NAME(){return"offcanvas"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||K.trigger(this._element,ab,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new rh().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(dp),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(hp),this._element.classList.remove(dp),K.trigger(this._element,lb,{relatedTarget:c})},this._element,!0))}hide(){this._isShown&&(K.trigger(this._element,cb).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(fp),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(hp,fp),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new rh().reset(),K.trigger(this._element,gp)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=!!this._config.backdrop;return new ep({className:"offcanvas-backdrop",isVisible:c,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:c?()=>{this._config.backdrop!=="static"?this.hide():K.trigger(this._element,mp)}:null})}_initializeFocusTrap(){return new np({trapElement:this._element})}_addEventListeners(){K.on(this._element,db,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():K.trigger(this._element,mp))})}static jQueryInterface(c){return this.each(function(){const p=nr.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c](this)}})}}K.on(document,hb,'[data-bs-toggle="offcanvas"]',function(_){const c=q.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),m(this))return;K.one(c,gp,()=>{d(this)&&this.focus()});const p=q.findOne(pp);p&&p!==c&&nr.getInstance(p).hide(),nr.getOrCreateInstance(c).toggle(this)}),K.on(window,ob,()=>{for(const _ of q.find(pp))nr.getOrCreateInstance(_).show()}),K.on(window,ub,()=>{for(const _ of q.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(_).position!=="fixed"&&nr.getOrCreateInstance(_).hide()}),_e(nr),W(nr);const _p={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},mb=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),gb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,_b=(_,c)=>{const p=_.nodeName.toLowerCase();return c.includes(p)?!mb.has(p)||!!gb.test(_.nodeValue):c.filter(v=>v instanceof RegExp).some(v=>v.test(p))},yb={allowList:_p,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},vb={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},wb={entry:"(string|element|function|null)",selector:"(string|element)"};class Eb extends Pt{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return yb}static get DefaultType(){return vb}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[N,V]of Object.entries(this._config.content))this._setContent(c,V,N);const p=c.children[0],v=this._resolvePossibleFunction(this._config.extraClass);return v&&p.classList.add(...v.split(" ")),p}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[p,v]of Object.entries(c))super._typeCheckConfig({selector:p,entry:v},wb)}_setContent(c,p,v){const N=q.findOne(v,c);N&&((p=this._resolvePossibleFunction(p))?u(p)?this._putElementInTemplate(h(p),N):this._config.html?N.innerHTML=this._maybeSanitize(p):N.textContent=p:N.remove())}_maybeSanitize(c){return this._config.sanitize?(function(p,v,N){if(!p.length)return p;if(N&&typeof N=="function")return N(p);const V=new window.DOMParser().parseFromString(p,"text/html"),j=[].concat(...V.body.querySelectorAll("*"));for(const Z of j){const ie=Z.nodeName.toLowerCase();if(!Object.keys(v).includes(ie)){Z.remove();continue}const me=[].concat(...Z.attributes),ge=[].concat(v["*"]||[],v[ie]||[]);for(const de of me)_b(de,ge)||Z.removeAttribute(de.nodeName)}return V.body.innerHTML})(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return G(c,[void 0,this])}_putElementInTemplate(c,p){if(this._config.html)return p.innerHTML="",void p.append(c);p.textContent=c.textContent}}const bb=new Set(["sanitize","allowList","sanitizeFn"]),oh="fade",zl="show",Tb=".tooltip-inner",yp=".modal",vp="hide.bs.modal",Ia="hover",ah="focus",lh="click",Ib={AUTO:"auto",TOP:"top",RIGHT:U()?"left":"right",BOTTOM:"bottom",LEFT:U()?"right":"left"},Ab={allowList:_p,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Sb={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ai extends H{constructor(c,p){if(pn===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(c,p),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ab}static get DefaultType(){return Sb}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),K.off(this._element.closest(yp),vp,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const c=K.trigger(this._element,this.constructor.eventName("show")),p=(y(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!p)return;this._disposePopper();const v=this._getTipElement();this._element.setAttribute("aria-describedby",v.getAttribute("id"));const{container:N}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(N.append(v),K.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(v),v.classList.add(zl),"ontouchstart"in document.documentElement)for(const V of[].concat(...document.body.children))K.on(V,"mouseover",T);this._queueCallback(()=>{K.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!K.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(zl),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))K.off(c,"mouseover",T);this._activeTrigger[lh]=!1,this._activeTrigger[ah]=!1,this._activeTrigger[Ia]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),K.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const p=this._getTemplateFactory(c).toHtml();if(!p)return null;p.classList.remove(oh,zl),p.classList.add(`bs-${this.constructor.NAME}-auto`);const v=(N=>{do N+=Math.floor(1e6*Math.random());while(document.getElementById(N));return N})(this.constructor.NAME).toString();return p.setAttribute("id",v),this._isAnimated()&&p.classList.add(oh),p}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new Eb({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Tb]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(oh)}_isShown(){return this.tip&&this.tip.classList.contains(zl)}_createPopper(c){const p=G(this._config.placement,[this,c,this._element]),v=Ib[p.toUpperCase()];return Nr(this._element,c,this._getPopperConfig(v))}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(p=>Number.parseInt(p,10)):typeof c=="function"?p=>c(p,this._element):c}_resolvePossibleFunction(c){return G(c,[this._element,this._element])}_getPopperConfig(c){const p={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:v=>{this._getTipElement().setAttribute("data-popper-placement",v.state.placement)}}]};return{...p,...G(this._config.popperConfig,[void 0,p])}}_setListeners(){const c=this._config.trigger.split(" ");for(const p of c)if(p==="click")K.on(this._element,this.constructor.eventName("click"),this._config.selector,v=>{const N=this._initializeOnDelegatedTarget(v);N._activeTrigger[lh]=!(N._isShown()&&N._activeTrigger[lh]),N.toggle()});else if(p!=="manual"){const v=p===Ia?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),N=p===Ia?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");K.on(this._element,v,this._config.selector,V=>{const j=this._initializeOnDelegatedTarget(V);j._activeTrigger[V.type==="focusin"?ah:Ia]=!0,j._enter()}),K.on(this._element,N,this._config.selector,V=>{const j=this._initializeOnDelegatedTarget(V);j._activeTrigger[V.type==="focusout"?ah:Ia]=j._element.contains(V.relatedTarget),j._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},K.on(this._element.closest(yp),vp,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,p){clearTimeout(this._timeout),this._timeout=setTimeout(c,p)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const p=xt.getDataAttributes(this._element);for(const v of Object.keys(p))bb.has(v)&&delete p[v];return c={...p,...typeof c=="object"&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=c.container===!1?document.body:h(c.container),typeof c.delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[p,v]of Object.entries(this._config))this.constructor.Default[p]!==v&&(c[p]=v);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const p=Ai.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}}W(Ai);const Rb=".popover-header",Cb=".popover-body",Pb={...Ai.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},kb={...Ai.DefaultType,content:"(null|string|element|function)"};class Kl extends Ai{static get Default(){return Pb}static get DefaultType(){return kb}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Rb]:this._getTitle(),[Cb]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const p=Kl.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}}W(Kl);const ch=".bs.scrollspy",Ob=`activate${ch}`,wp=`click${ch}`,xb=`load${ch}.data-api`,po="active",uh="[href]",Ep=".nav-link",Nb=`${Ep}, .nav-item > ${Ep}, .list-group-item`,Db={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Vb={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Aa extends H{constructor(c,p){super(c,p),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Db}static get DefaultType(){return Vb}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=h(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,typeof c.threshold=="string"&&(c.threshold=c.threshold.split(",").map(p=>Number.parseFloat(p))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(K.off(this._config.target,wp),K.on(this._config.target,wp,uh,c=>{const p=this._observableSections.get(c.target.hash);if(p){c.preventDefault();const v=this._rootElement||window,N=p.offsetTop-this._element.offsetTop;if(v.scrollTo)return void v.scrollTo({top:N,behavior:"smooth"});v.scrollTop=N}}))}_getNewObserver(){const c={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(p=>this._observerCallback(p),c)}_observerCallback(c){const p=j=>this._targetLinks.get(`#${j.target.id}`),v=j=>{this._previousScrollData.visibleEntryTop=j.target.offsetTop,this._process(p(j))},N=(this._rootElement||document.documentElement).scrollTop,V=N>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=N;for(const j of c){if(!j.isIntersecting){this._activeTarget=null,this._clearActiveClass(p(j));continue}const Z=j.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&Z){if(v(j),!N)return}else V||Z||v(j)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=q.find(uh,this._config.target);for(const p of c){if(!p.hash||m(p))continue;const v=q.findOne(decodeURI(p.hash),this._element);d(v)&&(this._targetLinks.set(decodeURI(p.hash),p),this._observableSections.set(p.hash,v))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(po),this._activateParents(c),K.trigger(this._element,Ob,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains("dropdown-item"))q.findOne(".dropdown-toggle",c.closest(".dropdown")).classList.add(po);else for(const p of q.parents(c,".nav, .list-group"))for(const v of q.prev(p,Nb))v.classList.add(po)}_clearActiveClass(c){c.classList.remove(po);const p=q.find(`${uh}.${po}`,c);for(const v of p)v.classList.remove(po)}static jQueryInterface(c){return this.each(function(){const p=Aa.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}})}}K.on(window,xb,()=>{for(const _ of q.find('[data-bs-spy="scroll"]'))Aa.getOrCreateInstance(_)}),W(Aa);const Si=".bs.tab",Lb=`hide${Si}`,Mb=`hidden${Si}`,Fb=`show${Si}`,Ub=`shown${Si}`,$b=`click${Si}`,Bb=`keydown${Si}`,jb=`load${Si}`,qb="ArrowLeft",bp="ArrowRight",Hb="ArrowUp",Tp="ArrowDown",hh="Home",Ip="End",Ri="active",Ap="fade",dh="show",Sp=".dropdown-toggle",fh=`:not(${Sp})`,Rp='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ph=`.nav-link${fh}, .list-group-item${fh}, [role="tab"]${fh}, ${Rp}`,Wb=`.${Ri}[data-bs-toggle="tab"], .${Ri}[data-bs-toggle="pill"], .${Ri}[data-bs-toggle="list"]`;class Ci extends H{constructor(c){super(c),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),K.on(this._element,Bb,p=>this._keydown(p)))}static get NAME(){return"tab"}show(){const c=this._element;if(this._elemIsActive(c))return;const p=this._getActiveElem(),v=p?K.trigger(p,Lb,{relatedTarget:c}):null;K.trigger(c,Fb,{relatedTarget:p}).defaultPrevented||v&&v.defaultPrevented||(this._deactivate(p,c),this._activate(c,p))}_activate(c,p){c&&(c.classList.add(Ri),this._activate(q.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),K.trigger(c,Ub,{relatedTarget:p})):c.classList.add(dh)},c,c.classList.contains(Ap)))}_deactivate(c,p){c&&(c.classList.remove(Ri),c.blur(),this._deactivate(q.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),K.trigger(c,Mb,{relatedTarget:p})):c.classList.remove(dh)},c,c.classList.contains(Ap)))}_keydown(c){if(![qb,bp,Hb,Tp,hh,Ip].includes(c.key))return;c.stopPropagation(),c.preventDefault();const p=this._getChildren().filter(N=>!m(N));let v;if([hh,Ip].includes(c.key))v=p[c.key===hh?0:p.length-1];else{const N=[bp,Tp].includes(c.key);v=ve(p,c.target,N,!0)}v&&(v.focus({preventScroll:!0}),Ci.getOrCreateInstance(v).show())}_getChildren(){return q.find(ph,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,p){this._setAttributeIfNotExists(c,"role","tablist");for(const v of p)this._setInitialAttributesOnChild(v)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const p=this._elemIsActive(c),v=this._getOuterElement(c);c.setAttribute("aria-selected",p),v!==c&&this._setAttributeIfNotExists(v,"role","presentation"),p||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const p=q.getElementFromSelector(c);p&&(this._setAttributeIfNotExists(p,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(p,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,p){const v=this._getOuterElement(c);if(!v.classList.contains("dropdown"))return;const N=(V,j)=>{const Z=q.findOne(V,v);Z&&Z.classList.toggle(j,p)};N(Sp,Ri),N(".dropdown-menu",dh),v.setAttribute("aria-expanded",p)}_setAttributeIfNotExists(c,p,v){c.hasAttribute(p)||c.setAttribute(p,v)}_elemIsActive(c){return c.classList.contains(Ri)}_getInnerElement(c){return c.matches(ph)?c:q.findOne(ph,c)}_getOuterElement(c){return c.closest(".nav-item, .list-group-item")||c}static jQueryInterface(c){return this.each(function(){const p=Ci.getOrCreateInstance(this);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}})}}K.on(document,$b,Rp,function(_){["A","AREA"].includes(this.tagName)&&_.preventDefault(),m(this)||Ci.getOrCreateInstance(this).show()}),K.on(window,jb,()=>{for(const _ of q.find(Wb))Ci.getOrCreateInstance(_)}),W(Ci);const Dr=".bs.toast",zb=`mouseover${Dr}`,Kb=`mouseout${Dr}`,Gb=`focusin${Dr}`,Qb=`focusout${Dr}`,Jb=`hide${Dr}`,Yb=`hidden${Dr}`,Xb=`show${Dr}`,Zb=`shown${Dr}`,Cp="hide",Gl="show",Ql="showing",eT={animation:"boolean",autohide:"boolean",delay:"number"},tT={animation:!0,autohide:!0,delay:5e3};class Sa extends H{constructor(c,p){super(c,p),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return tT}static get DefaultType(){return eT}static get NAME(){return"toast"}show(){K.trigger(this._element,Xb).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Cp),S(this._element),this._element.classList.add(Gl,Ql),this._queueCallback(()=>{this._element.classList.remove(Ql),K.trigger(this._element,Zb),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(K.trigger(this._element,Jb).defaultPrevented||(this._element.classList.add(Ql),this._queueCallback(()=>{this._element.classList.add(Cp),this._element.classList.remove(Ql,Gl),K.trigger(this._element,Yb)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Gl),super.dispose()}isShown(){return this._element.classList.contains(Gl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,p){switch(c.type){case"mouseover":case"mouseout":this._hasMouseInteraction=p;break;case"focusin":case"focusout":this._hasKeyboardInteraction=p}if(p)return void this._clearTimeout();const v=c.relatedTarget;this._element===v||this._element.contains(v)||this._maybeScheduleHide()}_setListeners(){K.on(this._element,zb,c=>this._onInteraction(c,!0)),K.on(this._element,Kb,c=>this._onInteraction(c,!1)),K.on(this._element,Gb,c=>this._onInteraction(c,!0)),K.on(this._element,Qb,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const p=Sa.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c](this)}})}}return _e(Sa),W(Sa),{Alert:M,Button:J,Carousel:Ir,Collapse:Ks,Dropdown:is,Modal:Ii,Offcanvas:nr,Popover:Kl,ScrollSpy:Aa,Tab:Ci,Toast:Sa,Tooltip:Ai}})})(gc)),gc.exports}s0();const r0={class:"section about"},i0={class:"container"},o0={class:"section__lead"},a0={__name:"About",props:{aboutText:String},setup(t){return(e,n)=>(oe(),le("section",r0,[P("div",i0,[n[0]||(n[0]=P("h2",{class:"section__title"},"About Us",-1)),P("p",o0,ye(t.aboutText),1)])]))}},l0={class:"hero"},c0=["src"],u0={class:"hero__content"},h0={class:"hero__title"},d0={class:"hero__subtitle"},f0={class:"hero__actions"},p0={__name:"Hero",props:{heroImg:String,ctaTitle:String,ctaSubtitle:String},setup(t){return(e,n)=>{const s=js("router-link");return oe(),le("section",l0,[P("img",{class:"hero__img",src:t.heroImg,alt:"People playing billiards"},null,8,c0),n[2]||(n[2]=P("div",{class:"hero__overlay"},null,-1)),P("div",u0,[P("h1",h0,ye(t.ctaTitle),1),P("p",d0,ye(t.ctaSubtitle),1),P("div",f0,[Ue(s,{class:"btn btn--primary",to:"/events"},{default:bt(()=>[...n[0]||(n[0]=[tt("See Events",-1)])]),_:1}),Ue(s,{class:"btn btn--ghost",to:"/blog"},{default:bt(()=>[...n[1]||(n[1]=[tt("Read the Blog",-1)])]),_:1})])])])}}},m0={class:"card__date"},g0={class:"card__day"},_0={class:"card__mon"},y0={class:"card__body"},v0={class:"card__title"},w0={key:0,class:"card__meta"},E0={class:"card__desc"},b0={__name:"EventCard",props:{start:Date,title:String,location:String,summary:String,id:String},setup(t){function e(s){return new Date(s).getDate().toString().padStart(2,"0")}function n(s){return new Date(s).toLocaleString(void 0,{month:"short"}).toUpperCase()}return(s,r)=>{const i=js("router-link");return oe(),le(At,null,[P("div",m0,[P("span",g0,ye(e(t.start)),1),P("span",_0,ye(n(t.start)),1)]),P("div",y0,[P("h3",v0,ye(t.title),1),t.location?(oe(),le("p",w0," "+ye(t.location),1)):St("",!0),P("p",E0,ye(t.summary||"No description provided."),1),Ue(i,{class:"btn btn--sm",to:`/events/${t.id}`},{default:bt(()=>[...r[0]||(r[0]=[tt("Details",-1)])]),_:1},8,["to"])])],64)}}},T0={class:"home"},I0={class:"section events"},A0={class:"container"},S0={class:"section__header"},R0={class:"cards"},C0={key:0,class:"empty"},P0={class:"section blog"},k0={class:"container"},O0={class:"section__header"},x0={key:0,class:"post"},N0=["src","alt"],D0={class:"post__body"},V0={class:"post__title"},L0={class:"post__meta"},M0={class:"post__excerpt"},F0={key:1,class:"empty"},U0="https://quedos.com.au/wp-content/uploads/2022/07/man-playing-billiards.jpg",$0="Join the Club  Play, Learn, Compete",B0="Social nights, coaching clinics, and competitions for all levels.",j0="We're a friendly local club running weekly events, coaching sessions, and social play. New players are always welcome.",q0={__name:"HomePageView",setup(t){const e=[{id:"open-night",title:"Club Open Night",start:new Date().toISOString(),location:"Main Hall, 123 King St",summary:"Meet the community, try the tables, and enjoy free coaching."},{id:"junior-comp",title:"Junior Competition Round 1",start:new Date(Date.now()+2592e5).toISOString(),location:"Court 2",summary:"First round of the junior league with prizes."},{id:"coaching-clinic",title:"Coaching Clinic",start:new Date(Date.now()+864e6).toISOString(),location:"Training Room",summary:"Small group technique clinic with our head coach."}],n=[{slug:"season-kickoff",title:"Season Kickoff: What to Expect",date:new Date().toISOString(),excerpt:"New fixtures, coaching programs, and social nightsheres whats coming.",cover:"https://images.unsplash.com/photo-1516541196182-6bdb0516ed27?q=80&w=1600&auto=format&fit=crop"}],s=Rt(()=>(e||[]).slice().sort((o,l)=>new Date(o.start)-new Date(l.start)).slice(0,3)),r=Rt(()=>!n||n.length===0?null:n.slice().sort((o,l)=>new Date(l.date)-new Date(o.date))[0]);function i(o){return new Date(o).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}return(o,l)=>{const u=js("router-link");return oe(),le("main",T0,[Ue(p0,{heroImg:U0,ctaSubtitle:B0,ctaTitle:$0}),Ue(a0,{aboutText:j0}),P("section",I0,[P("div",A0,[P("div",S0,[l[1]||(l[1]=P("h2",{class:"section__title"},"Upcoming Events",-1)),Ue(u,{class:"link-more",to:"/events"},{default:bt(()=>[...l[0]||(l[0]=[tt("View all events ",-1)])]),_:1})]),P("div",R0,[(oe(!0),le(At,null,us(s.value,h=>(oe(),le("article",{key:h.id,class:"card"},[Ue(b0,{start:h.start,title:h.title,location:h.location,summary:e.summary,id:e.id},null,8,["start","title","location","summary","id"])]))),128)),s.value.length===0?(oe(),le("div",C0,[...l[2]||(l[2]=[P("p",null,"No upcoming events yet. Check back soon!",-1)])])):St("",!0)])])]),P("section",P0,[P("div",k0,[P("div",O0,[l[4]||(l[4]=P("h2",{class:"section__title"},"From the Blog",-1)),Ue(u,{class:"link-more",to:"/blog"},{default:bt(()=>[...l[3]||(l[3]=[tt("Browse all posts ",-1)])]),_:1})]),r.value?(oe(),le("article",x0,[r.value.cover?(oe(),le("img",{key:0,src:r.value.cover,class:"post__img",alt:r.value.title},null,8,N0)):St("",!0),P("div",D0,[P("h3",V0,ye(r.value.title),1),P("p",L0,ye(i(r.value.date)),1),P("p",M0,ye(r.value.excerpt||""),1),Ue(u,{class:"btn btn--sm",to:`/blog/${r.value.slug}`},{default:bt(()=>[...l[5]||(l[5]=[tt("Read more",-1)])]),_:1},8,["to"])])])):(oe(),le("div",F0,[...l[6]||(l[6]=[P("p",null,"No blog posts yet. Stay tuned!",-1)])]))])])])}}},od="ratings_v1";function H0(){try{const t=localStorage.getItem(od);return t?JSON.parse(t):{}}catch{return localStorage.setItem(od,"{}"),{}}}function Dm(t){localStorage.setItem(od,JSON.stringify(t))}const _o=ht(H0());function W0(){function t(){try{return JSON.parse(localStorage.getItem("sessionUser")||"null")?.email||null}catch{return null}}function e(){return document.cookie.includes("loginSuccess=true")&&!!t()}function n(o){const l=_o.value[o]||{ratings:{}},u=Object.values(l.ratings),h=u.length;return{avg:h?u.reduce((m,y)=>m+y,0)/h:0,count:h}}function s(o){const l=t();if(!l)return 0;const u=_o.value[o]||{ratings:{}};return Number(u.ratings[l]||0)}function r(o,l){if(!e())throw new Error("Not authenticated");const u=t();if(!u)throw new Error("Missing user");const h={..._o.value};return h[o]=h[o]||{ratings:{}},h[o].ratings[u]=Number(l),_o.value=h,Dm(h),n(o)}function i(o){const l={..._o.value};l[o]&&(l[o].ratings={}),_o.value=l,Dm(l)}return{getStats:n,getUserRating:s,setUserRating:r,resetItem:i,isLoggedIn:e}}const z0={class:"rating-widget"},K0={key:0,class:"alert alert-warning d-flex justify-content-between align-items-center",role:"alert"},G0={key:1,class:"d-flex align-items-center gap-2"},Q0={class:"btn-group",role:"group","aria-label":"Star rating"},J0=["onClick","aria-pressed"],Y0={class:"small text-muted"},X0={key:0},Z0={key:1},eR={__name:"RatingWidget",props:{itemId:{type:String,required:!0},kind:{type:String,default:"item"}},setup(t){const e=t,{getStats:n,getUserRating:s,setUserRating:r,isLoggedIn:i}=W0(),o=ht({avg:0,count:0}),l=ht(0);VI(()=>{o.value=n(e.itemId),l.value=s(e.itemId)});function u(h){try{o.value=r(e.itemId,h),l.value=h}catch(d){console.warn(d?.message||d)}}return(h,d)=>{const m=js("router-link");return oe(),le("div",z0,[Fi(i)()?(oe(),le("div",G0,[P("div",Q0,[(oe(),le(At,null,us(5,y=>P("button",{key:y,type:"button",class:yu(["btn btn-outline-dark",{active:l.value>=y}]),onClick:T=>u(y),"aria-pressed":String(l.value>=y)},"",10,J0)),64))]),P("div",Y0,[o.value.count?(oe(),le("span",X0,"Avg "+ye(o.value.avg.toFixed(1))+"/5  "+ye(o.value.count)+" rating"+ye(o.value.count>1?"s":""),1)):(oe(),le("span",Z0,"No ratings yet"))])])):(oe(),le("div",K0,[P("div",null,[d[0]||(d[0]=P("strong",null,"Sign in",-1)),tt(" to rate this "+ye(t.kind)+".",1)]),Ue(m,{to:"/loginregister",class:"btn btn-sm btn-dark"},{default:bt(()=>[...d[1]||(d[1]=[tt("Login / Register",-1)])]),_:1})]))])}}},tR=Hs(eR,[["__scopeId","data-v-81f20e8f"]]),nR={class:"events-page py-4"},sR={class:"container mb-4"},rR={class:"row g-2 justify-content-center"},iR={class:"col-12 col-md-6 col-lg-4"},oR={class:"col-12 col-md-4 col-lg-3"},aR=["value"],lR={class:"container mb-4"},cR={class:"position-relative border rounded bg-white",style:{height:"360px",overflow:"hidden"}},uR=["title"],hR={class:"container"},dR={class:"row g-3"},fR={class:"card h-100 d-flex"},pR={class:"card-body"},mR={class:"d-flex align-items-center mb-2"},gR={class:"text-center bg-dark text-white rounded p-2 me-3",style:{"min-width":"68px"}},_R={class:"fw-bold fs-5"},yR={class:"small"},vR={class:"mb-0"},wR={key:0,class:"text-muted mb-2"},ER={class:"mb-3 mx-2"},bR={key:0,class:"col-12"},TR={__name:"EventView",setup(t){const e=ht([{id:"open",title:"Open Night",start:"2025-09-06T18:30:00",location:"Main Hall",summary:"Meet & greet + free play.",lat:-37.8136,lng:144.9631},{id:"clinic",title:"Coaching Clinic",start:"2025-09-12T10:00:00",location:"Training Room",summary:"Small group session.",lat:-37.7,lng:145},{id:"league-r1",title:"League Round 1",start:"2025-10-01T19:00:00",location:"Court 2",summary:"First round of league.",lat:-37.9,lng:145.1},{id:"social",title:"Friday Social",start:"2025-09-19T19:30:00",location:"Lounge",summary:"Casual matches + pizza.",lat:-37.82,lng:144.99}]),n=ht(""),s=ht(""),r=Rt(()=>{const h=new Date().getFullYear();return Array.from({length:12},(d,m)=>{const y=new Date(h,m,1);return{value:String(m),label:y.toLocaleString(void 0,{month:"long"})}})}),i=Rt(()=>{const h=n.value.toLowerCase();return e.value.filter(d=>{const m=!h||`${d.title} ${d.summary} ${d.location}`.toLowerCase().includes(h),y=new Date(d.start).getMonth(),T=s.value===""||String(y)===String(s.value);return m&&T}).sort((d,m)=>new Date(d.start)-new Date(m.start))});function o(h){const S=(h.lng-144.85)/.3499999999999943,k=1-(h.lat- -38.1)/(-37.6- -38.1);return{left:`${S*100}%`,top:`${k*100}%`}}function l(h){return new Date(h).getDate().toString().padStart(2,"0")}function u(h){return new Date(h).toLocaleString(void 0,{month:"short"}).toUpperCase()}return(h,d)=>{const m=js("router-link");return oe(),le("main",nR,[d[6]||(d[6]=P("section",{class:"container text-center mb-4"},[P("h1",{class:"mb-2"},"Events"),P("p",{class:"lead mb-0"},"Find meets, comps, and socials. Map is a placeholder for geo features.")],-1)),P("section",sR,[P("div",rR,[P("div",iR,[It(P("input",{"onUpdate:modelValue":d[0]||(d[0]=y=>n.value=y),type:"search",class:"form-control",placeholder:"Search events..."},null,512),[[Lt,n.value,void 0,{trim:!0}]])]),P("div",oR,[It(P("select",{"onUpdate:modelValue":d[1]||(d[1]=y=>s.value=y),class:"form-select"},[d[2]||(d[2]=P("option",{value:""},"Any month",-1)),(oe(!0),le(At,null,us(r.value,y=>(oe(),le("option",{key:y.value,value:y.value},ye(y.label),9,aR))),128))],512),[[nd,s.value]])])])]),P("section",lR,[P("div",cR,[(oe(!0),le(At,null,us(i.value,y=>(oe(),le("div",{key:y.id,class:"pin",style:_u(o(y)),title:y.title},null,12,uR))),128)),d[3]||(d[3]=P("div",{class:"position-absolute end-0 bottom-0 m-2 small px-2 py-1 bg-white border rounded text-secondary"}," Mock map  pins positioned from lat/lng (scaled) ",-1))])]),P("section",hR,[P("div",dR,[(oe(!0),le(At,null,us(i.value,y=>(oe(),le("div",{key:y.id,class:"col-12 col-md-6"},[P("div",fR,[P("div",pR,[P("div",mR,[P("div",gR,[P("div",_R,ye(l(y.start)),1),P("div",yR,ye(u(y.start)),1)]),P("h5",vR,ye(y.title),1)]),y.location?(oe(),le("p",wR," "+ye(y.location),1)):St("",!0),P("p",ER,ye(y.summary),1),Ue(m,{class:"btn btn-dark btn-sm",to:`/events/${y.id}`},{default:bt(()=>[...d[4]||(d[4]=[tt("Details",-1)])]),_:1},8,["to"]),Ue(tR,{"item-id":y.id,kind:"event",class:"mt-3"},null,8,["item-id"])])])]))),128)),i.value.length===0?(oe(),le("div",bR,[...d[5]||(d[5]=[P("div",{class:"border rounded p-4 text-center text-secondary"},"No events found.",-1)])])):St("",!0)])])])}}},IR=Hs(TR,[["__scopeId","data-v-8f754dc8"]]),AR={class:"blog-index py-4"},SR={class:"container mb-4"},RR={class:"row g-2 justify-content-center"},CR={class:"col-12 col-md-6 col-lg-5"},PR={class:"col-6 col-md-3 col-lg-2"},kR=["value"],OR={class:"col-6 col-md-3 col-lg-2"},xR={class:"container mb-4"},NR={class:"row g-3"},DR={class:"card h-100 d-flex"},VR=["src","alt"],LR={class:"card-body d-flex flex-column"},MR={class:"card-title"},FR={class:"card-subtitle text-muted mb-2"},UR={class:"card-text flex-grow-1"},$R={class:"mb-3"},BR={class:"mt-auto d-flex gap-2"},jR=["onClick"],qR={key:0,class:"col-12"},HR={key:0,class:"container"},WR={class:"d-flex justify-content-center align-items-center gap-2 pb-3"},zR=["disabled"],KR=["disabled"],GR={__name:"BlogView",setup(t){const e=ht([{slug:"league-highlights-aug",title:"League Highlights  August Wrap",date:"2025-08-18",readMins:4,excerpt:"A look back at the most exciting frames and big breaks from August.",tags:["events","highlights"],cover:"https://upatour.com/wp-content/uploads/2018/06/LRG_DSC01088.jpg"},{slug:"cue-care-101",title:"Cue Care 101: Make Your Cue Last",date:"2025-07-29",readMins:6,excerpt:"Simple maintenance tips to keep your cue straight and smooth.",tags:["tips"],cover:"https://www.pooldawg.com/articleee/assests/example-b.jpg"},{slug:"meet-the-coaches",title:"Meet the Coaches: Q&A",date:"2025-06-12",readMins:5,excerpt:"We sat down with our coaching team to talk drills, mindset, and more.",tags:["community","coaching"],cover:"https://images.unsplash.com/photo-1520975916090-3105956dac38?q=80&w=1600&auto=format&fit=crop"},{slug:"social-night-recap",title:"Social Night Recap",date:"2025-09-01",readMins:3,excerpt:"Big turnout, friendly matches, and pizzaheres what you missed.",tags:["community","events"],cover:"https://instagram.fsyd14-1.fna.fbcdn.net/v/t39.30808-6/528801150_122171977622495520_725561825731952275_n.jpg?stp=dst-jpg_e35_tt6&efg=eyJ2ZW5jb2RlX3RhZyI6IkZFRUQuaW1hZ2VfdXJsZ2VuLjE2Mzh4MjA0OC5zZHIuZjMwODA4LmRlZmF1bHRfaW1hZ2UuYzIifQ&_nc_ht=instagram.fsyd14-1.fna.fbcdn.net&_nc_cat=100&_nc_oc=Q6cZ2QHnN_Jg5Z0UjxLpVXL4PihQT2tD_-gs3MGBmKQ4Vo30-oku1GRfeP1CHWfUo2LSVhVDPfBcpNpdU-MoaRgW795P&_nc_ohc=e5SpZ2WtoBcQ7kNvwGzMWyn&_nc_gid=Vf7wUSrthYsGw-ptmqgoAw&edm=APs17CUAAAAA&ccb=7-5&ig_cache_key=MzY5MzE1MTg0MjgwMDQzNDQwMg%3D%3D.3-ccb7-5&oh=00_AfZZOVBaJBSDCWdBi2H7LRFDWHIwm79mEj78LK7jSNpb9w&oe=68C1C7DF&_nc_sid=10d13b"}]),n=ht(6),s=ht(""),r=ht(""),i=ht("date-desc"),o=ht(1),l=Rt(()=>{const S=new Set;return e.value.forEach(k=>k.tags?.forEach(D=>S.add(D))),Array.from(S).sort()}),u=Rt(()=>{const S=s.value.toLowerCase();return e.value.filter(k=>{const D=!S||`${k.title} ${k.excerpt} ${k.tags?.join(" ")}`.toLowerCase().includes(S),U=!r.value||k.tags?.includes(r.value);return D&&U})}),h=Rt(()=>{const S=u.value.slice();return i.value==="date-desc"&&S.sort((k,D)=>new Date(D.date)-new Date(k.date)),i.value==="date-asc"&&S.sort((k,D)=>new Date(k.date)-new Date(D.date)),i.value==="title-asc"&&S.sort((k,D)=>k.title.localeCompare(D.title)),S}),d=Rt(()=>Math.max(1,Math.ceil(h.value.length/n.value))),m=Rt(()=>{const S=(o.value-1)*n.value;return h.value.slice(S,S+n.value)});function y(S){return new Date(S).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}function T(S){alert(`This is a demo. On the real site, this would open comments for: ${S}`)}return(S,k)=>{const D=js("router-link");return oe(),le("main",AR,[k[10]||(k[10]=P("section",{class:"container text-center mb-4"},[P("h1",{class:"mb-2"},"Community Blog"),P("p",{class:"text-muted mb-0"},"Updates, tips, and stories from our members. Join the conversation.")],-1)),P("section",SR,[P("div",RR,[P("div",CR,[It(P("input",{"onUpdate:modelValue":k[0]||(k[0]=U=>s.value=U),type:"search",class:"form-control",placeholder:"Search posts...","aria-label":"Search posts"},null,512),[[Lt,s.value,void 0,{trim:!0}]])]),P("div",PR,[It(P("select",{"onUpdate:modelValue":k[1]||(k[1]=U=>r.value=U),class:"form-select","aria-label":"Filter by tag"},[k[5]||(k[5]=P("option",{value:""},"All tags",-1)),(oe(!0),le(At,null,us(l.value,U=>(oe(),le("option",{key:U,value:U},"#"+ye(U),9,kR))),128))],512),[[nd,r.value]])]),P("div",OR,[It(P("select",{"onUpdate:modelValue":k[2]||(k[2]=U=>i.value=U),class:"form-select","aria-label":"Sort posts"},[...k[6]||(k[6]=[P("option",{value:"date-desc"},"Newest first",-1),P("option",{value:"date-asc"},"Oldest first",-1),P("option",{value:"title-asc"},"Title AZ",-1)])],512),[[nd,i.value]])])])]),P("section",xR,[P("div",NR,[(oe(!0),le(At,null,us(m.value,U=>(oe(),le("div",{key:U.slug,class:"col-12 col-md-6 col-lg-4"},[P("div",DR,[U.cover?(oe(),le("img",{key:0,src:U.cover,class:"card-img-top",alt:U.title,style:{height:"200px","object-fit":"cover","object-position":"center"}},null,8,VR)):St("",!0),k[8]||(k[8]=tt()),P("div",LR,[P("h5",MR,[Ue(D,{class:"text-decoration-none",to:`/blog/${U.slug}`},{default:bt(()=>[tt(ye(U.title),1)]),_:2},1032,["to"])]),P("p",FR,ye(y(U.date))+"  "+ye(U.readMins)+" min read",1),P("p",UR,ye(U.excerpt),1),P("div",$R,[(oe(!0),le(At,null,us(U.tags,W=>(oe(),le("span",{key:W,class:"badge text-bg-light me-1"},"#"+ye(W),1))),128))]),P("div",BR,[Ue(D,{class:"btn btn-dark btn-sm",to:`/blog/${U.slug}`},{default:bt(()=>[...k[7]||(k[7]=[tt("Read",-1)])]),_:1},8,["to"]),P("button",{class:"btn btn-outline-dark btn-sm",onClick:W=>T(U.slug)}," Comment",8,jR)])])])]))),128)),m.value.length===0?(oe(),le("div",qR,[...k[9]||(k[9]=[P("div",{class:"border rounded p-4 text-center text-secondary"},"No posts match your filters.",-1)])])):St("",!0)])]),d.value>1?(oe(),le("section",HR,[P("div",WR,[P("button",{class:"btn btn-sm btn-outline-dark",disabled:o.value===1,onClick:k[3]||(k[3]=U=>o.value--)},"Prev",8,zR),P("span",null,"Page "+ye(o.value)+" / "+ye(d.value),1),P("button",{class:"btn btn-sm btn-outline-dark",disabled:o.value===d.value,onClick:k[4]||(k[4]=U=>o.value++)},"Next",8,KR)])])):St("",!0)])}}},QR={class:"py-4"},JR={class:"container"},YR={class:"h5 mb-3"},XR={class:"row g-3"},ZR={class:"card h-100 d-flex"},eC={class:"card-body w-100"},tC={class:"text-muted small mb-1"},nC={class:"h5 card-title mb-2"},sC={class:"card-text flex-grow-1"},rC={class:"mt-2 d-flex gap-2"},iC=["href"],oC={key:0,class:"col-12"},aC={class:"border rounded p-4 text-center text-secondary"},lC={__name:"Newsletters",setup(t){const e=ht([{id:"2025-09",title:"September 2025  Season Kickoff",date:"2025-09-01",excerpt:"Fixtures, coaching calendar, and social nights set for spring.",pdfUrl:"#"},{id:"2025-08",title:"August 2025  Finals Preview",date:"2025-08-01",excerpt:"Whos in form and what to watch.",pdfUrl:"#"},{id:"2025-07",title:"July 2025  Winter Warmers",date:"2025-07-01",excerpt:"New drills to try and a recap of the charity night.",pdfUrl:"#"},{id:"2024-12",title:"December 2024  Year in Review",date:"2024-12-01",excerpt:"Highlights from a huge year at the club.",pdfUrl:"#"}]),n=Rt(()=>{const r={};for(const i of e.value){const o=new Date(i.date).getFullYear();r[o]||=[],r[o].push(i)}return Object.values(r).forEach(i=>i.sort((o,l)=>new Date(l.date)-new Date(o.date))),Object.fromEntries(Object.entries(r).sort((i,o)=>Number(o[0])-Number(i[0])))});function s(r){return new Date(r).toLocaleDateString(void 0,{year:"numeric",month:"long"})}return(r,i)=>{const o=js("router-link");return oe(),le("main",QR,[i[1]||(i[1]=QI('<section class="container text-center mb-4"><h1 class="mb-2">Newsletters</h1><p class="lead text-muted mb-0">Monthly roundups, match recaps, coaching tips, and club news. Browse past issues below.</p></section><section class="container mb-4"><div class="row justify-content-center"><div class="col-12 col-md-10 col-lg-8"><div class="card d-flex"><div class="card-body"><h2 class="h4">About our newsletters</h2><p class="mb-0"> We publish a monthly newsletter to keep members in the loop. Expect event reminders, highlight reels, coaching notes, and occasional member spotlights. Subscribe on the home page, and explore the archive here. </p></div></div></div></div></section>',2)),P("section",JR,[(oe(!0),le(At,null,us(n.value,(l,u)=>(oe(),le("div",{key:u,class:"mb-4"},[P("h3",YR,ye(u),1),P("div",XR,[(oe(!0),le(At,null,us(l,h=>(oe(),le("div",{key:h.id,class:"col-12 col-md-6 col-lg-4"},[P("div",ZR,[P("div",eC,[P("div",tC,ye(s(h.date)),1),P("h4",nC,ye(h.title),1),P("p",sC,ye(h.excerpt),1),P("div",rC,[P("a",{class:"btn btn-dark btn-sm",href:h.pdfUrl,target:"_blank",rel:"noopener"},"View PDF",8,iC),Ue(o,{class:"btn btn-outline-dark btn-sm",to:`/newsletters/${h.id}`},{default:bt(()=>[...i[0]||(i[0]=[tt("Read online",-1)])]),_:1},8,["to"])])])])]))),128)),l.length===0?(oe(),le("div",oC,[P("div",aC,"No newsletters for "+ye(u)+".",1)])):St("",!0)])]))),128))])])}}},cC={class:"container py-4",style:{"max-width":"760px"}},uC={class:"d-flex justify-content-between align-items-center mb-3"},hC={class:"h4 m-0"},dC={class:"mb-3"},fC={key:0,class:"text-danger small"},pC={class:"mb-3"},mC={key:0,class:"alert alert-danger py-2",role:"alert"},gC={class:"row g-3"},_C={class:"col-12 col-md-6"},yC={key:0,class:"text-danger small"},vC={class:"col-12 col-md-6"},wC={class:"col-12"},EC={key:0,class:"text-danger small"},bC={class:"col-12 col-md-6"},TC={key:0,class:"text-danger small"},IC={class:"col-12 col-md-6"},AC={key:0,class:"text-danger small"},SC={key:1,class:"text-danger small"},RC={class:"col-12"},CC={class:"col-12 col-md-6"},PC={key:0,class:"alert alert-danger py-2 mt-3",role:"alert"},kC={__name:"LoginRegisterView",setup(t){const e=Cu(),n=ht(!0),s=ht({email:"",password:""}),r=ht(""),i={id:"admin",firstName:"Admin",lastName:"User",email:"admin@claytonpool.local",password:"Admin#123",address:"",phone:"",role:"admin"};(function(){const w=JSON.parse(localStorage.getItem("users")||"[]");w.some(b=>b.email.toLowerCase()===i.email.toLowerCase())||(w.push(i),localStorage.setItem("users",JSON.stringify(w)))})();const o=ht({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",address:"",phone:"",role:"member"}),l=ht(""),u=ht({userName:null,password:null,email:null,confirmPassword:null}),h=ce=>{(o.value.firstName?.trim()||"").length<3?ce&&(u.value.userName="Name must be at least 3 characters"):u.value.userName=null},d=ce=>{const w=o.value.password||"",b=8,R=/[A-Z]/.test(w),x=/[a-z]/.test(w),O=/\d/.test(w),L=/[!@#$%^&*()\-_=+[\]{};:'",.<>/?\\|`~]/.test(w);w.length<b?ce&&(u.value.password=`Password must be at least ${b} characters.`):R?x?O?L?u.value.password=null:ce&&(u.value.password="Include at least one special character."):ce&&(u.value.password="Include at least one number."):ce&&(u.value.password="Include at least one lowercase letter."):ce&&(u.value.password="Include at least one uppercase letter.")},m=ce=>{const w=o.value.email?.trim()||"";w?/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(w)?u.value.email=null:ce&&(u.value.email="Please enter a valid email address."):ce&&(u.value.email="Email is required.")},y=ce=>{const w=o.value.password||"",b=o.value.confirmPassword||"";b?w!==b?ce&&(u.value.confirmPassword="Passwords do not match."):u.value.confirmPassword=null:ce&&(u.value.confirmPassword="Please confirm your password.")},T=Rt(()=>o.value.confirmPassword===""||o.value.password===o.value.confirmPassword),S=ce=>{const w=s.value.email?.trim()||"";w?/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(w)?u.value.loginEmail=null:ce&&(u.value.loginEmail="Enter a valid email address."):ce&&(u.value.loginEmail="Email is required.")};function k(ce,w,b=3600*24*7){document.cookie=`${encodeURIComponent(ce)}=${encodeURIComponent(w)}; path=/; max-age=${b}; samesite=lax`}function D(){return JSON.parse(localStorage.getItem("users")||"[]")}function U(ce){localStorage.setItem("users",JSON.stringify(ce))}function W(ce){localStorage.setItem("sessionUser",JSON.stringify(ce)),k("sessionUser",ce.email),k("loginSuccess","true")}function G(){if(r.value="",S(!0),u.value.loginEmail)return;if(s.value.email.toLowerCase()===i.email.toLowerCase()&&s.value.password===i.password){W(i),window.dispatchEvent(new StorageEvent("storage",{key:"sessionUser"})),e.push("/");return}const w=D().find(b=>b.email.toLowerCase()===s.value.email.toLowerCase());if(!w){r.value="Account does not exist  please register.";return}if(w.password!==s.value.password){r.value="Invalid email or password.";return}w.email.toLowerCase()===i.email.toLowerCase()&&(w.role="admin"),W(w),window.dispatchEvent(new StorageEvent("storage",{key:"sessionUser"})),e.push("/")}function se(){if(l.value="",h(!0),m(!0),d(!0),y(!0),u.value.userName||u.value.email||u.value.password||u.value.confirmPassword||!T.value)return;if(o.value.email.toLowerCase()===i.email.toLowerCase()){l.value="This email is reserved for the administrator.";return}const ce=D();if(ce.find(b=>b.email===o.value.email)){l.value="Email is already registered.";return}const w={id:crypto.randomUUID?.()||String(Date.now()),firstName:o.value.firstName,lastName:o.value.lastName,email:o.value.email,password:o.value.password,address:o.value.address||"",phone:o.value.phone||"",role:o.value.role||"member"};console.log("User Created"),ce.push(w),console.log("User Added to list"),U(ce),console.log("User Saved to db"),W(w),l.value="",n.value=!0,window.dispatchEvent(new StorageEvent("storage",{key:"sessionUser"})),e.push("/")}function ve(){n.value=!n.value,r.value="",l.value=""}return(ce,w)=>(oe(),le("main",cC,[P("div",uC,[P("h1",hC,ye(n.value?"Login":"Register"),1),P("button",{class:"btn btn-outline-secondary btn-sm",onClick:ve}," Switch to "+ye(n.value?"Register":"Login"),1)]),n.value?(oe(),le("form",{key:0,onSubmit:jc(G,["prevent"]),class:"card p-4 shadow-sm d-flex"},[w[21]||(w[21]=P("p",{class:"text-muted mb-3"},"Welcome back! Please enter your email and password.",-1)),P("div",dC,[w[19]||(w[19]=P("label",{class:"form-label"},"Email",-1)),It(P("input",{type:"email",class:"form-control","onUpdate:modelValue":w[0]||(w[0]=b=>s.value.email=b),onBlur:w[1]||(w[1]=b=>S(!0)),onInput:w[2]||(w[2]=b=>S(!1)),required:""},null,544),[[Lt,s.value.email,void 0,{trim:!0}]]),u.value.loginEmail?(oe(),le("div",fC,ye(u.value.loginEmail),1)):St("",!0)]),P("div",pC,[w[20]||(w[20]=P("label",{class:"form-label"},"Password",-1)),It(P("input",{type:"password",class:"form-control","onUpdate:modelValue":w[3]||(w[3]=b=>s.value.password=b),minlength:"8",required:""},null,512),[[Lt,s.value.password]])]),r.value?(oe(),le("div",mC,ye(r.value),1)):St("",!0),w[22]||(w[22]=P("button",{class:"btn btn-dark"},"Login",-1))],32)):(oe(),le("form",{key:1,onSubmit:jc(se,["prevent"]),class:"card p-4 shadow-sm d-flex"},[w[31]||(w[31]=P("p",{class:"text-muted mb-3"},"Create your member account (address & phone optional).",-1)),P("div",gC,[P("div",_C,[w[23]||(w[23]=P("label",{class:"form-label"},"First Name",-1)),It(P("input",{type:"text",class:"form-control","onUpdate:modelValue":w[4]||(w[4]=b=>o.value.firstName=b),onBlur:w[5]||(w[5]=b=>h(!0)),onInput:w[6]||(w[6]=b=>h(!1)),required:"",minlength:"3"},null,544),[[Lt,o.value.firstName,void 0,{trim:!0}]]),u.value.userName?(oe(),le("div",yC,ye(u.value.userName),1)):St("",!0)]),P("div",vC,[w[24]||(w[24]=P("label",{class:"form-label"},"Last Name",-1)),It(P("input",{type:"text",class:"form-control","onUpdate:modelValue":w[7]||(w[7]=b=>o.value.lastName=b),required:""},null,512),[[Lt,o.value.lastName,void 0,{trim:!0}]])]),P("div",wC,[w[25]||(w[25]=P("label",{class:"form-label"},"Email",-1)),It(P("input",{type:"email",class:"form-control","onUpdate:modelValue":w[8]||(w[8]=b=>o.value.email=b),onBlur:w[9]||(w[9]=b=>m(!0)),onInput:w[10]||(w[10]=b=>m(!1)),required:""},null,544),[[Lt,o.value.email,void 0,{trim:!0}]]),u.value.email?(oe(),le("div",EC,ye(u.value.email),1)):St("",!0)]),P("div",bC,[w[26]||(w[26]=P("label",{class:"form-label"},"Password",-1)),It(P("input",{type:"password",class:"form-control","onUpdate:modelValue":w[11]||(w[11]=b=>o.value.password=b),onBlur:w[12]||(w[12]=b=>d(!0)),onInput:w[13]||(w[13]=b=>d(!1)),minlength:"8",maxlength:"64",required:""},null,544),[[Lt,o.value.password]]),u.value.password?(oe(),le("div",TC,ye(u.value.password),1)):St("",!0),w[27]||(w[27]=P("div",{class:"form-text"},"8+ chars incl. upper, lower, number, special.",-1))]),P("div",IC,[w[28]||(w[28]=P("label",{class:"form-label"},"Confirm Password",-1)),It(P("input",{type:"password",class:"form-control","onUpdate:modelValue":w[14]||(w[14]=b=>o.value.confirmPassword=b),onBlur:w[15]||(w[15]=b=>y(!0)),onInput:w[16]||(w[16]=b=>y(!1)),required:""},null,544),[[Lt,o.value.confirmPassword]]),T.value?St("",!0):(oe(),le("div",AC,"Passwords do not match.")),u.value.confirmPassword?(oe(),le("div",SC,ye(u.value.confirmPassword),1)):St("",!0)]),P("div",RC,[w[29]||(w[29]=P("label",{class:"form-label"},[tt("Address "),P("span",{class:"text-muted"},"(optional)")],-1)),It(P("input",{type:"text",class:"form-control","onUpdate:modelValue":w[17]||(w[17]=b=>o.value.address=b)},null,512),[[Lt,o.value.address,void 0,{trim:!0}]])]),P("div",CC,[w[30]||(w[30]=P("label",{class:"form-label"},[tt("Phone "),P("span",{class:"text-muted"},"(optional)")],-1)),It(P("input",{type:"tel",class:"form-control","onUpdate:modelValue":w[18]||(w[18]=b=>o.value.phone=b),placeholder:"04xx xxx xxx"},null,512),[[Lt,o.value.phone,void 0,{trim:!0}]])])]),l.value?(oe(),le("div",PC,ye(l.value),1)):St("",!0),w[32]||(w[32]=P("button",{class:"btn btn-dark mt-3"},"Create account",-1))],32))]))}},OC=()=>{};var Vm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},xC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],l=t[n++],u=((r&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Wy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,l=o?t[r+1]:0,u=r+2<t.length,h=u?t[r+2]:0,d=i>>2,m=(i&3)<<4|l>>4;let y=(l&15)<<2|h>>6,T=h&63;u||(T=64,o||(y=64)),s.push(n[d],n[m],n[y],n[T])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||h==null||m==null)throw new NC;const y=i<<2|l>>4;if(s.push(y),h!==64){const T=l<<4&240|h>>2;if(s.push(T),m!==64){const S=h<<6&192|m;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DC=function(t){const e=Hy(t);return Wy.encodeByteArray(e,!0)},Hc=function(t){return DC(t).replace(/\./g,"")},zy=function(t){try{return Wy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=()=>VC().__FIREBASE_DEFAULTS__,MC=()=>{if(typeof process>"u"||typeof Vm>"u")return;const t=Vm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zy(t[1]);return e&&JSON.parse(e)},Pu=()=>{try{return OC()||LC()||MC()||FC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ky=t=>Pu()?.emulatorHosts?.[t],UC=t=>{const e=Ky(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Gy=()=>Pu()?.config,Qy=t=>Pu()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Hc(JSON.stringify(n)),Hc(JSON.stringify(o)),""].join(".")}const Wa={};function jC(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wa))Wa[e]?t.emulator.push(e):t.prod.push(e);return t}function qC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Lm=!1;function Yy(t,e){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||Wa[t]===e||Wa[t]||Lm)return;Wa[t]=e;function n(y){return`__firebase__banner__${y}`}const s="__firebase__banner",i=jC().prod.length>0;function o(){const y=document.getElementById(s);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,T){y.setAttribute("width","24"),y.setAttribute("id",T),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{Lm=!0,o()},y}function d(y,T){y.setAttribute("id",T),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=qC(s),T=n("text"),S=document.getElementById(T)||document.createElement("span"),k=n("learnmore"),D=document.getElementById(k)||document.createElement("a"),U=n("preprendIcon"),W=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const G=y.element;l(G),d(D,k);const se=h();u(W,U),G.append(W,S,D,se),document.body.appendChild(G)}i?(S.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function WC(){const t=Pu()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QC(){const t=Tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JC(){return!WC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YC(){try{return typeof indexedDB=="object"}catch{return!1}}function XC(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="FirebaseError";class vr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ZC,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?e1(i,s):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new vr(r,l,s)}}function e1(t,e){return t.replace(t1,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const t1=/\{\$([^}]+)}/g;function n1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $i(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Mm(i)&&Mm(o)){if(!$i(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Mm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function xa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Na(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function s1(t,e){const n=new r1(t,e);return n.subscribe.bind(n)}class r1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");i1(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=Oh),r.error===void 0&&(r.error=Oh),r.complete===void 0&&(r.complete=Oh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i1(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Oh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){return t&&t._delegate?t._delegate:t}class Bi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $C;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l1(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:a1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a1(t){return t===Ni?void 0:t}function l1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new o1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const u1={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},h1=qe.INFO,d1={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},f1=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=d1[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rf{constructor(e){this.name=e,this._logLevel=h1,this._logHandler=f1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const p1=(t,e)=>e.some(n=>t instanceof n);let Fm,Um;function m1(){return Fm||(Fm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g1(){return Um||(Um=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xy=new WeakMap,ad=new WeakMap,Zy=new WeakMap,xh=new WeakMap,of=new WeakMap;function _1(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Kr(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Xy.set(n,t)}).catch(()=>{}),of.set(e,t),e}function y1(t){if(ad.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ad.set(t,e)}let ld={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ad.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Zy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v1(t){ld=t(ld)}function w1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Nh(this),e,...n);return Zy.set(s,e.sort?e.sort():[e]),Kr(s)}:g1().includes(t)?function(...e){return t.apply(Nh(this),e),Kr(Xy.get(this))}:function(...e){return Kr(t.apply(Nh(this),e))}}function E1(t){return typeof t=="function"?w1(t):(t instanceof IDBTransaction&&y1(t),p1(t,m1())?new Proxy(t,ld):t)}function Kr(t){if(t instanceof IDBRequest)return _1(t);if(xh.has(t))return xh.get(t);const e=E1(t);return e!==t&&(xh.set(t,e),of.set(e,t)),e}const Nh=t=>of.get(t);function b1(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),l=Kr(o);return s&&o.addEventListener("upgradeneeded",u=>{s(Kr(o.result),u.oldVersion,u.newVersion,Kr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const T1=["get","getKey","getAll","getAllKeys","count"],I1=["put","add","delete","clear"],Dh=new Map;function $m(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dh.get(e))return Dh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=I1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||T1.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let h=u.store;return s&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return Dh.set(e,i),i}v1(t=>({...t,get:(e,n,s)=>$m(e,n)||t.get(e,n,s),has:(e,n)=>!!$m(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function S1(t){return t.getComponent()?.type==="VERSION"}const cd="@firebase/app",Bm="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new rf("@firebase/app"),R1="@firebase/app-compat",C1="@firebase/analytics-compat",P1="@firebase/analytics",k1="@firebase/app-check-compat",O1="@firebase/app-check",x1="@firebase/auth",N1="@firebase/auth-compat",D1="@firebase/database",V1="@firebase/data-connect",L1="@firebase/database-compat",M1="@firebase/functions",F1="@firebase/functions-compat",U1="@firebase/installations",$1="@firebase/installations-compat",B1="@firebase/messaging",j1="@firebase/messaging-compat",q1="@firebase/performance",H1="@firebase/performance-compat",W1="@firebase/remote-config",z1="@firebase/remote-config-compat",K1="@firebase/storage",G1="@firebase/storage-compat",Q1="@firebase/firestore",J1="@firebase/ai",Y1="@firebase/firestore-compat",X1="firebase",Z1="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="[DEFAULT]",eP={[cd]:"fire-core",[R1]:"fire-core-compat",[P1]:"fire-analytics",[C1]:"fire-analytics-compat",[O1]:"fire-app-check",[k1]:"fire-app-check-compat",[x1]:"fire-auth",[N1]:"fire-auth-compat",[D1]:"fire-rtdb",[V1]:"fire-data-connect",[L1]:"fire-rtdb-compat",[M1]:"fire-fn",[F1]:"fire-fn-compat",[U1]:"fire-iid",[$1]:"fire-iid-compat",[B1]:"fire-fcm",[j1]:"fire-fcm-compat",[q1]:"fire-perf",[H1]:"fire-perf-compat",[W1]:"fire-rc",[z1]:"fire-rc-compat",[K1]:"fire-gcs",[G1]:"fire-gcs-compat",[Q1]:"fire-fst",[Y1]:"fire-fst-compat",[J1]:"fire-vertex","fire-js":"fire-js",[X1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Map,tP=new Map,hd=new Map;function jm(t,e){try{t.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $o(t){const e=t.name;if(hd.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;hd.set(e,t);for(const n of Wc.values())jm(n,t);for(const n of tP.values())jm(n,t);return!0}function af(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new gl("app","Firebase",nP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=Z1;function ev(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:ud,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Gr.create("bad-app-name",{appName:String(r)});if(n||(n=Gy()),!n)throw Gr.create("no-options");const i=Wc.get(r);if(i){if($i(n,i.options)&&$i(s,i.config))return i;throw Gr.create("duplicate-app",{appName:r})}const o=new c1(r);for(const u of hd.values())o.addComponent(u);const l=new sP(n,s,o);return Wc.set(r,l),l}function tv(t=ud){const e=Wc.get(t);if(!e&&t===ud&&Gy())return ev();if(!e)throw Gr.create("no-app",{appName:t});return e}function Qr(t,e,n){let s=eP[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(o.join(" "));return}$o(new Bi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="firebase-heartbeat-database",iP=1,rl="firebase-heartbeat-store";let Vh=null;function nv(){return Vh||(Vh=b1(rP,iP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),Vh}async function oP(t){try{const n=(await nv()).transaction(rl),s=await n.objectStore(rl).get(sv(t));return await n.done,s}catch(e){if(e instanceof vr)pr.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e?.message});pr.warn(n.message)}}}async function qm(t,e){try{const s=(await nv()).transaction(rl,"readwrite");await s.objectStore(rl).put(e,sv(t)),await s.done}catch(n){if(n instanceof vr)pr.warn(n.message);else{const s=Gr.create("idb-set",{originalErrorMessage:n?.message});pr.warn(s.message)}}}function sv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=1024,lP=30;class cP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hP(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hm();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>lP){const r=dP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Hm(),{heartbeatsToSend:n,unsentEntries:s}=uP(this._heartbeatsCache.heartbeats),r=Hc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return pr.warn(e),""}}}function Hm(){return new Date().toISOString().substring(0,10)}function uP(t,e=aP){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Wm(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Wm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class hP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YC()?XC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Wm(t){return Hc(JSON.stringify({version:2,heartbeats:t})).length}function dP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){$o(new Bi("platform-logger",e=>new A1(e),"PRIVATE")),$o(new Bi("heartbeat",e=>new cP(e),"PRIVATE")),Qr(cd,Bm,t),Qr(cd,Bm,"esm2020"),Qr("fire-js","")}fP("");function rv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pP=rv,iv=new gl("auth","Firebase",rv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new rf("@firebase/auth");function mP(t,...e){zc.logLevel<=qe.WARN&&zc.warn(`Auth (${Qo}): ${t}`,...e)}function _c(t,...e){zc.logLevel<=qe.ERROR&&zc.error(`Auth (${Qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,...e){throw lf(t,...e)}function Ds(t,...e){return lf(t,...e)}function ov(t,e,n){const s={...pP(),[e]:n};return new gl("auth","Firebase",s).create(e,{appName:t.name})}function ur(t){return ov(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lf(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return iv.create(t,...e)}function Ae(t,e,...n){if(!t)throw lf(e,...n)}function lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _c(e),new Error(e)}function mr(t,e){t||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(){return typeof self<"u"&&self.location?.href||""}function gP(){return zm()==="http:"||zm()==="https:"}function zm(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gP()||KC()||"connection"in navigator)?navigator.onLine:!0}function yP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=HC()||GC()}get(){return _P()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e){mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EP=new yl(3e4,6e4);function li(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ci(t,e,n,s,r={}){return lv(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const l=_l({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...i};return zC()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Go(t.emulatorConfig.host)&&(h.credentials="include"),av.fetch()(await cv(t,t.config.apiHost,n,l),h)})}async function lv(t,e,n){t._canInitEmulator=!1;const s={...vP,...e};try{const r=new TP(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw nc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw nc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw nc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw nc(t,"user-disabled",o);const d=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw ov(t,d,h);ds(t,d)}}catch(r){if(r instanceof vr)throw r;ds(t,"network-request-failed",{message:String(r)})}}async function vl(t,e,n,s,r={}){const i=await ci(t,e,n,s,r);return"mfaPendingCredential"in i&&ds(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function cv(t,e,n,s){const r=`${e}${n}?${s}`,i=t,o=i.config.emulator?cf(t.config,r):`${t.config.apiScheme}://${r}`;return wP.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function bP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ds(this.auth,"network-request-failed")),EP.get())})}}function nc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Ds(t,e,s);return r.customData._tokenResponse=n,r}function Km(t){return t!==void 0&&t.enterprise!==void 0}class IP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AP(t,e){return ci(t,"GET","/v2/recaptchaConfig",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(t,e){return ci(t,"POST","/v1/accounts:delete",e)}async function Kc(t,e){return ci(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RP(t,e=!1){const n=Bn(t),s=await n.getIdToken(e),r=uf(s);Ae(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i?.sign_in_provider;return{claims:r,token:s,authTime:za(Lh(r.auth_time)),issuedAtTime:za(Lh(r.iat)),expirationTime:za(Lh(r.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Lh(t){return Number(t)*1e3}function uf(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return _c("JWT malformed, contained fewer than 3 sections"),null;try{const r=zy(n);return r?JSON.parse(r):(_c("Failed to decode base64 JWT payload"),null)}catch(r){return _c("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Gm(t){const e=uf(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof vr&&CP(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function CP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(t){const e=t.auth,n=await t.getIdToken(),s=await il(t,Kc(e,{idToken:n}));Ae(s?.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=r.providerUserInfo?.length?uv(r.providerUserInfo):[],o=OP(t.providerData,i),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!o?.length,h=l?u:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new fd(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function kP(t){const e=Bn(t);await Gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OP(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function uv(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(t,e){const n=await lv(t,{},async()=>{const s=_l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=await cv(t,r,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:s};return t.emulatorConfig&&Go(t.emulatorConfig.host)&&(u.credentials="include"),av.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NP(t,e){return ci(t,"POST","/v2/accounts:revokeToken",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=Gm(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await xP(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new Oo;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(Ae(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(Ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class as{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new PP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new fd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await il(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RP(this,e)}reload(){return kP(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new as({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Gc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await il(this,SP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:T,providerData:S,stsTokenManager:k}=n;Ae(m&&k,e,"internal-error");const D=Oo.fromJSON(this.name,k);Ae(typeof m=="string",e,"internal-error"),Mr(s,e.name),Mr(r,e.name),Ae(typeof y=="boolean",e,"internal-error"),Ae(typeof T=="boolean",e,"internal-error"),Mr(i,e.name),Mr(o,e.name),Mr(l,e.name),Mr(u,e.name),Mr(h,e.name),Mr(d,e.name);const U=new as({uid:m,auth:e,email:r,emailVerified:y,displayName:s,isAnonymous:T,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:D,createdAt:h,lastLoginAt:d});return S&&Array.isArray(S)&&(U.providerData=S.map(W=>({...W}))),u&&(U._redirectEventId=u),U}static async _fromIdTokenResponse(e,n,s=!1){const r=new Oo;r.updateFromServerResponse(n);const i=new as({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Gc(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];Ae(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?uv(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!i?.length,l=new Oo;l.updateFromIdToken(s);const u=new as({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new fd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=new Map;function cr(t){mr(t instanceof Function,"Expected a class definition");let e=Qm.get(t);return e?(mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hv.type="NONE";const Jm=hv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t,e,n){return`firebase:${t}:${e}:${n}`}class xo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=yc(this.userKey,r.apiKey,i),this.fullPersistenceKey=yc("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kc(this.auth,{idToken:e}).catch(()=>{});return n?as._fromGetAccountInfoResponse(this.auth,n,e):null}return as._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new xo(cr(Jm),e,s);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=r[0]||cr(Jm);const o=yc(s,e.config.apiKey,e.name);let l=null;for(const h of n)try{const d=await h._get(o);if(d){let m;if(typeof d=="string"){const y=await Kc(e,{idToken:d}).catch(()=>{});if(!y)break;m=await as._fromGetAccountInfoResponse(e,y,d)}else m=as._fromJSON(e,d);h!==i&&(l=m),i=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new xo(i,e,s):(i=u[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new xo(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_v(e))return"Blackberry";if(yv(e))return"Webos";if(fv(e))return"Safari";if((e.includes("chrome/")||pv(e))&&!e.includes("edge/"))return"Chrome";if(gv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function dv(t=Tn()){return/firefox\//i.test(t)}function fv(t=Tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pv(t=Tn()){return/crios\//i.test(t)}function mv(t=Tn()){return/iemobile/i.test(t)}function gv(t=Tn()){return/android/i.test(t)}function _v(t=Tn()){return/blackberry/i.test(t)}function yv(t=Tn()){return/webos/i.test(t)}function hf(t=Tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DP(t=Tn()){return hf(t)&&!!window.navigator?.standalone}function VP(){return QC()&&document.documentMode===10}function vv(t=Tn()){return hf(t)||gv(t)||yv(t)||_v(t)||/windows phone/i.test(t)||mv(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t,e=[]){let n;switch(t){case"Browser":n=Ym(Tn());break;case"Worker":n=`${Ym(Tn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,l)=>{try{const u=e(i);o(u)}catch(u){l(u)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(t,e={}){return ci(t,"GET","/v2/passwordPolicy",li(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=6;class UP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??FP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xm(this),this.idTokenSubscription=new Xm(this),this.beforeStateQueue=new LP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kc(this,{idToken:e}),s=await as._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=s?._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===o)&&l?.user&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(ur(this));const n=e?Bn(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MP(this),n=new UP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await NP(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,s,r);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ki(t){return Bn(t)}class Xm{constructor(e){this.auth=e,this.observer=null,this.addObserver=s1(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BP(t){ku=t}function Ev(t){return ku.loadJS(t)}function jP(){return ku.recaptchaEnterpriseScript}function qP(){return ku.gapiScript}function HP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class WP{constructor(){this.enterprise=new zP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KP="recaptcha-enterprise",bv="NO_RECAPTCHA";class GP{constructor(e){this.type=KP,this.auth=Ki(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{AP(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new IP(u);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,o(h.siteKey)}}).catch(u=>{l(u)})})}function r(i,o,l){const u=window.grecaptcha;Km(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(h=>{o(h)}).catch(()=>{o(bv)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WP().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{s(this.auth).then(l=>{if(!n&&Km(window.grecaptcha))r(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=jP();u.length!==0&&(u+=l),Ev(u).then(()=>{r(l,i,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function Zm(t,e,n,s=!1,r=!1){const i=new GP(t);let o;if(r)o=bv;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function pd(t,e,n,s,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Zm(t,e,n,n==="getOobCode");return s(t,i)}else return s(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Zm(t,e,n,n==="getOobCode");return s(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t,e){const n=af(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if($i(i,e??{}))return r;ds(r,"already-initialized")}return n.initialize({options:e})}function JP(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(cr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function YP(t,e,n){const s=Ki(t);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=Tv(e),{host:o,port:l}=XP(e),u=l===null?"":`:${l}`,h={url:`${i}//${o}${u}/`},d=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae($i(h,s.config.emulator)&&$i(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,Go(o)?(Jy(`${i}//${o}${u}`),Yy("Auth",!0)):ZP()}function Tv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XP(t){const e=Tv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:eg(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:eg(o)}}}function eg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function ek(t,e){return ci(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(t,e){return vl(t,"POST","/v1/accounts:signInWithPassword",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(t,e){return vl(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))}async function sk(t,e){return vl(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends df{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new ol(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ol(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pd(e,n,"signInWithPassword",tk);case"emailLink":return nk(e,{email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pd(e,s,"signUpPassword",ek);case"emailLink":return sk(e,{idToken:n,email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t,e){return vl(t,"POST","/v1/accounts:signInWithIdp",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="http://localhost";class ji extends df{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const o=new ji(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,No(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:rk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ok(t){const e=xa(Na(t)).link,n=e?xa(Na(e)).deep_link_id:null,s=xa(Na(t)).deep_link_id;return(s?xa(Na(s)).link:null)||s||n||e||t}class ff{constructor(e){const n=xa(Na(e)),s=n.apiKey??null,r=n.oobCode??null,i=ik(n.mode??null);Ae(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ok(e);try{return new ff(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,n){return ol._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ff.parseLink(n);return Ae(s,"argument-error"),ol._fromEmailAndCode(e,s.code,s.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends Iv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends wl{constructor(){super("facebook.com")}static credential(e){return ji._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ji._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends wl{constructor(){super("github.com")}static credential(e){return ji._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends wl{constructor(){super("twitter.com")}static credential(e,n){return ji._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Hr.credential(n,s)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(t,e){return vl(t,"POST","/v1/accounts:signUp",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await as._fromIdTokenResponse(e,s,r),o=tg(s);return new qi({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=tg(s);return new qi({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function tg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends vr{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Qc(e,n,s,r)}}function Av(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(t,i,e,s):i})}async function lk(t,e,n=!1){const s=await il(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qi._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(t,e,n=!1){const{auth:s}=t;if(Jn(s.app))return Promise.reject(ur(s));const r="reauthenticate";try{const i=await il(t,Av(s,r,e,t),n);Ae(i.idToken,s,"internal-error");const o=uf(i.idToken);Ae(o,s,"internal-error");const{sub:l}=o;return Ae(t.uid===l,s,"user-mismatch"),qi._forOperation(t,r,i)}catch(i){throw i?.code==="auth/user-not-found"&&ds(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sv(t,e,n=!1){if(Jn(t.app))return Promise.reject(ur(t));const s="signIn",r=await Av(t,s,e),i=await qi._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function uk(t,e){return Sv(Ki(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rv(t){const e=Ki(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hk(t,e,n){if(Jn(t.app))return Promise.reject(ur(t));const s=Ki(t),o=await pd(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ak).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Rv(t),u}),l=await qi._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function dk(t,e,n){return Jn(t.app)?Promise.reject(ur(t)):uk(Bn(t),Jo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Rv(t),s})}function fk(t,e,n,s){return Bn(t).onIdTokenChanged(e,n,s)}function pk(t,e,n){return Bn(t).beforeAuthStateChanged(e,n)}const Jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=1e3,gk=10;class Pv extends Cv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);VP()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,gk):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},mk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pv.type="LOCAL";const _k=Pv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends Cv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kv.type="SESSION";const Ov=kv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Ou(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(o).map(async h=>h(n.origin,i)),u=await yk(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ou.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((l,u)=>{const h=pf("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(y.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(){return window}function wk(t){Vs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(){return typeof Vs().WorkerGlobalScope<"u"&&typeof Vs().importScripts=="function"}async function Ek(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bk(){return navigator?.serviceWorker?.controller||null}function Tk(){return xv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="firebaseLocalStorageDb",Ik=1,Yc="firebaseLocalStorage",Dv="fbase_key";class El{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xu(t,e){return t.transaction([Yc],e?"readwrite":"readonly").objectStore(Yc)}function Ak(){const t=indexedDB.deleteDatabase(Nv);return new El(t).toPromise()}function md(){const t=indexedDB.open(Nv,Ik);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Yc,{keyPath:Dv})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Yc)?e(s):(s.close(),await Ak(),e(await md()))})})}async function ng(t,e,n){const s=xu(t,!0).put({[Dv]:e,value:n});return new El(s).toPromise()}async function Sk(t,e){const n=xu(t,!1).get(e),s=await new El(n).toPromise();return s===void 0?null:s.value}function sg(t,e){const n=xu(t,!0).delete(e);return new El(n).toPromise()}const Rk=800,Ck=3;class Vv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await md(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Ck)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ou._getInstance(Tk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ek(),!this.activeServiceWorker)return;this.sender=new vk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await md();return await ng(e,Jc,"1"),await sg(e,Jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ng(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Sk(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=xu(r,!1).getAll();return new El(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Rk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vv.type="LOCAL";const Pk=Vv;new yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e){return e?cr(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends df{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ok(t){return Sv(t.auth,new mf(t),t.bypassAuthState)}function xk(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),ck(n,new mf(t),t.bypassAuthState)}async function Nk(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),lk(n,new mf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ok;case"linkViaPopup":case"linkViaRedirect":return Nk;case"reauthViaPopup":case"reauthViaRedirect":return xk;default:ds(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=new yl(2e3,1e4);class Io extends Lv{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=pf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Dk.get())};e()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="pendingRedirect",vc=new Map;class Lk extends Lv{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=vc.get(this.auth._key());if(!e){try{const s=await Mk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}vc.set(this.auth._key(),e)}return this.bypassAuthState||vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mk(t,e){const n=$k(e),s=Uk(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function Fk(t,e){vc.set(t._key(),e)}function Uk(t){return cr(t._redirectPersistence)}function $k(t){return yc(Vk,t.config.apiKey,t.name)}async function Bk(t,e,n=!1){if(Jn(t.app))return Promise.reject(ur(t));const s=Ki(t),r=kk(s,e),o=await new Lk(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=600*1e3;class qk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Mv(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ds(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jk&&this.cachedEventUids.clear(),this.cachedEventUids.has(rg(e))}saveEventToCache(e){this.cachedEventUids.add(rg(e)),this.lastProcessedEventTime=Date.now()}}function rg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Mv({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Hk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mv(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(t,e={}){return ci(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kk=/^https?/;async function Gk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Wk(t);for(const n of e)try{if(Qk(n))return}catch{}ds(t,"unauthorized-domain")}function Qk(t){const e=dd(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!Kk.test(n))return!1;if(zk.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=new yl(3e4,6e4);function ig(){const t=Vs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Yk(t){return new Promise((e,n)=>{function s(){ig(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ig(),n(Ds(t,"network-request-failed"))},timeout:Jk.get()})}if(Vs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vs().gapi?.load)s();else{const r=HP("iframefcb");return Vs()[r]=()=>{gapi.load?s():n(Ds(t,"network-request-failed"))},Ev(`${qP()}?onload=${r}`).catch(i=>n(i))}}).catch(e=>{throw wc=null,e})}let wc=null;function Xk(t){return wc=wc||Yk(t),wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=new yl(5e3,15e3),eO="__/auth/iframe",tO="emulator/auth/iframe",nO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rO(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cf(e,tO):`https://${t.config.authDomain}/${eO}`,s={apiKey:e.apiKey,appName:t.name,v:Qo},r=sO.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${_l(s).slice(1)}`}async function iO(t){const e=await Xk(t),n=Vs().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:rO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nO,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=Ds(t,"network-request-failed"),l=Vs().setTimeout(()=>{i(o)},Zk.get());function u(){Vs().clearTimeout(l),r(s)}s.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aO=500,lO=600,cO="_blank",uO="http://localhost";class og{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hO(t,e,n,s=aO,r=lO){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const u={...oO,width:s.toString(),height:r.toString(),top:i,left:o},h=Tn().toLowerCase();n&&(l=pv(h)?cO:n),dv(h)&&(e=e||uO,u.scrollbars="yes");const d=Object.entries(u).reduce((y,[T,S])=>`${y}${T}=${S},`,"");if(DP(h)&&l!=="_self")return dO(e||"",l),new og(null);const m=window.open(e||"",l,d);Ae(m,t,"popup-blocked");try{m.focus()}catch{}return new og(m)}function dO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="__/auth/handler",pO="emulator/auth/handler",mO=encodeURIComponent("fac");async function ag(t,e,n,s,r,i){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Qo,eventId:r};if(e instanceof Iv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",n1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))o[d]=m}if(e instanceof wl){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),h=u?`#${mO}=${encodeURIComponent(u)}`:"";return`${gO(t)}?${_l(l).slice(1)}${h}`}function gO({config:t}){return t.emulator?cf(t,pO):`https://${t.authDomain}/${fO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="webStorageSupport";class _O{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ov,this._completeRedirectFn=Bk,this._overrideRedirectResult=Fk}async _openPopup(e,n,s,r){mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await ag(e,n,s,dd(),r);return hO(e,i,pf())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await ag(e,n,s,dd(),r);return wk(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(mr(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await iO(e),s=new qk(e);return n.register("authEvent",r=>(Ae(r?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mh,{type:Mh},r=>{const i=r?.[0]?.[Mh];i!==void 0&&n(!!i),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vv()||fv()||hf()}}const yO=_O;var lg="@firebase/auth",cg="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EO(t){$o(new Bi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;Ae(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wv(t)},h=new $P(s,r,i,u);return JP(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),$o(new Bi("auth-internal",e=>{const n=Ki(e.getProvider("auth").getImmediate());return(s=>new vO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(lg,cg,wO(t)),Qr(lg,cg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=300,TO=Qy("authIdTokenMaxAge")||bO;let ug=null;const IO=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>TO)return;const r=n?.token;ug!==r&&(ug=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function gd(t=tv()){const e=af(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QP(t,{popupRedirectResolver:yO,persistence:[Pk,_k,Ov]}),s=Qy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=IO(i.toString());pk(n,o,()=>o(n.currentUser)),fk(n,l=>o(l))}}const r=Ky("auth");return r&&YP(n,`http://${r}`),n}function AO(){return document.getElementsByTagName("head")?.[0]??document}BP({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Ds("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",AO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EO("Browser");const SO={__name:"FirebaseSigninView",setup(t){const e=ht(""),n=ht(""),s=Cu(),r=gd(),i=()=>{dk(gd(),e.value,n.value).then(o=>{console.log("Firebase Login Successful!"),s.push("/"),console.log(r.currentUser)}).catch(o=>{console.log(o.code)})};return(o,l)=>(oe(),le(At,null,[l[2]||(l[2]=P("h1",null,"Sign in",-1)),P("p",null,[It(P("input",{type:"text",placeholder:"Email","onUpdate:modelValue":l[0]||(l[0]=u=>e.value=u)},null,512),[[Lt,e.value]])]),P("p",null,[It(P("input",{type:"password",placeholder:"Password","onUpdate:modelValue":l[1]||(l[1]=u=>n.value=u)},null,512),[[Lt,n.value]])]),P("p",null,[P("button",{onClick:i},"Sign in via Firebase")])],64))}},RO={__name:"FirebaseRegister",setup(t){const e=ht(""),n=ht(""),s=Cu(),r=gd(),i=()=>{hk(r,e.value,n.value).then(o=>{console.log("Firebase Register Successful!"),s.push("/FireLogin")}).catch(o=>{console.log(o.code)})};return(o,l)=>(oe(),le(At,null,[l[2]||(l[2]=P("h1",null,"Create an Account",-1)),P("p",null,[It(P("input",{type:"text",placeholder:"Email","onUpdate:modelValue":l[0]||(l[0]=u=>e.value=u)},null,512),[[Lt,e.value]])]),P("p",null,[It(P("input",{type:"password",placeholder:"Password","onUpdate:modelValue":l[1]||(l[1]=u=>n.value=u)},null,512),[[Lt,n.value]])]),P("p",null,[P("button",{onClick:i},"Save to Firebase")])],64))}};var CO="firebase",PO="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(CO,PO,"app");var hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jr,Fv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,b){function R(){}R.prototype=b.prototype,w.F=b.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(x,O,L){for(var A=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)A[Ze-2]=arguments[Ze];return b.prototype[O].apply(x,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,b,R){R||(R=0);const x=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)x[O]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(O=0;O<16;++O)x[O]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=w.g[0],R=w.g[1],O=w.g[2];let L=w.g[3],A;A=b+(L^R&(O^L))+x[0]+3614090360&4294967295,b=R+(A<<7&4294967295|A>>>25),A=L+(O^b&(R^O))+x[1]+3905402710&4294967295,L=b+(A<<12&4294967295|A>>>20),A=O+(R^L&(b^R))+x[2]+606105819&4294967295,O=L+(A<<17&4294967295|A>>>15),A=R+(b^O&(L^b))+x[3]+3250441966&4294967295,R=O+(A<<22&4294967295|A>>>10),A=b+(L^R&(O^L))+x[4]+4118548399&4294967295,b=R+(A<<7&4294967295|A>>>25),A=L+(O^b&(R^O))+x[5]+1200080426&4294967295,L=b+(A<<12&4294967295|A>>>20),A=O+(R^L&(b^R))+x[6]+2821735955&4294967295,O=L+(A<<17&4294967295|A>>>15),A=R+(b^O&(L^b))+x[7]+4249261313&4294967295,R=O+(A<<22&4294967295|A>>>10),A=b+(L^R&(O^L))+x[8]+1770035416&4294967295,b=R+(A<<7&4294967295|A>>>25),A=L+(O^b&(R^O))+x[9]+2336552879&4294967295,L=b+(A<<12&4294967295|A>>>20),A=O+(R^L&(b^R))+x[10]+4294925233&4294967295,O=L+(A<<17&4294967295|A>>>15),A=R+(b^O&(L^b))+x[11]+2304563134&4294967295,R=O+(A<<22&4294967295|A>>>10),A=b+(L^R&(O^L))+x[12]+1804603682&4294967295,b=R+(A<<7&4294967295|A>>>25),A=L+(O^b&(R^O))+x[13]+4254626195&4294967295,L=b+(A<<12&4294967295|A>>>20),A=O+(R^L&(b^R))+x[14]+2792965006&4294967295,O=L+(A<<17&4294967295|A>>>15),A=R+(b^O&(L^b))+x[15]+1236535329&4294967295,R=O+(A<<22&4294967295|A>>>10),A=b+(O^L&(R^O))+x[1]+4129170786&4294967295,b=R+(A<<5&4294967295|A>>>27),A=L+(R^O&(b^R))+x[6]+3225465664&4294967295,L=b+(A<<9&4294967295|A>>>23),A=O+(b^R&(L^b))+x[11]+643717713&4294967295,O=L+(A<<14&4294967295|A>>>18),A=R+(L^b&(O^L))+x[0]+3921069994&4294967295,R=O+(A<<20&4294967295|A>>>12),A=b+(O^L&(R^O))+x[5]+3593408605&4294967295,b=R+(A<<5&4294967295|A>>>27),A=L+(R^O&(b^R))+x[10]+38016083&4294967295,L=b+(A<<9&4294967295|A>>>23),A=O+(b^R&(L^b))+x[15]+3634488961&4294967295,O=L+(A<<14&4294967295|A>>>18),A=R+(L^b&(O^L))+x[4]+3889429448&4294967295,R=O+(A<<20&4294967295|A>>>12),A=b+(O^L&(R^O))+x[9]+568446438&4294967295,b=R+(A<<5&4294967295|A>>>27),A=L+(R^O&(b^R))+x[14]+3275163606&4294967295,L=b+(A<<9&4294967295|A>>>23),A=O+(b^R&(L^b))+x[3]+4107603335&4294967295,O=L+(A<<14&4294967295|A>>>18),A=R+(L^b&(O^L))+x[8]+1163531501&4294967295,R=O+(A<<20&4294967295|A>>>12),A=b+(O^L&(R^O))+x[13]+2850285829&4294967295,b=R+(A<<5&4294967295|A>>>27),A=L+(R^O&(b^R))+x[2]+4243563512&4294967295,L=b+(A<<9&4294967295|A>>>23),A=O+(b^R&(L^b))+x[7]+1735328473&4294967295,O=L+(A<<14&4294967295|A>>>18),A=R+(L^b&(O^L))+x[12]+2368359562&4294967295,R=O+(A<<20&4294967295|A>>>12),A=b+(R^O^L)+x[5]+4294588738&4294967295,b=R+(A<<4&4294967295|A>>>28),A=L+(b^R^O)+x[8]+2272392833&4294967295,L=b+(A<<11&4294967295|A>>>21),A=O+(L^b^R)+x[11]+1839030562&4294967295,O=L+(A<<16&4294967295|A>>>16),A=R+(O^L^b)+x[14]+4259657740&4294967295,R=O+(A<<23&4294967295|A>>>9),A=b+(R^O^L)+x[1]+2763975236&4294967295,b=R+(A<<4&4294967295|A>>>28),A=L+(b^R^O)+x[4]+1272893353&4294967295,L=b+(A<<11&4294967295|A>>>21),A=O+(L^b^R)+x[7]+4139469664&4294967295,O=L+(A<<16&4294967295|A>>>16),A=R+(O^L^b)+x[10]+3200236656&4294967295,R=O+(A<<23&4294967295|A>>>9),A=b+(R^O^L)+x[13]+681279174&4294967295,b=R+(A<<4&4294967295|A>>>28),A=L+(b^R^O)+x[0]+3936430074&4294967295,L=b+(A<<11&4294967295|A>>>21),A=O+(L^b^R)+x[3]+3572445317&4294967295,O=L+(A<<16&4294967295|A>>>16),A=R+(O^L^b)+x[6]+76029189&4294967295,R=O+(A<<23&4294967295|A>>>9),A=b+(R^O^L)+x[9]+3654602809&4294967295,b=R+(A<<4&4294967295|A>>>28),A=L+(b^R^O)+x[12]+3873151461&4294967295,L=b+(A<<11&4294967295|A>>>21),A=O+(L^b^R)+x[15]+530742520&4294967295,O=L+(A<<16&4294967295|A>>>16),A=R+(O^L^b)+x[2]+3299628645&4294967295,R=O+(A<<23&4294967295|A>>>9),A=b+(O^(R|~L))+x[0]+4096336452&4294967295,b=R+(A<<6&4294967295|A>>>26),A=L+(R^(b|~O))+x[7]+1126891415&4294967295,L=b+(A<<10&4294967295|A>>>22),A=O+(b^(L|~R))+x[14]+2878612391&4294967295,O=L+(A<<15&4294967295|A>>>17),A=R+(L^(O|~b))+x[5]+4237533241&4294967295,R=O+(A<<21&4294967295|A>>>11),A=b+(O^(R|~L))+x[12]+1700485571&4294967295,b=R+(A<<6&4294967295|A>>>26),A=L+(R^(b|~O))+x[3]+2399980690&4294967295,L=b+(A<<10&4294967295|A>>>22),A=O+(b^(L|~R))+x[10]+4293915773&4294967295,O=L+(A<<15&4294967295|A>>>17),A=R+(L^(O|~b))+x[1]+2240044497&4294967295,R=O+(A<<21&4294967295|A>>>11),A=b+(O^(R|~L))+x[8]+1873313359&4294967295,b=R+(A<<6&4294967295|A>>>26),A=L+(R^(b|~O))+x[15]+4264355552&4294967295,L=b+(A<<10&4294967295|A>>>22),A=O+(b^(L|~R))+x[6]+2734768916&4294967295,O=L+(A<<15&4294967295|A>>>17),A=R+(L^(O|~b))+x[13]+1309151649&4294967295,R=O+(A<<21&4294967295|A>>>11),A=b+(O^(R|~L))+x[4]+4149444226&4294967295,b=R+(A<<6&4294967295|A>>>26),A=L+(R^(b|~O))+x[11]+3174756917&4294967295,L=b+(A<<10&4294967295|A>>>22),A=O+(b^(L|~R))+x[2]+718787259&4294967295,O=L+(A<<15&4294967295|A>>>17),A=R+(L^(O|~b))+x[9]+3951481745&4294967295,w.g[0]=w.g[0]+b&4294967295,w.g[1]=w.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,w.g[2]=w.g[2]+O&4294967295,w.g[3]=w.g[3]+L&4294967295}s.prototype.v=function(w,b){b===void 0&&(b=w.length);const R=b-this.blockSize,x=this.C;let O=this.h,L=0;for(;L<b;){if(O==0)for(;L<=R;)r(this,w,L),L+=this.blockSize;if(typeof w=="string"){for(;L<b;)if(x[O++]=w.charCodeAt(L++),O==this.blockSize){r(this,x),O=0;break}}else for(;L<b;)if(x[O++]=w[L++],O==this.blockSize){r(this,x),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var b=1;b<w.length-8;++b)w[b]=0;b=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=b&255,b/=256;for(this.v(w),w=Array(16),b=0,R=0;R<4;++R)for(let x=0;x<32;x+=8)w[b++]=this.g[R]>>>x&255;return w};function i(w,b){var R=l;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=b(w)}function o(w,b){this.h=b;const R=[];let x=!0;for(let O=w.length-1;O>=0;O--){const L=w[O]|0;x&&L==b||(R[O]=L,x=!1)}this.g=R}var l={};function u(w){return-128<=w&&w<128?i(w,function(b){return new o([b|0],b<0?-1:0)}):new o([w|0],w<0?-1:0)}function h(w){if(isNaN(w)||!isFinite(w))return m;if(w<0)return D(h(-w));const b=[];let R=1;for(let x=0;w>=R;x++)b[x]=w/R|0,R*=4294967296;return new o(b,0)}function d(w,b){if(w.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(w.charAt(0)=="-")return D(d(w.substring(1),b));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=h(Math.pow(b,8));let x=m;for(let L=0;L<w.length;L+=8){var O=Math.min(8,w.length-L);const A=parseInt(w.substring(L,L+O),b);O<8?(O=h(Math.pow(b,O)),x=x.j(O).add(h(A))):(x=x.j(R),x=x.add(h(A)))}return x}var m=u(0),y=u(1),T=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-D(this).m();let w=0,b=1;for(let R=0;R<this.g.length;R++){const x=this.i(R);w+=(x>=0?x:4294967296+x)*b,b*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(S(this))return"0";if(k(this))return"-"+D(this).toString(w);const b=h(Math.pow(w,6));var R=this;let x="";for(;;){const O=se(R,b).g;R=U(R,O.j(b));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=O,S(R))return L+x;for(;L.length<6;)L="0"+L;x=L+x}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function S(w){if(w.h!=0)return!1;for(let b=0;b<w.g.length;b++)if(w.g[b]!=0)return!1;return!0}function k(w){return w.h==-1}t.l=function(w){return w=U(this,w),k(w)?-1:S(w)?0:1};function D(w){const b=w.g.length,R=[];for(let x=0;x<b;x++)R[x]=~w.g[x];return new o(R,~w.h).add(y)}t.abs=function(){return k(this)?D(this):this},t.add=function(w){const b=Math.max(this.g.length,w.g.length),R=[];let x=0;for(let O=0;O<=b;O++){let L=x+(this.i(O)&65535)+(w.i(O)&65535),A=(L>>>16)+(this.i(O)>>>16)+(w.i(O)>>>16);x=A>>>16,L&=65535,A&=65535,R[O]=A<<16|L}return new o(R,R[R.length-1]&-2147483648?-1:0)};function U(w,b){return w.add(D(b))}t.j=function(w){if(S(this)||S(w))return m;if(k(this))return k(w)?D(this).j(D(w)):D(D(this).j(w));if(k(w))return D(this.j(D(w)));if(this.l(T)<0&&w.l(T)<0)return h(this.m()*w.m());const b=this.g.length+w.g.length,R=[];for(var x=0;x<2*b;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<w.g.length;O++){const L=this.i(x)>>>16,A=this.i(x)&65535,Ze=w.i(O)>>>16,Ft=w.i(O)&65535;R[2*x+2*O]+=A*Ft,W(R,2*x+2*O),R[2*x+2*O+1]+=L*Ft,W(R,2*x+2*O+1),R[2*x+2*O+1]+=A*Ze,W(R,2*x+2*O+1),R[2*x+2*O+2]+=L*Ze,W(R,2*x+2*O+2)}for(w=0;w<b;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=b;w<2*b;w++)R[w]=0;return new o(R,0)};function W(w,b){for(;(w[b]&65535)!=w[b];)w[b+1]+=w[b]>>>16,w[b]&=65535,b++}function G(w,b){this.g=w,this.h=b}function se(w,b){if(S(b))throw Error("division by zero");if(S(w))return new G(m,m);if(k(w))return b=se(D(w),b),new G(D(b.g),D(b.h));if(k(b))return b=se(w,D(b)),new G(D(b.g),b.h);if(w.g.length>30){if(k(w)||k(b))throw Error("slowDivide_ only works with positive integers.");for(var R=y,x=b;x.l(w)<=0;)R=ve(R),x=ve(x);var O=ce(R,1),L=ce(x,1);for(x=ce(x,2),R=ce(R,2);!S(x);){var A=L.add(x);A.l(w)<=0&&(O=O.add(R),L=A),x=ce(x,1),R=ce(R,1)}return b=U(w,O.j(b)),new G(O,b)}for(O=m;w.l(b)>=0;){for(R=Math.max(1,Math.floor(w.m()/b.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),L=h(R),A=L.j(b);k(A)||A.l(w)>0;)R-=x,L=h(R),A=L.j(b);S(L)&&(L=y),O=O.add(L),w=U(w,A)}return new G(O,w)}t.B=function(w){return se(this,w).h},t.and=function(w){const b=Math.max(this.g.length,w.g.length),R=[];for(let x=0;x<b;x++)R[x]=this.i(x)&w.i(x);return new o(R,this.h&w.h)},t.or=function(w){const b=Math.max(this.g.length,w.g.length),R=[];for(let x=0;x<b;x++)R[x]=this.i(x)|w.i(x);return new o(R,this.h|w.h)},t.xor=function(w){const b=Math.max(this.g.length,w.g.length),R=[];for(let x=0;x<b;x++)R[x]=this.i(x)^w.i(x);return new o(R,this.h^w.h)};function ve(w){const b=w.g.length+1,R=[];for(let x=0;x<b;x++)R[x]=w.i(x)<<1|w.i(x-1)>>>31;return new o(R,w.h)}function ce(w,b){const R=b>>5;b%=32;const x=w.g.length-R,O=[];for(let L=0;L<x;L++)O[L]=b>0?w.i(L+R)>>>b|w.i(L+R+1)<<32-b:w.i(L+R);return new o(O,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Fv=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,Jr=o}).apply(typeof hg<"u"?hg:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uv,Da,$v,Ec,_d,Bv,jv,qv;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var f=0;f<a.length;++f){var g=a[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function r(a,f){if(f)e:{var g=s;a=a.split(".");for(var E=0;E<a.length-1;E++){var F=a[E];if(!(F in g))break e;g=g[F]}a=a[a.length-1],E=g[a],f=f(E),f!=E&&f!=null&&e(g,a,{configurable:!0,writable:!0,value:f})}}r("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(a){return a||function(f){var g=[],E;for(E in f)Object.prototype.hasOwnProperty.call(f,E)&&g.push([E,f[E]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function u(a,f,g){return a.call.apply(a.bind,arguments)}function h(a,f,g){return h=u,h.apply(null,arguments)}function d(a,f){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),a.apply(this,E)}}function m(a,f){function g(){}g.prototype=f.prototype,a.Z=f.prototype,a.prototype=new g,a.prototype.constructor=a,a.Ob=function(E,F,$){for(var re=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)re[Ve-2]=arguments[Ve];return f.prototype[F].apply(E,re)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function T(a){const f=a.length;if(f>0){const g=Array(f);for(let E=0;E<f;E++)g[E]=a[E];return g}return[]}function S(a,f){for(let E=1;E<arguments.length;E++){const F=arguments[E];var g=typeof F;if(g=g!="object"?g:F?Array.isArray(F)?"array":g:"null",g=="array"||g=="object"&&typeof F.length=="number"){g=a.length||0;const $=F.length||0;a.length=g+$;for(let re=0;re<$;re++)a[g+re]=F[re]}else a.push(F)}}class k{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function D(a){o.setTimeout(()=>{throw a},0)}function U(){var a=w;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class W{constructor(){this.h=this.g=null}add(f,g){const E=G.get();E.set(f,g),this.h?this.h.next=E:this.g=E,this.h=E}}var G=new k(()=>new se,a=>a.reset());class se{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,ce=!1,w=new W,b=()=>{const a=Promise.resolve(void 0);ve=()=>{a.then(R)}};function R(){for(var a;a=U();){try{a.h.call(a.g)}catch(g){D(g)}var f=G;f.j(a),f.h<100&&(f.h++,a.next=f.g,f.g=a)}ce=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};o.addEventListener("test",g,f),o.removeEventListener("test",g,f)}catch{}return a})();function A(a){return/^[\s\xa0]*$/.test(a)}function Ze(a,f){O.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,f)}m(Ze,O),Ze.prototype.init=function(a,f){const g=this.type=a.type,E=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget,f||(g=="mouseover"?f=a.fromElement:g=="mouseout"&&(f=a.toElement)),this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&Ze.Z.h.call(this)},Ze.prototype.h=function(){Ze.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ft="closure_listenable_"+(Math.random()*1e6|0),Ge=0;function je(a,f,g,E,F){this.listener=a,this.proxy=null,this.src=f,this.type=g,this.capture=!!E,this.ha=F,this.key=++Ge,this.da=this.fa=!1}function Re(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Kt(a,f,g){for(const E in a)f.call(g,a[E],E,a)}function In(a,f){for(const g in a)f.call(void 0,a[g],g,a)}function K(a){const f={};for(const g in a)f[g]=a[g];return f}const at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cn(a,f){let g,E;for(let F=1;F<arguments.length;F++){E=arguments[F];for(g in E)a[g]=E[g];for(let $=0;$<at.length;$++)g=at[$],Object.prototype.hasOwnProperty.call(E,g)&&(a[g]=E[g])}}function Ut(a){this.src=a,this.g={},this.h=0}Ut.prototype.add=function(a,f,g,E,F){const $=a.toString();a=this.g[$],a||(a=this.g[$]=[],this.h++);const re=Pt(a,f,E,F);return re>-1?(f=a[re],g||(f.fa=!1)):(f=new je(f,this.src,$,!!E,F),f.fa=g,a.push(f)),f};function xt(a,f){const g=f.type;if(g in a.g){var E=a.g[g],F=Array.prototype.indexOf.call(E,f,void 0),$;($=F>=0)&&Array.prototype.splice.call(E,F,1),$&&(Re(f),a.g[g].length==0&&(delete a.g[g],a.h--))}}function Pt(a,f,g,E){for(let F=0;F<a.length;++F){const $=a[F];if(!$.da&&$.listener==f&&$.capture==!!g&&$.ha==E)return F}return-1}var H="closure_lm_"+(Math.random()*1e6|0),ue={};function q(a,f,g,E,F){if(Array.isArray(f)){for(let $=0;$<f.length;$++)q(a,f[$],g,E,F);return null}return g=ae(g),a&&a[Ft]?a.J(f,g,l(E)?!!E.capture:!1,F):_e(a,f,g,!1,E,F)}function _e(a,f,g,E,F,$){if(!f)throw Error("Invalid event type");const re=l(F)?!!F.capture:!!F;let Ve=J(a);if(Ve||(a[H]=Ve=new Ut(a)),g=Ve.add(f,g,E,re,$),g.proxy)return g;if(E=Ye(),g.proxy=E,E.src=a,E.listener=g,a.addEventListener)L||(F=re),F===void 0&&(F=!1),a.addEventListener(f.toString(),E,F);else if(a.attachEvent)a.attachEvent(M(f.toString()),E);else if(a.addListener&&a.removeListener)a.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ye(){function a(g){return f.call(a.src,a.listener,g)}const f=Q;return a}function I(a,f,g,E,F){if(Array.isArray(f))for(var $=0;$<f.length;$++)I(a,f[$],g,E,F);else E=l(E)?!!E.capture:!!E,g=ae(g),a&&a[Ft]?(a=a.i,$=String(f).toString(),$ in a.g&&(f=a.g[$],g=Pt(f,g,E,F),g>-1&&(Re(f[g]),Array.prototype.splice.call(f,g,1),f.length==0&&(delete a.g[$],a.h--)))):a&&(a=J(a))&&(f=a.g[f.toString()],a=-1,f&&(a=Pt(f,g,E,F)),(g=a>-1?f[a]:null)&&C(g))}function C(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[Ft])xt(f.i,a);else{var g=a.type,E=a.proxy;f.removeEventListener?f.removeEventListener(g,E,a.capture):f.detachEvent?f.detachEvent(M(g),E):f.addListener&&f.removeListener&&f.removeListener(E),(g=J(f))?(xt(g,a),g.h==0&&(g.src=null,f[H]=null)):Re(a)}}}function M(a){return a in ue?ue[a]:ue[a]="on"+a}function Q(a,f){if(a.da)a=!0;else{f=new Ze(f,this);const g=a.listener,E=a.ha||a.src;a.fa&&C(a),a=g.call(E,f)}return a}function J(a){return a=a[H],a instanceof Ut?a:null}var z="__closure_events_fn_"+(Math.random()*1e9>>>0);function ae(a){return typeof a=="function"?a:(a[z]||(a[z]=function(f){return a.handleEvent(f)}),a[z])}function ne(){x.call(this),this.i=new Ut(this),this.M=this,this.G=null}m(ne,x),ne.prototype[Ft]=!0,ne.prototype.removeEventListener=function(a,f,g,E){I(this,a,f,g,E)};function ee(a,f){var g,E=a.G;if(E)for(g=[];E;E=E.G)g.push(E);if(a=a.M,E=f.type||f,typeof f=="string")f=new O(f,a);else if(f instanceof O)f.target=f.target||a;else{var F=f;f=new O(E,a),cn(f,F)}F=!0;let $,re;if(g)for(re=g.length-1;re>=0;re--)$=f.g=g[re],F=te($,E,!0,f)&&F;if($=f.g=a,F=te($,E,!0,f)&&F,F=te($,E,!1,f)&&F,g)for(re=0;re<g.length;re++)$=f.g=g[re],F=te($,E,!1,f)&&F}ne.prototype.N=function(){if(ne.Z.N.call(this),this.i){var a=this.i;for(const f in a.g){const g=a.g[f];for(let E=0;E<g.length;E++)Re(g[E]);delete a.g[f],a.h--}}this.G=null},ne.prototype.J=function(a,f,g,E){return this.i.add(String(a),f,!1,g,E)},ne.prototype.K=function(a,f,g,E){return this.i.add(String(a),f,!0,g,E)};function te(a,f,g,E){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();let F=!0;for(let $=0;$<f.length;++$){const re=f[$];if(re&&!re.da&&re.capture==g){const Ve=re.listener,Dt=re.ha||re.src;re.fa&&xt(a.i,re),F=Ve.call(Dt,E)!==!1&&F}}return F&&!E.defaultPrevented}function Te(a,f){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=h(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(a,f||0)}function he(a){a.g=Te(()=>{a.g=null,a.i&&(a.i=!1,he(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class we extends x{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ee(a){x.call(this),this.h=a,this.g={}}m(Ee,x);var Pe=[];function Xe(a){Kt(a.g,function(f,g){this.g.hasOwnProperty(g)&&C(f)},a),a.g={}}Ee.prototype.N=function(){Ee.Z.N.call(this),Xe(this)},Ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ze=o.JSON.stringify,Yt=o.JSON.parse,kt=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function $t(){}function Bt(){}var un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wr(){O.call(this,"d")}m(wr,O);function Nt(){O.call(this,"c")}m(Nt,O);var jt={},ui=null;function Ws(){return ui=ui||new ne}jt.Ia="serverreachability";function xl(a){O.call(this,jt.Ia,a)}m(xl,O);function hi(a){const f=Ws();ee(f,new xl(f))}jt.STAT_EVENT="statevent";function Nl(a,f){O.call(this,jt.STAT_EVENT,a),this.stat=f}m(Nl,O);function Xt(a){const f=Ws();ee(f,new Nl(f,a))}jt.Ja="timingevent";function di(a,f){O.call(this,jt.Ja,a),this.size=f}m(di,O);function Er(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},f)}function br(){this.g=!0}br.prototype.ua=function(){this.g=!1};function Xu(a,f,g,E,F,$){a.info(function(){if(a.g)if($){var re="",Ve=$.split("&");for(let Qe=0;Qe<Ve.length;Qe++){var Dt=Ve[Qe].split("=");if(Dt.length>1){const pt=Dt[0];Dt=Dt[1];const Hn=pt.split("_");re=Hn.length>=2&&Hn[1]=="type"?re+(pt+"="+Dt+"&"):re+(pt+"=redacted&")}}}else re=null;else re=$;return"XMLHTTP REQ ("+E+") [attempt "+F+"]: "+f+`
`+g+`
`+re})}function Zu(a,f,g,E,F,$,re){a.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+F+"]: "+f+`
`+g+`
`+$+" "+re})}function Tr(a,f,g,E){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+Ir(a,g)+(E?" "+E:"")})}function eh(a,f){a.info(function(){return"TIMEOUT: "+f})}br.prototype.info=function(){};function Ir(a,f){if(!a.g)return f;if(!f)return null;try{const $=JSON.parse(f);if($){for(a=0;a<$.length;a++)if(Array.isArray($[a])){var g=$[a];if(!(g.length<2)){var E=g[1];if(Array.isArray(E)&&!(E.length<1)){var F=E[0];if(F!="noop"&&F!="stop"&&F!="close")for(let re=1;re<E.length;re++)E[re]=""}}}}return ze($)}catch{return f}}var ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vl;function ra(){}m(ra,$t),ra.prototype.g=function(){return new XMLHttpRequest},Vl=new ra;function fi(a){return encodeURIComponent(String(a))}function th(a){var f=1;a=a.split(":");const g=[];for(;f>0&&a.length;)g.push(a.shift()),f--;return a.length&&g.push(a.join(":")),g}function jn(a,f,g,E){this.j=a,this.i=f,this.l=g,this.S=E||1,this.V=new Ee(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zs}function zs(){this.i=null,this.g="",this.h=!1}var pi={},ia={};function mi(a,f,g){a.M=1,a.A=_i(Ln(f)),a.u=g,a.R=!0,Ll(a,null)}function Ll(a,f){a.F=Date.now(),Zt(a),a.B=Ln(a.A);var g=a.B,E=a.S;Array.isArray(E)||(E=[String(E)]),so(g.i,"t",E),a.C=0,g=a.j.L,a.h=new zs,a.g=jl(a.j,g?f:null,!a.u),a.P>0&&(a.O=new we(h(a.Y,a,a.g),a.P)),f=a.V,g=a.g,E=a.ba;var F="readystatechange";Array.isArray(F)||(F&&(Pe[0]=F.toString()),F=Pe);for(let $=0;$<F.length;$++){const re=q(g,F[$],E||f.handleEvent,!1,f.h||f);if(!re)break;f.g[re.key]=re}f=a.J?K(a.J):{},a.u?(a.v||(a.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,f)):(a.v="GET",a.g.ea(a.B,a.v,null,f)),hi(),Xu(a.i,a.v,a.B,a.l,a.S,a.u)}jn.prototype.ba=function(a){a=a.target;const f=this.O;f&&rs(a)==3?f.j():this.Y(a)},jn.prototype.Y=function(a){try{if(a==this.g)e:{const Ve=rs(this.g),Dt=this.g.ya(),Qe=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||lo(this.g)))){this.K||Ve!=4||Dt==7||(Dt==8||Qe<=0?hi(3):hi(2)),Gt(this);var f=this.g.ca();this.X=f;var g=nh(this);if(this.o=f==200,Zu(this.i,this.v,this.B,this.l,this.S,Ve,f),this.o){if(this.U&&!this.L){t:{if(this.g){var E,F=this.g;if((E=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(E)){var $=E;break t}}$=null}if(a=$)Tr(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ts(this,a);else{this.o=!1,this.m=3,Xt(12),kn(this),gs(this);break e}}if(this.R){a=!0;let pt;for(;!this.K&&this.C<g.length;)if(pt=sn(this,g),pt==ia){Ve==4&&(this.m=4,Xt(14),a=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==pi){this.m=4,Xt(15),Tr(this.i,this.l,g,"[Invalid Chunk]"),a=!1;break}else Tr(this.i,this.l,pt,null),ts(this,pt);if(Ks(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||g.length!=0||this.h.h||(this.m=1,Xt(16),a=!1),this.o=this.o&&a,!a)Tr(this.i,this.l,g,"[Invalid Chunked Response]"),kn(this),gs(this);else if(g.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),uo(re),re.P=!0,Xt(11))}}else Tr(this.i,this.l,g,null),ts(this,g);Ve==4&&kn(this),this.o&&!this.K&&(Ve==4?$l(this.j,this):(this.o=!1,Zt(this)))}else ga(this.g),f==400&&g.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),kn(this),gs(this)}}}catch{}finally{}};function nh(a){if(!Ks(a))return a.g.la();const f=lo(a.g);if(f==="")return"";let g="";const E=f.length,F=rs(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return kn(a),gs(a),"";a.h.i=new o.TextDecoder}for(let $=0;$<E;$++)a.h.h=!0,g+=a.h.i.decode(f[$],{stream:!(F&&$==E-1)});return f.length=0,a.h.g+=g,a.C=0,a.h.g}function Ks(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function sn(a,f){var g=a.C,E=f.indexOf(`
`,g);return E==-1?ia:(g=Number(f.substring(g,E)),isNaN(g)?pi:(E+=1,E+g>f.length?ia:(f=f.slice(E,E+g),a.C=E+g,f)))}jn.prototype.cancel=function(){this.K=!0,kn(this)};function Zt(a){a.T=Date.now()+a.H,hn(a,a.H)}function hn(a,f){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Er(h(a.aa,a),f)}function Gt(a){a.D&&(o.clearTimeout(a.D),a.D=null)}jn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(eh(this.i,this.B),this.M!=2&&(hi(),Xt(17)),kn(this),this.m=2,gs(this)):hn(this,this.T-a)};function gs(a){a.j.I==0||a.K||$l(a.j,a)}function kn(a){Gt(a);var f=a.O;f&&typeof f.dispose=="function"&&f.dispose(),a.O=null,Xe(a.V),a.g&&(f=a.g,a.g=null,f.abort(),f.dispose())}function ts(a,f){try{var g=a.j;if(g.I!=0&&(g.g==a||Zi(g.h,a))){if(!a.L&&Zi(g.h,a)&&g.I==3){try{var E=g.Ba.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var F=E;if(F[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<a.F)bi(g),kr(g);else break e;co(g),Xt(18)}}else g.xa=F[1],0<g.xa-g.K&&F[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Er(h(g.Va,g),6e3));Gs(g.h)<=1&&g.ta&&(g.ta=void 0)}else ws(g,11)}else if((a.L||g.g==a)&&bi(g),!A(f))for(F=g.Ba.g.parse(f),f=0;f<F.length;f++){let Qe=F[f];const pt=Qe[0];if(!(pt<=g.K))if(g.K=pt,Qe=Qe[1],g.I==2)if(Qe[0]=="c"){g.M=Qe[1],g.ba=Qe[2];const Hn=Qe[3];Hn!=null&&(g.ka=Hn,g.j.info("VER="+g.ka));const Wn=Qe[4];Wn!=null&&(g.za=Wn,g.j.info("SVER="+g.za));const Ts=Qe[5];Ts!=null&&typeof Ts=="number"&&Ts>0&&(E=1.5*Ts,g.O=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const Is=a.g;if(Is){const fo=Is.g?Is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fo){var $=E.h;$.g||fo.indexOf("spdy")==-1&&fo.indexOf("quic")==-1&&fo.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(gi($,$.h),$.h=null))}if(E.G){const Ta=Is.g?Is.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(E.wa=Ta,lt(E.J,E.G,Ta))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-a.F,g.j.info("Handshake RTT: "+g.T+"ms")),E=g;var re=a;if(E.na=Ti(E,E.L?E.ba:null,E.W),re.L){eo(E.h,re);var Ve=re,Dt=E.O;Dt&&(Ve.H=Dt),Ve.D&&(Gt(Ve),Zt(Ve)),E.g=re}else wa(E);g.i.length>0&&Ei(g)}else Qe[0]!="stop"&&Qe[0]!="close"||ws(g,7);else g.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ws(g,7):er(g):Qe[0]!="noop"&&g.l&&g.l.qa(Qe),g.A=0)}}hi(4)}catch{}}var Ar=class{constructor(a,f){this.g=a,this.map=f}};function oa(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xi(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Gs(a){return a.h?1:a.g?a.g.size:0}function Zi(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function gi(a,f){a.g?a.g.add(f):a.h=f}function eo(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}oa.prototype.cancel=function(){if(this.i=aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function aa(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const g of a.g.values())f=f.concat(g.G);return f}return T(a.i)}var la=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ml(a,f){if(a){a=a.split("&");for(let g=0;g<a.length;g++){const E=a[g].indexOf("=");let F,$=null;E>=0?(F=a[g].substring(0,E),$=a[g].substring(E+1)):F=a[g],f(F,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ns(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;a instanceof ns?(this.l=a.l,Sr(this,a.j),this.o=a.o,this.g=a.g,Rr(this,a.u),this.h=a.h,to(this,da(a.i)),this.m=a.m):a&&(f=String(a).match(la))?(this.l=!1,Sr(this,f[1]||"",!0),this.o=dn(f[2]||""),this.g=dn(f[3]||"",!0),Rr(this,f[4]),this.h=dn(f[5]||"",!0),to(this,f[6]||"",!0),this.m=dn(f[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}ns.prototype.toString=function(){const a=[];var f=this.j;f&&a.push(Qt(f,An,!0),":");var g=this.g;return(g||f=="file")&&(a.push("//"),(f=this.o)&&a.push(Qt(f,An,!0),"@"),a.push(fi(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&a.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(Qt(g,g.charAt(0)=="/"?ua:ca,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",Qt(g,Js)),a.join("")},ns.prototype.resolve=function(a){const f=Ln(this);let g=!!a.j;g?Sr(f,a.j):g=!!a.o,g?f.o=a.o:g=!!a.g,g?f.g=a.g:g=a.u!=null;var E=a.h;if(g)Rr(f,a.u);else if(g=!!a.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var F=f.h.lastIndexOf("/");F!=-1&&(E=f.h.slice(0,F+1)+E)}if(F=E,F==".."||F==".")E="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){E=F.lastIndexOf("/",0)==0,F=F.split("/");const $=[];for(let re=0;re<F.length;){const Ve=F[re++];Ve=="."?E&&re==F.length&&$.push(""):Ve==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),E&&re==F.length&&$.push("")):($.push(Ve),E=!0)}E=$.join("/")}else E=F}return g?f.h=E:g=a.i.toString()!=="",g?to(f,da(a.i)):g=!!a.m,g&&(f.m=a.m),f};function Ln(a){return new ns(a)}function Sr(a,f,g){a.j=g?dn(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Rr(a,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);a.u=f}else a.u=null}function to(a,f,g){f instanceof _s?(a.i=f,sh(a.i,a.l)):(g||(f=Qt(f,qn)),a.i=new _s(f,a.l))}function lt(a,f,g){a.i.set(f,g)}function _i(a){return lt(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function dn(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Qt(a,f,g){return typeof a=="string"?(a=encodeURI(a).replace(f,Qs),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Qs(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var An=/[#\/\?@]/g,ca=/[#\?:]/g,ua=/[#\?]/g,qn=/[#\?@]/g,Js=/#/g;function _s(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function On(a){a.g||(a.g=new Map,a.h=0,a.i&&Ml(a.i,function(f,g){a.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=_s.prototype,t.add=function(a,f){On(this),this.i=null,a=fn(this,a);let g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(f),this.h+=1,this};function no(a,f){On(a),f=fn(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function ha(a,f){return On(a),f=fn(a,f),a.g.has(f)}t.forEach=function(a,f){On(this),this.g.forEach(function(g,E){g.forEach(function(F){a.call(f,F,E,this)},this)},this)};function Ys(a,f){On(a);let g=[];if(typeof f=="string")ha(a,f)&&(g=g.concat(a.g.get(fn(a,f))));else for(a=Array.from(a.g.values()),f=0;f<a.length;f++)g=g.concat(a[f]);return g}t.set=function(a,f){return On(this),this.i=null,a=fn(this,a),ha(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=Ys(this,a),a.length>0?String(a[0]):f):f};function so(a,f,g){no(a,f),g.length>0&&(a.i=null,a.g.set(fn(a,f),T(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(let E=0;E<f.length;E++){var g=f[E];const F=fi(g);g=Ys(this,g);for(let $=0;$<g.length;$++){let re=F;g[$]!==""&&(re+="="+fi(g[$])),a.push(re)}}return this.i=a.join("&")};function da(a){const f=new _s;return f.i=a.i,a.g&&(f.g=new Map(a.g),f.h=a.h),f}function fn(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function sh(a,f){f&&!a.j&&(On(a),a.i=null,a.g.forEach(function(g,E){const F=E.toLowerCase();E!=F&&(no(this,E),so(this,F,g))},a)),a.j=f}function ys(a,f){const g=new br;if(o.Image){const E=new Image;E.onload=d(ss,g,"TestLoadImage: loaded",!0,f,E),E.onerror=d(ss,g,"TestLoadImage: error",!1,f,E),E.onabort=d(ss,g,"TestLoadImage: abort",!1,f,E),E.ontimeout=d(ss,g,"TestLoadImage: timeout",!1,f,E),o.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=a}else f(!1)}function ro(a,f){const g=new br,E=new AbortController,F=setTimeout(()=>{E.abort(),ss(g,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:E.signal}).then($=>{clearTimeout(F),$.ok?ss(g,"TestPingServer: ok",!0,f):ss(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(F),ss(g,"TestPingServer: error",!1,f)})}function ss(a,f,g,E,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),E(g)}catch{}}function yi(){this.g=new kt}function vi(a){this.i=a.Sb||null,this.h=a.ab||!1}m(vi,$t),vi.prototype.g=function(){return new vs(this.i,this.h)};function vs(a,f){ne.call(this),this.H=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(vs,ne),t=vs.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=f,this.readyState=1,Pr(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(f.body=a),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Cr(this):Pr(this),this.readyState==3&&fa(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Cr(this))},t.Na=function(a){this.g&&(this.response=a,Cr(this))},t.ga=function(){this.g&&Cr(this)};function Cr(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Pr(a)}t.setRequestHeader=function(a,f){this.A.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=f.next();return a.join(`\r
`)};function Pr(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Xs(a){let f="";return Kt(a,function(g,E){f+=E,f+=":",f+=g,f+=`\r
`}),f}function pa(a,f,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=Xs(g),typeof a=="string"?g!=null&&fi(g):lt(a,f,g))}function wt(a){ne.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(wt,ne);var ma=/^https?$/i,io=["POST","PUT"];t=wt.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,f,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vl.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch($){oo(this,$);return}if(a=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var F in E)g.set(F,E[F]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())g.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find($=>$.toLowerCase()=="content-type"),F=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(io,f,void 0)>=0)||E||F||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of g)this.g.setRequestHeader($,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch($){oo(this,$)}};function oo(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.o=5,Fl(a),ao(a)}function Fl(a){a.A||(a.A=!0,ee(a,"complete"),ee(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,ee(this,"complete"),ee(this,"abort"),ao(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ao(this,!0)),wt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wi(this):this.Xa())},t.Xa=function(){wi(this)};function wi(a){if(a.h&&typeof i<"u"){if(a.v&&rs(a)==4)setTimeout(a.Ca.bind(a),0);else if(ee(a,"readystatechange"),rs(a)==4){a.h=!1;try{const $=a.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var E;if(E=$===0){let re=String(a.D).match(la)[1]||null;!re&&o.self&&o.self.location&&(re=o.self.location.protocol.slice(0,-1)),E=!ma.test(re?re.toLowerCase():"")}g=E}if(g)ee(a,"complete"),ee(a,"success");else{a.o=6;try{var F=rs(a)>2?a.g.statusText:""}catch{F=""}a.l=F+" ["+a.ca()+"]",Fl(a)}}finally{ao(a)}}}}function ao(a,f){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const g=a.g;a.g=null,f||ee(a,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function rs(a){return a.g?a.g.readyState:0}t.ca=function(){try{return rs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Yt(f)}};function lo(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function ga(a){const f={};a=(a.g&&rs(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<a.length;E++){if(A(a[E]))continue;var g=th(a[E]);const F=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const $=f[F]||[];f[F]=$,$.push(g)}In(f,function(E){return E.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zs(a,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||f}function _a(a){this.za=0,this.i=[],this.j=new br,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zs("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zs("baseRetryDelayMs",5e3,a),this.Za=Zs("retryDelaySeedMs",1e4,a),this.Ta=Zs("forwardChannelMaxRetries",2,a),this.va=Zs("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new oa(a&&a.concurrentRequestLimit),this.Ba=new yi,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=_a.prototype,t.ka=8,t.I=1,t.connect=function(a,f,g,E){Xt(0),this.W=a,this.H=f||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.J=Ti(this,null,this.W),Ei(this)};function er(a){if(ya(a),a.I==3){var f=a.V++,g=Ln(a.J);if(lt(g,"SID",a.M),lt(g,"RID",f),lt(g,"TYPE","terminate"),xr(a,g),f=new jn(a,a.j,f),f.M=2,f.A=_i(Ln(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=f.A,g=!0),g||(f.g=jl(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Zt(f)}Ea(a)}function kr(a){a.g&&(uo(a),a.g.cancel(),a.g=null)}function ya(a){kr(a),a.v&&(o.clearTimeout(a.v),a.v=null),bi(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function Ei(a){if(!Xi(a.h)&&!a.m){a.m=!0;var f=a.Ea;ve||b(),ce||(ve(),ce=!0),w.add(f,a),a.D=0}}function Or(a,f){return Gs(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=f.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Er(h(a.Ea,a,f),Bl(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const F=new jn(this,this.j,a);let $=this.o;if(this.U&&($?($=K($),cn($,this.U)):$=this.U),this.u!==null||this.R||(F.J=$,$=null),this.S)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,f>4096){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=va(this,F,f),g=Ln(this.J),lt(g,"RID",a),lt(g,"CVER",22),this.G&&lt(g,"X-HTTP-Session-Id",this.G),xr(this,g),$&&(this.R?f="headers="+fi(Xs($))+"&"+f:this.u&&pa(g,this.u,$)),gi(this.h,F),this.Ra&&lt(g,"TYPE","init"),this.S?(lt(g,"$req",f),lt(g,"SID","null"),F.U=!0,mi(F,g,null)):mi(F,g,f),this.I=2}}else this.I==3&&(a?Ul(this,a):this.i.length==0||Xi(this.h)||Ul(this))};function Ul(a,f){var g;f?g=f.l:g=a.V++;const E=Ln(a.J);lt(E,"SID",a.M),lt(E,"RID",g),lt(E,"AID",a.K),xr(a,E),a.u&&a.o&&pa(E,a.u,a.o),g=new jn(a,a.j,g,a.D+1),a.u===null&&(g.J=a.o),f&&(a.i=f.G.concat(a.i)),f=va(a,g,1e3),g.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),gi(a.h,g),mi(g,E,f)}function xr(a,f){a.H&&Kt(a.H,function(g,E){lt(f,E,g)}),a.l&&Kt({},function(g,E){lt(f,E,g)})}function va(a,f,g){g=Math.min(a.i.length,g);const E=a.l?h(a.l.Ka,a.l,a):null;e:{var F=a.i;let Ve=-1;for(;;){const Dt=["count="+g];Ve==-1?g>0?(Ve=F[0].g,Dt.push("ofs="+Ve)):Ve=0:Dt.push("ofs="+Ve);let Qe=!0;for(let pt=0;pt<g;pt++){var $=F[pt].g;const Hn=F[pt].map;if($-=Ve,$<0)Ve=Math.max(0,F[pt].g-100),Qe=!1;else try{$="req"+$+"_"||"";try{var re=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Wn,Ts]of re){let Is=Ts;l(Ts)&&(Is=ze(Ts)),Dt.push($+Wn+"="+encodeURIComponent(Is))}}catch(Wn){throw Dt.push($+"type="+encodeURIComponent("_badmap")),Wn}}catch{E&&E(Hn)}}if(Qe){re=Dt.join("&");break e}}re=void 0}return a=a.i.splice(0,g),f.G=a,re}function wa(a){if(!a.g&&!a.v){a.Y=1;var f=a.Da;ve||b(),ce||(ve(),ce=!0),w.add(f,a),a.A=0}}function co(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Er(h(a.Da,a),Bl(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,ho(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Er(h(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),kr(this),ho(this))};function uo(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function ho(a){a.g=new jn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var f=Ln(a.na);lt(f,"RID","rpc"),lt(f,"SID",a.M),lt(f,"AID",a.K),lt(f,"CI",a.F?"0":"1"),!a.F&&a.ia&&lt(f,"TO",a.ia),lt(f,"TYPE","xmlhttp"),xr(a,f),a.u&&a.o&&pa(f,a.u,a.o),a.O&&(a.g.H=a.O);var g=a.g;a=a.ba,g.M=1,g.A=_i(Ln(f)),g.u=null,g.R=!0,Ll(g,a)}t.Va=function(){this.C!=null&&(this.C=null,kr(this),co(this),Xt(19))};function bi(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function $l(a,f){var g=null;if(a.g==f){bi(a),uo(a),a.g=null;var E=2}else if(Zi(a.h,f))g=f.G,eo(a.h,f),E=1;else return;if(a.I!=0){if(f.o)if(E==1){g=f.u?f.u.length:0,f=Date.now()-f.F;var F=a.D;E=Ws(),ee(E,new di(E,g)),Ei(a)}else wa(a);else if(F=f.m,F==3||F==0&&f.X>0||!(E==1&&Or(a,f)||E==2&&co(a)))switch(g&&g.length>0&&(f=a.h,f.i=f.i.concat(g)),F){case 1:ws(a,5);break;case 4:ws(a,10);break;case 3:ws(a,6);break;default:ws(a,2)}}}function Bl(a,f){let g=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(g*=2),g*f}function ws(a,f){if(a.j.info("Error code "+f),f==2){var g=h(a.bb,a),E=a.Ua;const F=!E;E=new ns(E||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Sr(E,"https"),_i(E),F?ys(E.toString(),g):ro(E.toString(),g)}else Xt(2);a.I=0,a.l&&a.l.pa(f),Ea(a),ya(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function Ea(a){if(a.I=0,a.ja=[],a.l){const f=aa(a.h);(f.length!=0||a.i.length!=0)&&(S(a.ja,f),S(a.ja,a.i),a.h.i.length=0,T(a.i),a.i.length=0),a.l.oa()}}function Ti(a,f,g){var E=g instanceof ns?Ln(g):new ns(g);if(E.g!="")f&&(E.g=f+"."+E.g),Rr(E,E.u);else{var F=o.location;E=F.protocol,f=f?f+"."+F.hostname:F.hostname,F=+F.port;const $=new ns(null);E&&Sr($,E),f&&($.g=f),F&&Rr($,F),g&&($.h=g),E=$}return g=a.G,f=a.wa,g&&f&&lt(E,g,f),lt(E,"VER",a.ka),xr(a,E),E}function jl(a,f,g){if(f&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Aa&&!a.ma?new wt(new vi({ab:g})):new wt(a.ma),f.Fa(a.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ql(){}t=ql.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Nr(){}Nr.prototype.g=function(a,f){return new pn(a,f)};function pn(a,f){ne.call(this),this.g=new _a(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(a?a["X-WebChannel-Client-Profile"]=f.sa:a={"X-WebChannel-Client-Profile":f.sa}),this.g.U=a,(a=f&&f.Qb)&&!A(a)&&(this.g.u=a),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!A(f)&&(this.g.G=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new bs(this)}m(pn,ne),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){er(this.g)},pn.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.v&&(g={},g.__data__=ze(a),a=g);f.i.push(new Ar(f.Ya++,a)),f.I==3&&Ei(f)},pn.prototype.N=function(){this.g.l=null,delete this.j,er(this.g),delete this.g,pn.Z.N.call(this)};function ba(a){wr.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const g in f){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}m(ba,wr);function Es(){Nt.call(this),this.status=1}m(Es,Nt);function bs(a){this.g=a}m(bs,ql),bs.prototype.ra=function(){ee(this.g,"a")},bs.prototype.qa=function(a){ee(this.g,new ba(a))},bs.prototype.pa=function(a){ee(this.g,new Es)},bs.prototype.oa=function(){ee(this.g,"b")},Nr.prototype.createWebChannel=Nr.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,qv=function(){return new Nr},jv=function(){return Ws()},Bv=jt,_d={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,Ec=ms,Dl.COMPLETE="complete",$v=Dl,Bt.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",ne.prototype.listen=ne.prototype.J,Da=Bt,wt.prototype.listenOnce=wt.prototype.K,wt.prototype.getLastError=wt.prototype.Ha,wt.prototype.getLastErrorCode=wt.prototype.ya,wt.prototype.getStatus=wt.prototype.ca,wt.prototype.getResponseJson=wt.prototype.La,wt.prototype.getResponseText=wt.prototype.la,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Fa,Uv=wt}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const dg="@firebase/firestore",fg="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new rf("@firebase/firestore");function wo(){return Hi.logLevel}function fe(t,...e){if(Hi.logLevel<=qe.DEBUG){const n=e.map(gf);Hi.debug(`Firestore (${Yo}): ${t}`,...n)}}function gr(t,...e){if(Hi.logLevel<=qe.ERROR){const n=e.map(gf);Hi.error(`Firestore (${Yo}): ${t}`,...n)}}function Bo(t,...e){if(Hi.logLevel<=qe.WARN){const n=e.map(gf);Hi.warn(`Firestore (${Yo}): ${t}`,...n)}}function gf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Hv(t,s,n)}function Hv(t,e,n){let s=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function rt(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||Hv(e,r,s)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class OO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class xO{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let i=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Yr,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await r(this.currentUser)}))},l=u=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Yr)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt(typeof s.accessToken=="string",31837,{l:s}),new Wv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class NO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new NO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const s=i=>{i.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>s(i)))};const r=i=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>r(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pg(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=LO(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function He(t,e){return t<e?-1:t>e?1:0}function yd(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return Fh(r)===Fh(i)?He(r,i):Fh(r)?1:-1}return He(t.length,e.length)}const MO=55296,FO=57343;function Fh(t){const e=t.charCodeAt(0);return e>=MO&&e<=FO}function jo(t,e,n){return t.length===e.length&&t.every(((s,r)=>n(s,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="__name__";class ks{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ks.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ks?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=ks.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return He(e.length,n.length)}static compareSegments(e,n){const s=ks.isNumericId(e),r=ks.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?ks.extractNumericId(e).compare(ks.extractNumericId(n)):yd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jr.fromString(e.substring(4,e.length-2))}}class _t extends ks{construct(e,n,s){return new _t(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((r=>r.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const UO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends ks{construct(e,n,s){return new an(e,n,s)}static isValidIdentifier(e){return UO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mg}static keyField(){return new an([mg])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new pe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new pe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new pe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(s+=l,r++):(i(),r++)}if(i(),o)throw new pe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(_t.fromString(e))}static fromName(e){return new be(_t.fromString(e).popFirst(5))}static empty(){return new be(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t,e,n){if(!n)throw new pe(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $O(t,e,n,s){if(e===!0&&s===!0)throw new pe(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gg(t){if(!be.isDocumentKey(t))throw new pe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _g(t){if(be.isDocumentKey(t))throw new pe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kv(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Xc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nu(t);throw new pe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function bl(t,e){if(!Kv(t))throw new pe(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new pe(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=-62135596800,vg=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*vg);return new Tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yg)throw new pe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vg}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bl(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:Wt("string",Tt._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Tt(0,0))}static max(){return new Oe(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=-1;function BO(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Oe.fromTimestamp(s===1e9?new Tt(n+1,0):new Tt(n,s));return new ti(r,be.empty(),e)}function jO(t){return new ti(t.readTime,t.key,al)}class ti{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ti(Oe.min(),be.empty(),al)}static max(){return new ti(Oe.max(),be.empty(),al)}}function qO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==HO)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X(((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):X.reject(n)}static resolve(e){return new X(((n,s)=>{n(e)}))}static reject(e){return new X(((n,s)=>{s(e)}))}static waitFor(e){return new X(((n,s)=>{let r=0,i=0,o=!1;e.forEach((l=>{++r,l.next((()=>{++i,o&&i===r&&n()}),(u=>s(u)))})),o=!0,i===r&&n()}))}static or(e){let n=X.resolve(!1);for(const s of e)n=n.next((r=>r?X.resolve(r):s()));return n}static forEach(e,n){const s=[];return e.forEach(((r,i)=>{s.push(n.call(this,r,i))})),this.waitFor(s)}static mapArray(e,n){return new X(((s,r)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next((d=>{o[h]=d,++l,l===i&&s(o)}),(d=>r(d)))}}))}static doWhile(e,n){return new X(((s,r)=>{const i=()=>{e()===!0?n().next((()=>{i()}),r):s()};i()}))}}function zO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Du.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=-1;function Vu(t){return t==null}function Zc(t){return t===0&&1/t==-1/0}function KO(t){return typeof t=="number"&&Number.isInteger(t)&&!Zc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="";function GO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=wg(e)),e=QO(t.get(n),e);return wg(e)}function QO(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case Gv:n+="";break;default:n+=i}}return n}function wg(t){return t+Gv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rc(this.root,e,this.comparator,!0)}}class rc{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??rn.RED,this.left=r??rn.EMPTY,this.right=i??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new rn(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return rn.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bg(this.data.getIterator())}getIteratorFrom(e){return new bg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class bg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new ls([])}unionWith(e){let n=new Jt(an.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ls(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Jv("Invalid base64 string: "+i):i}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const JO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=JO.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function si(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="server_timestamp",Xv="__type__",Zv="__previous_value__",ew="__local_write_time__";function vf(t){return(t?.mapValue?.fields||{})[Xv]?.stringValue===Yv}function Lu(t){const e=t.mapValue.fields[Zv];return vf(e)?Lu(e):e}function ll(t){const e=ni(t.mapValue.fields[ew].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n,s,r,i,o,l,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const eu="(default)";class cl{constructor(e,n){this.projectId=e,this.database=n||eu}static empty(){return new cl("","")}get isDefaultDatabase(){return this.database===eu}isEqual(e){return e instanceof cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="__type__",XO="__max__",ic={mapValue:{}},nw="__vector__",tu="value";function ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vf(t)?4:ex(t)?9007199254740991:ZO(t)?10:11:Se(28295,{value:t})}function qs(t,e){if(t===e)return!0;const n=ri(t);if(n!==ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ll(t).isEqual(ll(e));case 3:return(function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=ni(r.timestampValue),l=ni(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,i){return si(r.bytesValue).isEqual(si(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,i){return Mt(r.geoPointValue.latitude)===Mt(i.geoPointValue.latitude)&&Mt(r.geoPointValue.longitude)===Mt(i.geoPointValue.longitude)})(t,e);case 2:return(function(r,i){if("integerValue"in r&&"integerValue"in i)return Mt(r.integerValue)===Mt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Mt(r.doubleValue),l=Mt(i.doubleValue);return o===l?Zc(o)===Zc(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return jo(t.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:case 11:return(function(r,i){const o=r.mapValue.fields||{},l=i.mapValue.fields||{};if(Eg(o)!==Eg(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!qs(o[u],l[u])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function ul(t,e){return(t.values||[]).find((n=>qs(n,e)))!==void 0}function qo(t,e){if(t===e)return 0;const n=ri(t),s=ri(e);if(n!==s)return He(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const l=Mt(i.integerValue||i.doubleValue),u=Mt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return Tg(t.timestampValue,e.timestampValue);case 4:return Tg(ll(t),ll(e));case 5:return yd(t.stringValue,e.stringValue);case 6:return(function(i,o){const l=si(i),u=si(o);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const l=i.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=He(l[h],u[h]);if(d!==0)return d}return He(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const l=He(Mt(i.latitude),Mt(o.latitude));return l!==0?l:He(Mt(i.longitude),Mt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Ig(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const l=i.fields||{},u=o.fields||{},h=l[tu]?.arrayValue,d=u[tu]?.arrayValue,m=He(h?.values?.length||0,d?.values?.length||0);return m!==0?m:Ig(h,d)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===ic.mapValue&&o===ic.mapValue)return 0;if(i===ic.mapValue)return 1;if(o===ic.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),h=o.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const y=yd(u[m],d[m]);if(y!==0)return y;const T=qo(l[u[m]],h[d[m]]);if(T!==0)return T}return He(u.length,d.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function Tg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=ni(t),s=ni(e),r=He(n.seconds,s.seconds);return r!==0?r:He(n.nanos,s.nanos)}function Ig(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=qo(n[r],s[r]);if(i)return i}return He(n.length,s.length)}function Ho(t){return vd(t)}function vd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ni(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return si(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=vd(i);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${vd(n.fields[o])}`;return r+"}"})(t.mapValue):Se(61005,{value:t})}function bc(t){switch(ri(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lu(t);return e?16+bc(e):16;case 5:return 2*t.stringValue.length;case 6:return si(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((r,i)=>r+bc(i)),0)})(t.arrayValue);case 10:case 11:return(function(s){let r=0;return Gi(s.fields,((i,o)=>{r+=i.length+bc(o)})),r})(t.mapValue);default:throw Se(13486,{value:t})}}function Ag(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wd(t){return!!t&&"integerValue"in t}function wf(t){return!!t&&"arrayValue"in t}function Sg(t){return!!t&&"nullValue"in t}function Rg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tc(t){return!!t&&"mapValue"in t}function ZO(t){return(t?.mapValue?.fields||{})[tw]?.stringValue===nw}function Ka(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Gi(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ka(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ka(t.arrayValue.values[n]);return e}return{...t}}function ex(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===XO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Tc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(n)}setAll(e){let n=an.emptyPath(),s={},r=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=l.popLast()}o?s[l.lastSegment()]=Ka(o):r.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Tc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Tc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Gi(n,((r,i)=>e[r]=i));for(const r of s)delete e[r]}clone(){return new Yn(Ka(this.value))}}function sw(t){const e=[];return Gi(t.fields,((n,s)=>{const r=new an([n]);if(Tc(s)){const i=sw(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)})),new ls(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,s,r,i,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new yn(e,0,Oe.min(),Oe.min(),Oe.min(),Yn.empty(),0)}static newFoundDocument(e,n,s,r){return new yn(e,1,n,Oe.min(),s,r,0)}static newNoDocument(e,n){return new yn(e,2,n,Oe.min(),Oe.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Oe.min(),Oe.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.position=e,this.inclusive=n}}function Cg(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=be.comparator(be.fromName(o.referenceValue),n.key):s=qo(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Pg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function tx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{}class Ht extends rw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new sx(e,n,s):n==="array-contains"?new ox(e,s):n==="in"?new ax(e,s):n==="not-in"?new lx(e,s):n==="array-contains-any"?new cx(e,s):new Ht(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new rx(e,s):new ix(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qo(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fs extends rw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fs(e,n)}matches(e){return iw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iw(t){return t.op==="and"}function ow(t){return nx(t)&&iw(t)}function nx(t){for(const e of t.filters)if(e instanceof fs)return!1;return!0}function Ed(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+Ho(t.value);if(ow(t))return t.filters.map((e=>Ed(e))).join(",");{const e=t.filters.map((n=>Ed(n))).join(",");return`${t.op}(${e})`}}function aw(t,e){return t instanceof Ht?(function(s,r){return r instanceof Ht&&s.op===r.op&&s.field.isEqual(r.field)&&qs(s.value,r.value)})(t,e):t instanceof fs?(function(s,r){return r instanceof fs&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((i,o,l)=>i&&aw(o,r.filters[l])),!0):!1})(t,e):void Se(19439)}function lw(t){return t instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ho(n.value)}`})(t):t instanceof fs?(function(n){return n.op.toString()+" {"+n.getFilters().map(lw).join(" ,")+"}"})(t):"Filter"}class sx extends Ht{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class rx extends Ht{constructor(e,n){super(e,"in",n),this.keys=cw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ix extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=cw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function cw(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class ox extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wf(n)&&ul(n.arrayValue,this.value)}}class ax extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ul(this.value.arrayValue,n)}}class lx extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ul(this.value.arrayValue,n)}}class cx extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ul(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n=null,s=[],r=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function kg(t,e=null,n=[],s=[],r=null,i=null,o=null){return new ux(t,e,n,s,r,i,o)}function Ef(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ed(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(i){return i.field.canonicalString()+i.dir})(s))).join(","),Vu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ho(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ho(s))).join(",")),e.Te=n}return e.Te}function bf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pg(t.startAt,e.startAt)&&Pg(t.endAt,e.endAt)}function bd(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n=null,s=[],r=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hx(t,e,n,s,r,i,o,l){return new Tl(t,e,n,s,r,i,o,l)}function uw(t){return new Tl(t)}function Og(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hw(t){return t.collectionGroup!==null}function Ga(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Jt(an.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new su(i,s))})),n.has(an.keyField().canonicalString())||e.Ie.push(new su(an.keyField(),s))}return e.Ie}function Ls(t){const e=De(t);return e.Ee||(e.Ee=dx(e,Ga(t))),e.Ee}function dx(t,e){if(t.limitType==="F")return kg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const i=r.dir==="desc"?"asc":"desc";return new su(r.field,i)}));const n=t.endAt?new nu(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new nu(t.startAt.position,t.startAt.inclusive):null;return kg(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Td(t,e){const n=t.filters.concat([e]);return new Tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Id(t,e,n){return new Tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mu(t,e){return bf(Ls(t),Ls(e))&&t.limitType===e.limitType}function dw(t){return`${Ef(Ls(t))}|lt:${t.limitType}`}function Eo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((r=>lw(r))).join(", ")}]`),Vu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((r=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(r))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((r=>Ho(r))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((r=>Ho(r))).join(",")),`Target(${s})`})(Ls(t))}; limitType=${t.limitType})`}function Fu(t,e){return e.isFoundDocument()&&(function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):be.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)})(t,e)&&(function(s,r){for(const i of Ga(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0})(t,e)&&(function(s,r){return!(s.startAt&&!(function(o,l,u){const h=Cg(o,l,u);return o.inclusive?h<=0:h<0})(s.startAt,Ga(s),r)||s.endAt&&!(function(o,l,u){const h=Cg(o,l,u);return o.inclusive?h>=0:h>0})(s.endAt,Ga(s),r))})(t,e)}function fx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fw(t){return(e,n)=>{let s=!1;for(const r of Ga(t)){const i=px(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function px(t,e,n){const s=t.field.isKeyField()?be.comparator(e.key,n.key):(function(i,o,l){const u=o.data.field(i),h=l.data.field(i);return u!==null&&h!==null?qo(u,h):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gi(this.inner,((n,s)=>{for(const[r,i]of s)e(r,i)}))}isEmpty(){return Qv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new Ct(be.comparator);function _r(){return mx}const pw=new Ct(be.comparator);function Va(...t){let e=pw;for(const n of t)e=e.insert(n.key,n);return e}function mw(t){let e=pw;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Vi(){return Qa()}function gw(){return Qa()}function Qa(){return new Qi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const gx=new Ct(be.comparator),_x=new Jt(be.comparator);function We(...t){let e=_x;for(const n of t)e=e.add(n);return e}const yx=new Jt(He);function vx(){return yx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function _w(t){return{integerValue:""+t}}function wx(t,e){return KO(e)?_w(e):Tf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this._=void 0}}function Ex(t,e,n){return t instanceof ru?(function(r,i){const o={fields:{[Xv]:{stringValue:Yv},[ew]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&vf(i)&&(i=Lu(i)),i&&(o.fields[Zv]=i),{mapValue:o}})(n,e):t instanceof hl?vw(t,e):t instanceof dl?ww(t,e):(function(r,i){const o=yw(r,i),l=xg(o)+xg(r.Ae);return wd(o)&&wd(r.Ae)?_w(l):Tf(r.serializer,l)})(t,e)}function bx(t,e,n){return t instanceof hl?vw(t,e):t instanceof dl?ww(t,e):n}function yw(t,e){return t instanceof iu?(function(s){return wd(s)||(function(i){return!!i&&"doubleValue"in i})(s)})(e)?e:{integerValue:0}:null}class ru extends Uu{}class hl extends Uu{constructor(e){super(),this.elements=e}}function vw(t,e){const n=Ew(e);for(const s of t.elements)n.some((r=>qs(r,s)))||n.push(s);return{arrayValue:{values:n}}}class dl extends Uu{constructor(e){super(),this.elements=e}}function ww(t,e){let n=Ew(e);for(const s of t.elements)n=n.filter((r=>!qs(r,s)));return{arrayValue:{values:n}}}class iu extends Uu{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xg(t){return Mt(t.integerValue||t.doubleValue)}function Ew(t){return wf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Tx(t,e){return t.field.isEqual(e.field)&&(function(s,r){return s instanceof hl&&r instanceof hl||s instanceof dl&&r instanceof dl?jo(s.elements,r.elements,qs):s instanceof iu&&r instanceof iu?qs(s.Ae,r.Ae):s instanceof ru&&r instanceof ru})(t.transform,e.transform)}class Ix{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ic(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $u{}function bw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Iw(t.key,hr.none()):new Il(t.key,t.data,hr.none());{const n=t.data,s=Yn.empty();let r=new Jt(an.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Ji(t.key,s,new ls(r.toArray()),hr.none())}}function Ax(t,e,n){t instanceof Il?(function(r,i,o){const l=r.value.clone(),u=Dg(r.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Ji?(function(r,i,o){if(!Ic(r.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Dg(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(Tw(r)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):(function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Ja(t,e,n,s){return t instanceof Il?(function(i,o,l,u){if(!Ic(i.precondition,o))return l;const h=i.value.clone(),d=Vg(i.fieldTransforms,u,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,s):t instanceof Ji?(function(i,o,l,u){if(!Ic(i.precondition,o))return l;const h=Vg(i.fieldTransforms,u,o),d=o.data;return d.setAll(Tw(i)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(t,e,n,s):(function(i,o,l){return Ic(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function Sx(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=yw(s.transform,r||null);i!=null&&(n===null&&(n=Yn.empty()),n.set(s.field,i))}return n||null}function Ng(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&jo(s,r,((i,o)=>Tx(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Il extends $u{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ji extends $u{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Tw(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Dg(t,e,n){const s=new Map;rt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,l=e.data.field(i.field);s.set(i.field,bx(o,l,n[r]))}return s}function Vg(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,Ex(i,o,e))}return s}class Iw extends $u{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rx extends $u{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&Ax(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ja(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ja(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gw();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(r.key)?null:l;const u=bw(o,l);u!==null&&s.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,((n,s)=>Ng(n,s)))&&jo(this.baseMutations,e.baseMutations,((n,s)=>Ng(n,s)))}}class If{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){rt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=(function(){return gx})();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new If(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Je;function Ox(t){switch(t){case Y.OK:return Se(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function Aw(t){if(t===void 0)return gr("GRPC error has no .code"),Y.UNKNOWN;switch(t){case qt.OK:return Y.OK;case qt.CANCELLED:return Y.CANCELLED;case qt.UNKNOWN:return Y.UNKNOWN;case qt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case qt.INTERNAL:return Y.INTERNAL;case qt.UNAVAILABLE:return Y.UNAVAILABLE;case qt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case qt.NOT_FOUND:return Y.NOT_FOUND;case qt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case qt.ABORTED:return Y.ABORTED;case qt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case qt.DATA_LOSS:return Y.DATA_LOSS;default:return Se(39323,{code:t})}}(Je=qt||(qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=new Jr([4294967295,4294967295],0);function Lg(t){const e=xx().encode(t),n=new Fv;return n.update(e),new Uint8Array(n.digest())}function Mg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Jr([n,s],0),new Jr([r,i],0)]}class Af{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new La(`Invalid padding: ${n}`);if(s<0)throw new La(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new La(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new La(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Jr.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(Jr.fromNumber(s)));return r.compare(Nx)===1&&(r=new Jr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Lg(e),[s,r]=Mg(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);if(!this.we(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Af(i,r,n);return s.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=Lg(e),[s,r]=Mg(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class La extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Bu(Oe.min(),r,new Ct(He),_r(),We())}}class Al{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Al(s,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class Sw{constructor(e,n){this.targetId=e,this.Ce=n}}class Rw{constructor(e,n,s=ln.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Fg{constructor(){this.ve=0,this.Fe=Ug(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),s=We();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:Se(38017,{changeType:i})}})),new Al(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Ug()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Dx{constructor(e){this.Ge=e,this.ze=new Map,this.je=_r(),this.Je=oc(),this.He=oc(),this.Ye=new Ct(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,r)=>{this.rt(r)&&n(r)}))}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(bd(i))if(s===0){const o=new be(i.path);this.et(n,o,yn.newNoDocument(o,Oe.min()))}else rt(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,l;try{o=si(s).toUint8Array()}catch(u){if(u instanceof Jv)return Bo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Af(o,r,i)}catch(u){return Bo(u instanceof La?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach((i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),r++)})),r}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const l=this.ot(o);if(l){if(i.current&&bd(l.target)){const u=new be(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,yn.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let s=We();this.He.forEach(((i,o)=>{let l=!0;o.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(s=s.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const r=new Bu(e,n,this.Ye,this.je,s);return this.je=_r(),this.Je=oc(),this.He=oc(),this.Ye=new Ct(He),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Fg,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jt(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jt(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Fg),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oc(){return new Ct(be.comparator)}function Ug(){return new Ct(be.comparator)}const Vx={asc:"ASCENDING",desc:"DESCENDING"},Lx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mx={and:"AND",or:"OR"};class Fx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ad(t,e){return t.useProto3Json||Vu(e)?e:{value:e}}function ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ux(t,e){return ou(t,e.toTimestamp())}function Ms(t){return rt(!!t,49232),Oe.fromTimestamp((function(n){const s=ni(n);return new Tt(s.seconds,s.nanos)})(t))}function Sf(t,e){return Sd(t,e).canonicalString()}function Sd(t,e){const n=(function(r){return new _t(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Pw(t){const e=_t.fromString(t);return rt(Dw(e),10190,{key:e.toString()}),e}function Rd(t,e){return Sf(t.databaseId,e.path)}function Uh(t,e){const n=Pw(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(Ow(n))}function kw(t,e){return Sf(t.databaseId,e)}function $x(t){const e=Pw(t);return e.length===4?_t.emptyPath():Ow(e)}function Cd(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ow(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $g(t,e,n){return{name:Rd(t,e),fields:n.value.mapValue.fields}}function Bx(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Se(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=(function(h,d){return h.useProto3Json?(rt(d===void 0||typeof d=="string",58123),ln.fromBase64String(d||"")):(rt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ln.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(h){const d=h.code===void 0?Y.UNKNOWN:Aw(h.code);return new pe(d,h.message||"")})(o);n=new Rw(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Uh(t,s.document.name),i=Ms(s.document.updateTime),o=s.document.createTime?Ms(s.document.createTime):Oe.min(),l=new Yn({mapValue:{fields:s.document.fields}}),u=yn.newFoundDocument(r,i,o,l),h=s.targetIds||[],d=s.removedTargetIds||[];n=new Ac(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Uh(t,s.document),i=s.readTime?Ms(s.readTime):Oe.min(),o=yn.newNoDocument(r,i),l=s.removedTargetIds||[];n=new Ac([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Uh(t,s.document),i=s.removedTargetIds||[];n=new Ac([],i,r,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new kx(r,i),l=s.targetId;n=new Sw(l,o)}}return n}function jx(t,e){let n;if(e instanceof Il)n={update:$g(t,e.key,e.value)};else if(e instanceof Iw)n={delete:Rd(t,e.key)};else if(e instanceof Ji)n={update:$g(t,e.key,e.data),updateMask:Yx(e.fieldMask)};else{if(!(e instanceof Rx))return Se(16599,{Vt:e.type});n={verify:Rd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(i,o){const l=o.transform;if(l instanceof ru)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof hl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof dl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof iu)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Se(20930,{transform:o.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(r,i){return i.updateTime!==void 0?{updateTime:Ux(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Se(27497)})(t,e.precondition)),n}function qx(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map((n=>(function(r,i){let o=r.updateTime?Ms(r.updateTime):Ms(i);return o.isEqual(Oe.min())&&(o=Ms(i)),new Ix(o,r.transformResults||[])})(n,e)))):[]}function Hx(t,e){return{documents:[kw(t,e.path)]}}function Wx(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=kw(t,r);const i=(function(h){if(h.length!==0)return Nw(fs.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(h){if(h.length!==0)return h.map((d=>(function(y){return{field:bo(y.field),direction:Gx(y.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Ad(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:r}}function zx(t){let e=$x(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){rt(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=(function(m){const y=xw(m);return y instanceof fs&&ow(y)?y.getFilters():[y]})(n.where));let o=[];n.orderBy&&(o=(function(m){return m.map((y=>(function(S){return new su(To(S.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let y;return y=typeof m=="object"?m.value:m,Vu(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(m){const y=!!m.before,T=m.values||[];return new nu(T,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(m){const y=!m.before,T=m.values||[];return new nu(T,y)})(n.endAt)),hx(e,r,o,i,l,"F",u,h)}function Kx(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xw(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=To(n.unaryFilter.field);return Ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=To(n.unaryFilter.field);return Ht.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=To(n.unaryFilter.field);return Ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=To(n.unaryFilter.field);return Ht.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ht.create(To(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return fs.create(n.compositeFilter.filters.map((s=>xw(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function Gx(t){return Vx[t]}function Qx(t){return Lx[t]}function Jx(t){return Mx[t]}function bo(t){return{fieldPath:t.canonicalString()}}function To(t){return an.fromServerFormat(t.fieldPath)}function Nw(t){return t instanceof Ht?(function(n){if(n.op==="=="){if(Rg(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NAN"}};if(Sg(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Rg(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NAN"}};if(Sg(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(n.field),op:Qx(n.op),value:n.value}}})(t):t instanceof fs?(function(n){const s=n.getFilters().map((r=>Nw(r)));return s.length===1?s[0]:{compositeFilter:{op:Jx(n.op),filters:s}}})(t):Se(54877,{filter:t})}function Yx(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Dw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s,r,i=Oe.min(),o=Oe.min(),l=ln.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.yt=e}}function Zx(t){const e=zx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Id(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.Cn=new tN}addToCollectionParentIndex(e,n){return this.Cn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(ti.min())}updateCollectionGroup(e,n,s){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class tN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new Jt(_t.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new Jt(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vw=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(Vw,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wo(0)}static cr(){return new Wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="LruGarbageCollector",nN=1048576;function qg([t,e],[n,s]){const r=He(t,n);return r===0?He(e,s):r}class sN{constructor(e){this.Ir=e,this.buffer=new Jt(qg),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();qg(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(jg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zo(n)?fe(jg,"Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.Vr(3e5)}))}}class iN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return X.resolve(Du.ce);const s=new sN(n);return this.mr.forEachTarget(e,(r=>s.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>s.Ar(r))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Bg)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bg):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,o,l,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,o=Date.now(),this.nthSequenceNumber(e,r)))).next((m=>(s=m,l=Date.now(),this.removeTargets(e,s,n)))).next((m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,s)))).next((m=>(h=Date.now(),wo()<=qe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:m}))))}}function oN(t,e){return new iN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.changes=new Qi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?X.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(s=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(s!==null&&Ja(s.mutation,r,ls.empty(),Tt.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,We()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=We()){const r=Vi();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,s).next((i=>{let o=Va();return i.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const s=Vi();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,We())))}populateOverlays(e,n,s){const r=[];return s.forEach((i=>{n.has(i)||r.push(i)})),this.documentOverlayCache.getOverlays(e,r).next((i=>{i.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,s,r){let i=_r();const o=Qa(),l=(function(){return Qa()})();return n.forEach(((u,h)=>{const d=s.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof Ji)?i=i.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),Ja(d.mutation,h,d.mutation.getFieldMask(),Tt.now())):o.set(h.key,ls.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((h,d)=>o.set(h,d))),n.forEach(((h,d)=>l.set(h,new lN(d,o.get(h)??null)))),l)))}recalculateAndSaveOverlays(e,n){const s=Qa();let r=new Ct(((o,l)=>o-l)),i=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((u=>{const h=n.get(u);if(h===null)return;let d=s.get(u)||ls.empty();d=l.applyToLocalView(h,d),s.set(u,d);const m=(r.get(l.batchId)||We()).add(u);r=r.insert(l.batchId,m)}))})).next((()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,m=gw();d.forEach((y=>{if(!i.has(y)){const T=bw(n.get(y),s.get(y));T!==null&&m.set(y,T),i=i.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return X.waitFor(o)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,r){return(function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):X.resolve(Vi());let l=al,u=i;return o.next((h=>X.forEach(h,((d,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(d)?X.resolve():this.remoteDocumentCache.getEntry(e,d).next((y=>{u=u.insert(d,y)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,u,h,We()))).next((d=>({batchId:l,changes:mw(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let r=Va();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=Va();return this.indexManager.getCollectionParents(e,i).next((l=>X.forEach(l,(u=>{const h=(function(m,y){return new Tl(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,s,r).next((d=>{d.forEach(((m,y)=>{o=o.insert(m,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r)))).next((o=>{i.forEach(((u,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,yn.newInvalidDocument(d)))}));let l=Va();return o.forEach(((u,h)=>{const d=i.get(u);d!==void 0&&Ja(d.mutation,h,ls.empty(),Tt.now()),Fu(n,h)&&(l=l.insert(u,h))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return X.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Ms(r.createTime)}})(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:Zx(r.bundledQuery),readTime:Ms(r.readTime)}})(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.overlays=new Ct(be.comparator),this.qr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Vi();return X.forEach(n,(r=>this.getOverlay(e,r).next((i=>{i!==null&&s.set(r,i)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((r,i)=>{this.St(e,n,i)})),X.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(e,n,s){const r=Vi(),i=n.length+1,o=new be(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>s&&r.set(u.getKey(),u)}return X.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Ct(((h,d)=>h-d));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let d=i.get(h.largestBatchId);d===null&&(d=Vi(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Vi(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,d)=>l.set(h,d))),!(l.size()>=r)););return X.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new Px(n,s));let i=this.qr.get(n);i===void 0&&(i=We(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this.Qr=new Jt(tn.$r),this.Ur=new Jt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new tn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new tn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new be(new _t([])),s=new tn(n,e),r=new tn(n,e+1),i=[];return this.Ur.forEachInRange([s,r],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new _t([])),s=new tn(n,e),r=new tn(n,e+1);let i=We();return this.Ur.forEachInRange([s,r],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new tn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class tn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(tn.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Cx(i,n,s,r);this.mutationQueue.push(o);for(const l of r)this.Zr=this.Zr.add(new tn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,n){return X.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return X.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?yf:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new tn(n,0),r=new tn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],(o=>{const l=this.Xr(o.Yr);i.push(l)})),X.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Jt(He);return n.forEach((r=>{const i=new tn(r,0),o=new tn(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(l=>{s=s.add(l.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;be.isDocumentKey(i)||(i=i.child(""));const o=new tn(new be(i),0);let l=new Jt(He);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!s.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Yr)),!0)}),o),X.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((s=>{const r=this.Xr(s);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(n.mutations,(r=>{const i=new tn(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new tn(n,0),r=this.Zr.firstAfterOrEqual(s);return X.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.ri=e,this.docs=(function(){return new Ct(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return X.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach((r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():yn.newInvalidDocument(r))})),X.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=_r();const o=n.path,l=new be(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||qO(jO(d),s)<=0||(r.has(d.key)||Fu(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return X.resolve(i)}getAllFromCollectionGroup(e,n,s,r){Se(9500)}ii(e,n){return X.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new mN(this)}getSize(e){return X.resolve(this.size)}}class mN extends aN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)})),X.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.persistence=e,this.si=new Qi((n=>Ef(n)),bf),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Rf,this.targetCount=0,this.ai=Wo.ur()}forEachTarget(e,n){return this.si.forEach(((s,r)=>n(r))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),X.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Pr(n),X.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)})),X.waitFor(i).next((()=>r))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return X.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),X.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach((o=>{i.push(r.markPotentiallyOrphaned(e,o))})),X.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return X.resolve(s)}containsKey(e,n){return X.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Du(0),this.li=!1,this.li=!0,this.hi=new dN,this.referenceDelegate=e(this),this.Pi=new gN(this),this.indexManager=new eN,this.remoteDocumentCache=(function(r){return new pN(r)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Xx(n),this.Ii=new uN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new fN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const r=new _N(this.ci.next());return this.referenceDelegate.Ei(),s(r).next((i=>this.referenceDelegate.di(r).next((()=>i)))).toPromise().then((i=>(r.raiseOnCommittedEvent(),i)))}Ai(e,n){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class _N extends WO{constructor(e){super(),this.currentSequenceNumber=e}}class Cf{constructor(e){this.persistence=e,this.Ri=new Rf,this.Vi=null}static mi(e){return new Cf(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),X.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),X.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((r=>this.fi.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((i=>this.fi.add(i.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const r=be.fromPath(s);return this.gi(e,r).next((i=>{i||n.removeEntry(r,Oe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class au{constructor(e,n){this.persistence=e,this.pi=new Qi((s=>GO(s.path)),((s,r)=>s.isEqual(r))),this.garbageCollector=oN(this,n)}static mi(e,n){return new au(e,n)}Ei(){}di(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((r=>s+r))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return X.forEach(this.pi,((s,r)=>this.br(e,s,r).next((i=>i?X.resolve():n(r)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,(o=>this.br(e,o,n).next((l=>{l||(s++,i.removeEntry(o,Oe.min()))})))).next((()=>i.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bc(e.data.value)),n}br(e,n,s){return X.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return X.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=We(),r=We();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Pf(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JC()?8:zO(Tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,r,s).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new yN;return this.Ss(e,n,o).next((l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>i.result))}bs(e,n,s,r){return s.documentReadCount<this.fs?(wo()<=qe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(wo()<=qe.DEBUG&&fe("QueryEngine","Query:",Eo(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(wo()<=qe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ls(n))):X.resolve())}ys(e,n){if(Og(n))return X.resolve(null);let s=Ls(n);return this.indexManager.getIndexType(e,s).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=Id(n,null,"F"),s=Ls(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((i=>{const o=We(...i);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,s).next((u=>{const h=this.Ds(n,l);return this.Cs(n,h,o,u.readTime)?this.ys(e,Id(n,null,"F")):this.vs(e,h,n,u)}))))})))))}ws(e,n,s,r){return Og(n)||r.isEqual(Oe.min())?X.resolve(null):this.ps.getDocuments(e,s).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,s,r)?X.resolve(null):(wo()<=qe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Eo(n)),this.vs(e,o,n,BO(r,al)).next((l=>l)))}))}Ds(e,n){let s=new Jt(fw(e));return n.forEach(((r,i)=>{Fu(e,i)&&(s=s.add(i))})),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return wo()<=qe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.ps.getDocumentsMatchingQuery(e,n,ti.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="LocalStore",wN=3e8;class EN{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Ct(He),this.xs=new Qi((i=>Ef(i)),bf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function bN(t,e,n,s){return new EN(t,e,n,s)}async function Mw(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next((i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((i=>{const o=[],l=[];let u=We();for(const h of r){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of i){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(s,u).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:l})))}))}))}function TN(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,h,d){const m=h.batch,y=m.keys();let T=X.resolve();return y.forEach((S=>{T=T.next((()=>d.getEntry(u,S))).next((k=>{const D=h.docVersions.get(S);rt(D!==null,48541),k.version.compareTo(D)<0&&(m.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),d.addEntry(k)))}))})),T.next((()=>l.mutationQueue.removeMutationBatch(u,m)))})(n,s,e,i).next((()=>i.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(l){let u=We();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(s,r)))}))}function Fw(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function IN(t,e){const n=De(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach(((d,m)=>{const y=r.get(m);if(!y)return;l.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(i,d.addedDocuments,m))));let T=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?T=T.withResumeToken(ln.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):d.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(d.resumeToken,s)),r=r.insert(m,T),(function(k,D,U){return k.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=wN?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(y,T,d)&&l.push(n.Pi.updateTargetData(i,T))}));let u=_r(),h=We();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))})),l.push(AN(i,o,e.documentUpdates).next((d=>{u=d.ks,h=d.qs}))),!s.isEqual(Oe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next((m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s)));l.push(d)}return X.waitFor(l).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,u,h))).next((()=>u))})).then((i=>(n.Ms=r,i)))}function AN(t,e,n){let s=We(),r=We();return n.forEach((i=>s=s.add(i))),e.getEntries(t,s).next((i=>{let o=_r();return n.forEach(((l,u)=>{const h=i.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(Oe.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):fe(kf,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)})),{ks:o,qs:r}}))}function SN(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=yf),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function RN(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let r;return n.Pi.getTargetData(s,e).next((i=>i?(r=i,X.resolve(r)):n.Pi.allocateTargetId(s).next((o=>(r=new Wr(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next((()=>r)))))))})).then((s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Pd(t,e,n){const s=De(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,(o=>s.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Zo(o))throw o;fe(kf,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function Hg(t,e,n){const s=De(t);let r=Oe.min(),i=We();return s.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,h,d){const m=De(u),y=m.xs.get(d);return y!==void 0?X.resolve(m.Ms.get(y)):m.Pi.getTargetData(h,d)})(s,o,Ls(e)).next((l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,l.targetId).next((u=>{i=u}))})).next((()=>s.Fs.getDocumentsMatchingQuery(o,e,n?r:Oe.min(),n?i:We()))).next((l=>(CN(s,fx(e),l),{documents:l,Qs:i})))))}function CN(t,e,n){let s=t.Os.get(e)||Oe.min();n.forEach(((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)})),t.Os.set(e,s)}class Wg{constructor(){this.activeTargetIds=vx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PN{constructor(){this.Mo=new Wg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="ConnectivityMonitor";class Kg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(zg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(zg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function kd(){return ac===null?ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="RestConnection",ON={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===eu?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const o=kd(),l=this.zo(e,n.toUriEncodedString());fe($h,`Sending RPC '${e}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,i);const{host:h}=new URL(l),d=Go(h);return this.Jo(e,l,u,s,d).then((m=>(fe($h,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw Bo($h,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",s),m}))}Ho(e,n,s,r,i,o){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((r,i)=>e[i]=r)),s&&s.headers.forEach(((r,i)=>e[i]=r))}zo(e,n){const s=ON[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class DN extends xN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const o=kd();return new Promise(((l,u)=>{const h=new Uv;h.setWithCredentials(!0),h.listenOnce($v.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Ec.NO_ERROR:const m=h.getResponseJson();fe(mn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Ec.TIMEOUT:fe(mn,`RPC '${e}' ${o} timed out`),u(new pe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const y=h.getStatus();if(fe(mn,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T?.error;if(S&&S.status&&S.message){const k=(function(U){const W=U.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(W)>=0?W:Y.UNKNOWN})(S.status);u(new pe(k,S.message))}else u(new pe(Y.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new pe(Y.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{fe(mn,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(r);fe(mn,`RPC '${e}' ${o} sending request:`,r),h.send(n,"POST",d,s,15)}))}T_(e,n,s){const r=kd(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qv(),l=jv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const d=i.join("");fe(mn,`Creating RPC '${e}' stream ${r}: ${d}`,u);const m=o.createWebChannel(d,u);this.I_(m);let y=!1,T=!1;const S=new NN({Yo:D=>{T?fe(mn,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(y||(fe(mn,`Opening RPC '${e}' stream ${r} transport.`),m.open(),y=!0),fe(mn,`RPC '${e}' stream ${r} sending:`,D),m.send(D))},Zo:()=>m.close()}),k=(D,U,W)=>{D.listen(U,(G=>{try{W(G)}catch(se){setTimeout((()=>{throw se}),0)}}))};return k(m,Da.EventType.OPEN,(()=>{T||(fe(mn,`RPC '${e}' stream ${r} transport opened.`),S.o_())})),k(m,Da.EventType.CLOSE,(()=>{T||(T=!0,fe(mn,`RPC '${e}' stream ${r} transport closed`),S.a_(),this.E_(m))})),k(m,Da.EventType.ERROR,(D=>{T||(T=!0,Bo(mn,`RPC '${e}' stream ${r} transport errored. Name:`,D.name,"Message:",D.message),S.a_(new pe(Y.UNAVAILABLE,"The operation could not be completed")))})),k(m,Da.EventType.MESSAGE,(D=>{if(!T){const U=D.data[0];rt(!!U,16349);const W=U,G=W?.error||W[0]?.error;if(G){fe(mn,`RPC '${e}' stream ${r} received error:`,G);const se=G.status;let ve=(function(b){const R=qt[b];if(R!==void 0)return Aw(R)})(se),ce=G.message;ve===void 0&&(ve=Y.INTERNAL,ce="Unknown error status: "+se+" with message "+G.message),T=!0,S.a_(new pe(ve,ce)),m.close()}else fe(mn,`RPC '${e}' stream ${r} received:`,U),S.u_(U)}})),k(l,Bv.STAT_EVENT,(D=>{D.stat===_d.PROXY?fe(mn,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===_d.NOPROXY&&fe(mn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){return new Fx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="PersistentStream";class $w{constructor(e,n,s,r,i,o,l,u){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Uw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.D_===n&&this.G_(s,r)}),(s=>{e((()=>{const r=new pe(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{s((()=>this.z_(r)))})),this.stream.onMessage((r=>{s((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(Gg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(Gg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VN extends $w{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Bx(this.serializer,e),s=(function(i){if(!("targetChange"in i))return Oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?Ms(o.readTime):Oe.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Cd(this.serializer),n.addTarget=(function(i,o){let l;const u=o.target;if(l=bd(u)?{documents:Hx(i,u)}:{query:Wx(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Cw(i,o.resumeToken);const h=Ad(i,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(Oe.min())>0){l.readTime=ou(i,o.snapshotVersion.toTimestamp());const h=Ad(i,o.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,e);const s=Kx(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Cd(this.serializer),n.removeTarget=e,this.q_(n)}}class LN extends $w{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qx(e.writeResults,e.commitTime),s=Ms(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Cd(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>jx(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{}class FN extends MN{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new pe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,Sd(n,s),r,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new pe(Y.UNKNOWN,i.toString())}))}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,Sd(n,s),r,o,l,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(Y.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="RemoteStore";class $N{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{s.enqueueAndForget((async()=>{Yi(this)&&(fe(Wi,"Restarting streams for network reachability change."),await(async function(u){const h=De(u);h.Ea.add(4),await Sl(h),h.Ra.set("Unknown"),h.Ea.delete(4),await qu(h)})(this))}))})),this.Ra=new UN(s,r)}}async function qu(t){if(Yi(t))for(const e of t.da)await e(!0)}async function Sl(t){for(const e of t.da)await e(!1)}function Bw(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Df(n)?Nf(n):ea(n).O_()&&xf(n,e))}function Of(t,e){const n=De(t),s=ea(n);n.Ia.delete(e),s.O_()&&jw(n,e),n.Ia.size===0&&(s.O_()?s.L_():Yi(n)&&n.Ra.set("Unknown"))}function xf(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ea(t).Y_(e)}function jw(t,e){t.Va.Ue(e),ea(t).Z_(e)}function Nf(t){t.Va=new Dx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ea(t).start(),t.Ra.ua()}function Df(t){return Yi(t)&&!ea(t).x_()&&t.Ia.size>0}function Yi(t){return De(t).Ea.size===0}function qw(t){t.Va=void 0}async function BN(t){t.Ra.set("Online")}async function jN(t){t.Ia.forEach(((e,n)=>{xf(t,e)}))}async function qN(t,e){qw(t),Df(t)?(t.Ra.ha(e),Nf(t)):t.Ra.set("Unknown")}async function HN(t,e,n){if(t.Ra.set("Online"),e instanceof Rw&&e.state===2&&e.cause)try{await(async function(r,i){const o=i.cause;for(const l of i.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.Ia.delete(l),r.Va.removeTarget(l))})(t,e)}catch(s){fe(Wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lu(t,s)}else if(e instanceof Ac?t.Va.Ze(e):e instanceof Sw?t.Va.st(e):t.Va.tt(e),!n.isEqual(Oe.min()))try{const s=await Fw(t.localStore);n.compareTo(s)>=0&&await(function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(h);d&&i.Ia.set(h,d.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,h)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(ln.EMPTY_BYTE_STRING,d.snapshotVersion)),jw(i,u);const m=new Wr(d.target,u,h,d.sequenceNumber);xf(i,m)})),i.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(s){fe(Wi,"Failed to raise snapshot:",s),await lu(t,s)}}async function lu(t,e,n){if(!Zo(e))throw e;t.Ea.add(1),await Sl(t),t.Ra.set("Offline"),n||(n=()=>Fw(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe(Wi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qu(t)}))}function Hw(t,e){return e().catch((n=>lu(t,n,e)))}async function Hu(t){const e=De(t),n=ii(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yf;for(;WN(e);)try{const r=await SN(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,zN(e,r)}catch(r){await lu(e,r)}Ww(e)&&zw(e)}function WN(t){return Yi(t)&&t.Ta.length<10}function zN(t,e){t.Ta.push(e);const n=ii(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Ww(t){return Yi(t)&&!ii(t).x_()&&t.Ta.length>0}function zw(t){ii(t).start()}async function KN(t){ii(t).ra()}async function GN(t){const e=ii(t);for(const n of t.Ta)e.ea(n.mutations)}async function QN(t,e,n){const s=t.Ta.shift(),r=If.from(s,e,n);await Hw(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Hu(t)}async function JN(t,e){e&&ii(t).X_&&await(async function(s,r){if((function(o){return Ox(o)&&o!==Y.ABORTED})(r.code)){const i=s.Ta.shift();ii(s).B_(),await Hw(s,(()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r))),await Hu(s)}})(t,e),Ww(t)&&zw(t)}async function Qg(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),fe(Wi,"RemoteStore received new credentials");const s=Yi(n);n.Ea.add(3),await Sl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qu(n)}async function YN(t,e){const n=De(t);e?(n.Ea.delete(2),await qu(n)):e||(n.Ea.add(2),await Sl(n),n.Ra.set("Unknown"))}function ea(t){return t.ma||(t.ma=(function(n,s,r){const i=De(n);return i.sa(),new VN(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)})(t.datastore,t.asyncQueue,{Xo:BN.bind(null,t),t_:jN.bind(null,t),r_:qN.bind(null,t),H_:HN.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Df(t)?Nf(t):t.Ra.set("Unknown")):(await t.ma.stop(),qw(t))}))),t.ma}function ii(t){return t.fa||(t.fa=(function(n,s,r){const i=De(n);return i.sa(),new LN(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:KN.bind(null,t),r_:JN.bind(null,t),ta:GN.bind(null,t),na:QN.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Hu(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(Wi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,l=new Vf(e,n,o,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lf(t,e){if(gr("AsyncQueue",`${e}: ${t}`),Zo(t))return new pe(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=Va(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Do;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this.ga=new Ct(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class zo{constructor(e,n,s,r,i,o,l,u,h){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new zo(e,n,Do.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZN{constructor(){this.queries=Yg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=De(n),i=r.queries;r.queries=Yg(),i.forEach(((o,l)=>{for(const u of l.Sa)u.onError(s)}))})(this,new pe(Y.ABORTED,"Firestore shutting down"))}}function Yg(){return new Qi((t=>dw(t)),Mu)}async function eD(t,e){const n=De(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new XN,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=Lf(o,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Mf(n)}async function tD(t,e){const n=De(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function nD(t,e){const n=De(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(r)&&(s=!0);o.wa=r}}s&&Mf(n)}function sD(t,e,n){const s=De(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function Mf(t){t.Ca.forEach((e=>{e.next()}))}var Od,Xg;(Xg=Od||(Od={})).Ma="default",Xg.Cache="cache";class rD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new zo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.key=e}}class Gw{constructor(e){this.key=e}}class iD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=fw(e),this.tu=new Do(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Jg,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((d,m)=>{const y=r.get(d),T=Fu(this.query,m)?m:null,S=!!y&&this.mutatedKeys.has(y.key),k=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let D=!1;y&&T?y.data.isEqual(T.data)?S!==k&&(s.track({type:3,doc:T}),D=!0):this.su(y,T)||(s.track({type:2,doc:T}),D=!0,(u&&this.eu(T,u)>0||h&&this.eu(T,h)<0)&&(l=!0)):!y&&T?(s.track({type:0,doc:T}),D=!0):y&&!T&&(s.track({type:1,doc:y}),D=!0,(u||h)&&(l=!0)),D&&(T?(o=o.add(T),i=k?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{tu:o,iu:s,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,m)=>(function(T,S){const k=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:D})}};return k(T)-k(S)})(d.type,m.type)||this.eu(d.doc,m.doc))),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new zo(this.query,e.tu,i,o,e.mutatedKeys,u===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Gw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Kw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ff="SyncEngine";class oD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class aD{constructor(e){this.key=e,this.hu=!1}}class lD{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Qi((l=>dw(l)),Mu),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(be.comparator),this.Au=new Map,this.Ru=new Rf,this.Vu={},this.mu=new Map,this.fu=Wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cD(t,e,n=!0){const s=eE(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await Qw(s,e,n,!0),r}async function uD(t,e){const n=eE(t);await Qw(n,e,!0,!1)}async function Qw(t,e,n,s){const r=await RN(t.localStore,Ls(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await hD(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&Bw(t.remoteStore,r),l}async function hD(t,e,n,s,r){t.pu=(m,y,T)=>(async function(k,D,U,W){let G=D.view.ru(U);G.Cs&&(G=await Hg(k.localStore,D.query,!1).then((({documents:w})=>D.view.ru(w,G))));const se=W&&W.targetChanges.get(D.targetId),ve=W&&W.targetMismatches.get(D.targetId)!=null,ce=D.view.applyChanges(G,k.isPrimaryClient,se,ve);return e_(k,D.targetId,ce.au),ce.snapshot})(t,m,y,T);const i=await Hg(t.localStore,e,!0),o=new iD(e,i.Qs),l=o.ru(i.documents),u=Al.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),h=o.applyChanges(l,t.isPrimaryClient,u);e_(t,n,h.au);const d=new oD(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function dD(t,e,n){const s=De(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter((o=>!Mu(o,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Pd(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),n&&Of(s.remoteStore,r.targetId),xd(s,r.targetId)})).catch(Xo)):(xd(s,r.targetId),await Pd(s.localStore,r.targetId,!0))}async function fD(t,e){const n=De(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Of(n.remoteStore,s.targetId))}async function pD(t,e,n){const s=ED(t);try{const r=await(function(o,l){const u=De(o),h=Tt.now(),d=l.reduce(((T,S)=>T.add(S.key)),We());let m,y;return u.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let S=_r(),k=We();return u.Ns.getEntries(T,d).next((D=>{S=D,S.forEach(((U,W)=>{W.isValidDocument()||(k=k.add(U))}))})).next((()=>u.localDocuments.getOverlayedDocuments(T,S))).next((D=>{m=D;const U=[];for(const W of l){const G=Sx(W,m.get(W.key).overlayedDocument);G!=null&&U.push(new Ji(W.key,G,sw(G.value.mapValue),hr.exists(!0)))}return u.mutationQueue.addMutationBatch(T,h,U,l)})).next((D=>{y=D;const U=D.applyToLocalDocumentSet(m,k);return u.documentOverlayCache.saveOverlays(T,D.batchId,U)}))})).then((()=>({batchId:y.batchId,changes:mw(m)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),(function(o,l,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new Ct(He)),h=h.insert(l,u),o.Vu[o.currentUser.toKey()]=h})(s,r.batchId,n),await Rl(s,r.changes),await Hu(s.remoteStore)}catch(r){const i=Lf(r,"Failed to persist write");n.reject(i)}}async function Jw(t,e){const n=De(t);try{const s=await IN(n.localStore,e);e.targetChanges.forEach(((r,i)=>{const o=n.Au.get(i);o&&(rt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?rt(o.hu,14607):r.removedDocuments.size>0&&(rt(o.hu,42227),o.hu=!1))})),await Rl(n,s,e)}catch(s){await Xo(s)}}function Zg(t,e,n){const s=De(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach(((i,o)=>{const l=o.view.va(e);l.snapshot&&r.push(l.snapshot)})),(function(o,l){const u=De(o);u.onlineState=l;let h=!1;u.queries.forEach(((d,m)=>{for(const y of m.Sa)y.va(l)&&(h=!0)})),h&&Mf(u)})(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mD(t,e,n){const s=De(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let o=new Ct(be.comparator);o=o.insert(i,yn.newNoDocument(i,Oe.min()));const l=We().add(i),u=new Bu(Oe.min(),new Map,new Ct(He),o,l);await Jw(s,u),s.du=s.du.remove(i),s.Au.delete(e),Uf(s)}else await Pd(s.localStore,e,!1).then((()=>xd(s,e,n))).catch(Xo)}async function gD(t,e){const n=De(t),s=e.batch.batchId;try{const r=await TN(n.localStore,e);Xw(n,s,null),Yw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Rl(n,r)}catch(r){await Xo(r)}}async function _D(t,e,n){const s=De(t);try{const r=await(function(o,l){const u=De(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next((m=>(rt(m!==null,37113),d=m.keys(),u.mutationQueue.removeMutationBatch(h,m)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d))).next((()=>u.localDocuments.getDocuments(h,d)))}))})(s.localStore,e);Xw(s,e,n),Yw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Rl(s,r)}catch(r){await Xo(r)}}function Yw(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Xw(t,e,n){const s=De(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function xd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||Zw(t,s)}))}function Zw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Of(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Uf(t))}function e_(t,e,n){for(const s of n)s instanceof Kw?(t.Ru.addReference(s.key,e),yD(t,s)):s instanceof Gw?(fe(Ff,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||Zw(t,s.key)):Se(19791,{wu:s})}function yD(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(fe(Ff,"New document in limbo: "+n),t.Eu.add(s),Uf(t))}function Uf(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(_t.fromString(e)),s=t.fu.next();t.Au.set(s,new aD(n)),t.du=t.du.insert(n,s),Bw(t.remoteStore,new Wr(Ls(uw(n.path)),s,"TargetPurposeLimboResolution",Du.ce))}}async function Rl(t,e,n){const s=De(t),r=[],i=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach(((l,u)=>{o.push(s.pu(u,e,n).then((h=>{if((h||n)&&s.isPrimaryClient){const d=h?!h.fromCache:n?.targetChanges.get(u.targetId)?.current;s.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(h){r.push(h);const d=Pf.As(u.targetId,h);i.push(d)}})))})),await Promise.all(o),s.Pu.H_(r),await(async function(u,h){const d=De(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>X.forEach(h,(y=>X.forEach(y.Es,(T=>d.persistence.referenceDelegate.addReference(m,y.targetId,T))).next((()=>X.forEach(y.ds,(T=>d.persistence.referenceDelegate.removeReference(m,y.targetId,T)))))))))}catch(m){if(!Zo(m))throw m;fe(kf,"Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const T=d.Ms.get(y),S=T.snapshotVersion,k=T.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(y,k)}}})(s.localStore,i))}async function vD(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){fe(Ff,"User change. New user:",e.toKey());const s=await Mw(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((l=>{l.forEach((u=>{u.reject(new pe(Y.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Rl(n,s.Ls)}}function wD(t,e){const n=De(t),s=n.Au.get(e);if(s&&s.hu)return We().add(s.key);{let r=We();const i=n.Iu.get(e);if(!i)return r;for(const o of i){const l=n.Tu.get(o);r=r.unionWith(l.view.nu)}return r}}function eE(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mD.bind(null,e),e.Pu.H_=nD.bind(null,e.eventManager),e.Pu.yu=sD.bind(null,e.eventManager),e}function ED(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_D.bind(null,e),e}class cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ju(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bN(this.persistence,new vN,e.initialUser,this.serializer)}Cu(e){return new Lw(Cf.mi,this.serializer)}Du(e){return new PN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cu.provider={build:()=>new cu};class bD extends cu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){rt(this.persistence.referenceDelegate instanceof au,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new Lw((s=>au.mi(s,n)),this.serializer)}}class Nd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Zg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vD.bind(null,this.syncEngine),await YN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZN})()}createDatastore(e){const n=ju(e.databaseInfo.databaseId),s=(function(i){return new DN(i)})(e.databaseInfo);return(function(i,o,l,u){return new FN(i,o,l,u)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,r,i,o,l){return new $N(s,r,i,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>Zg(this.syncEngine,n,0)),(function(){return Kg.v()?new Kg:new kN})())}createSyncEngine(e,n){return(function(r,i,o,l,u,h,d){const m=new lD(r,i,o,l,u,h);return d&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=De(n);fe(Wi,"RemoteStore shutting down."),s.Ea.add(5),await Sl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Nd.provider={build:()=>new Nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="FirestoreClient";class ID{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=gn.UNAUTHENTICATED,this.clientId=_f.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,(async o=>{fe(oi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(s,(o=>(fe(oi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Lf(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function jh(t,e){t.asyncQueue.verifyOperationInProgress(),fe(oi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async r=>{s.isEqual(r)||(await Mw(e.localStore,r),s=r)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function t_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AD(t);fe(oi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>Qg(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,r)=>Qg(e.remoteStore,r))),t._onlineComponents=e}async function AD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(oi,"Using user provided OfflineComponentProvider");try{await jh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===Y.FAILED_PRECONDITION||r.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;Bo("Error using user provided cache. Falling back to memory cache: "+n),await jh(t,new cu)}}else fe(oi,"Using default OfflineComponentProvider"),await jh(t,new bD(void 0));return t._offlineComponents}async function tE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(oi,"Using user provided OnlineComponentProvider"),await t_(t,t._uninitializedComponentsProvider._online)):(fe(oi,"Using default OnlineComponentProvider"),await t_(t,new Nd))),t._onlineComponents}function SD(t){return tE(t).then((e=>e.syncEngine))}async function RD(t){const e=await tE(t),n=e.eventManager;return n.onListen=cD.bind(null,e.syncEngine),n.onUnlisten=dD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fD.bind(null,e.syncEngine),n}function CD(t,e,n={}){const s=new Yr;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,u,h){const d=new TD({next:y=>{d.Nu(),o.enqueueAndForget((()=>tD(i,m))),y.fromCache&&u.source==="server"?h.reject(new pe(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new rD(l,d,{includeMetadataChanges:!0,qa:!0});return eD(i,m)})(await RD(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="firestore.googleapis.com",s_=!0;class r_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sE,this.ssl=s_}else this.host=e.host,this.ssl=e.ssl??s_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nN)throw new pe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$O("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wu{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new kO;switch(s.type){case"firstParty":return new DO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=n_.get(n);s&&(fe("ComponentProvider","Removing Datastore"),n_.delete(n),s.terminate())})(this),Promise.resolve()}}function PD(t,e,n,s={}){t=Xc(t,Wu);const r=Go(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(Jy(`https://${l}`),Yy("Firestore",!0)),i.host!==sE&&i.host!==l&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:r,emulatorOptions:s};if(!$i(u,o)&&(t._setSettings(u),s.mockUserToken)){let h,d;if(typeof s.mockUserToken=="string")h=s.mockUserToken,d=gn.MOCK_USER;else{h=BC(s.mockUserToken,t._app?.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new pe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new gn(m)}t._authCredentials=new OO(new Wv(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class nn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(bl(n,nn._jsonSchema))return new nn(e,s||null,new be(_t.fromString(n.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:Wt("string",nn._jsonSchemaVersion),referencePath:Wt("string")};class Xr extends ta{constructor(e,n,s){super(e,n,uw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new be(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function rE(t,e,...n){if(t=Bn(t),zv("collection","path",e),t instanceof Wu){const s=_t.fromString(e,...n);return _g(s),new Xr(t,null,s)}{if(!(t instanceof nn||t instanceof Xr))throw new pe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(_t.fromString(e,...n));return _g(s),new Xr(t.firestore,null,s)}}function kD(t,e,...n){if(t=Bn(t),arguments.length===1&&(e=_f.newId()),zv("doc","path",e),t instanceof Wu){const s=_t.fromString(e,...n);return gg(s),new nn(t,null,new be(s))}{if(!(t instanceof nn||t instanceof Xr))throw new pe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(_t.fromString(e,...n));return gg(s),new nn(t.firestore,t instanceof Xr?t.converter:null,new be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="AsyncQueue";class o_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Uw(this,"async_queue_retry"),this._c=()=>{const s=Bh();s&&fe(i_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Bh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zo(e))throw e;fe(i_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",a_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Vf.createAndSchedule(this,e,n,s,(i=>this.hc(i)));return this.tc.push(r),r}uc(){this.nc&&Se(47125,{Pc:a_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function a_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class $f extends Wu{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new o_,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o_(e),this._firestoreClient=void 0,await e}}}function OD(t,e){const n=tv(),s=eu,r=af(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=UC("firestore");i&&PD(r,...i)}return r}function iE(t){if(t._terminated)throw new pe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xD(t),t._firestoreClient}function xD(t){const e=t._freezeSettings(),n=(function(r,i,o,l){return new YO(r,i,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,nE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ID(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(r){const i=r?._online.build();return{_offline:r?._offline.build(i),_online:i}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(ln.fromBase64String(e))}catch(n){throw new pe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bl(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Wt("string",Xn._jsonSchemaVersion),bytes:Wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fs._jsonSchemaVersion}}static fromJSON(e){if(bl(e,Fs._jsonSchema))return new Fs(e.latitude,e.longitude)}}Fs._jsonSchemaVersion="firestore/geoPoint/1.0",Fs._jsonSchema={type:Wt("string",Fs._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bl(e,Us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Us(e.vectorValues);throw new pe(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Us._jsonSchemaVersion="firestore/vectorValue/1.0",Us._jsonSchema={type:Wt("string",Us._jsonSchemaVersion),vectorValues:Wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=/^__.*__$/;class DD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Il(e,this.data,n,this.fieldTransforms)}}function aE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class jf{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aE(this.Ac)&&ND.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ju(e)}Cc(e,n,s,r=!1){return new jf({Ac:e,methodName:n,Dc:s,path:an.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lE(t){const e=t._freezeSettings(),n=ju(t._databaseId);return new VD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LD(t,e,n,s,r,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);hE("Data must be an object, but it was:",o,s);const l=cE(s,o);let u,h;if(i.merge)u=new ls(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const m of i.mergeFields){const y=FD(e,m,n);if(!o.contains(y))throw new pe(Y.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);$D(d,y)||d.push(y)}u=new ls(d),h=o.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,h=o.fieldTransforms;return new DD(new Yn(l),u,h)}function MD(t,e,n,s=!1){return qf(n,t.Cc(s?4:3,e))}function qf(t,e){if(uE(t=Bn(t)))return hE("Unsupported field value:",e,t),cE(t,e);if(t instanceof oE)return(function(s,r){if(!aE(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,r){const i=[];let o=0;for(const l of s){let u=qf(l,r.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}})(t,e)}return(function(s,r){if((s=Bn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return wx(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=Tt.fromDate(s);return{timestampValue:ou(r.serializer,i)}}if(s instanceof Tt){const i=new Tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ou(r.serializer,i)}}if(s instanceof Fs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:Cw(r.serializer,s._byteString)};if(s instanceof nn){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Sf(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Us)return(function(o,l){return{mapValue:{fields:{[tw]:{stringValue:nw},[tu]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return Tf(l.serializer,h)}))}}}}}})(s,r);throw r.Sc(`Unsupported field value: ${Nu(s)}`)})(t,e)}function cE(t,e){const n={};return Qv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gi(t,((s,r)=>{const i=qf(r,e.mc(s));i!=null&&(n[s]=i)})),{mapValue:{fields:n}}}function uE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof Fs||t instanceof Xn||t instanceof nn||t instanceof oE||t instanceof Us)}function hE(t,e,n){if(!uE(n)||!Kv(n)){const s=Nu(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function FD(t,e,n){if((e=Bn(e))instanceof Bf)return e._internalPath;if(typeof e=="string")return dE(t,e);throw uu("Field path arguments must be of type string or ",t,!1,void 0,n)}const UD=new RegExp("[~\\*/\\[\\]]");function dE(t,e,n){if(e.search(UD)>=0)throw uu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bf(...e.split("."))._internalPath}catch{throw uu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uu(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${s}`),o&&(u+=` in document ${r}`),u+=")"),new pe(Y.INVALID_ARGUMENT,l+t+u)}function $D(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BD extends fE{data(){return super.data()}}function Hf(t,e){return typeof e=="string"?dE(t,e):e instanceof Bf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wf{}class qD extends Wf{}function HD(t,e,...n){let s=[];e instanceof Wf&&s.push(e),s=s.concat(n),(function(i){const o=i.filter((u=>u instanceof zf)).length,l=i.filter((u=>u instanceof zu)).length;if(o>1||o>0&&l>0)throw new pe(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const r of s)t=r._apply(t);return t}class zu extends qD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new zu(e,n,s)}_apply(e){const n=this._parse(e);return pE(e._query,n),new ta(e.firestore,e.converter,Td(e._query,n))}_parse(e){const n=lE(e.firestore);return(function(i,o,l,u,h,d,m){let y;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new pe(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){c_(m,d);const S=[];for(const k of m)S.push(l_(u,i,k));y={arrayValue:{values:S}}}else y=l_(u,i,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||c_(m,d),y=MD(l,o,m,d==="in"||d==="not-in");return Ht.create(h,d,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function WD(t,e,n){const s=e,r=Hf("where",t);return zu._create(r,s,n)}class zf extends Wf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zf(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:fs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,i){let o=r;const l=i.getFlattenedFilters();for(const u of l)pE(o,u),o=Td(o,u)})(e._query,n),new ta(e.firestore,e.converter,Td(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function l_(t,e,n){if(typeof(n=Bn(n))=="string"){if(n==="")throw new pe(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hw(e)&&n.indexOf("/")!==-1)throw new pe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(_t.fromString(n));if(!be.isDocumentKey(s))throw new pe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ag(t,new be(s))}if(n instanceof nn)return Ag(t,n._key);throw new pe(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nu(n)}.`)}function c_(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pE(t,e){const n=(function(r,i){for(const o of r)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zD{convertValue(e,n="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Gi(e,((r,i)=>{s[r]=this.convertValue(i,n)})),s}convertVectorValue(e){const n=e.fields?.[tu].arrayValue?.values?.map((s=>Mt(s.doubleValue)));return new Us(n)}convertGeoPoint(e){return new Fs(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Lu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){const n=ni(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=_t.fromString(e);rt(Dw(s),9688,{name:e});const r=new cl(s.get(1),s.get(3)),i=new be(s.popFirst(5));return r.isEqual(n)||gr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vo extends fE{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Hf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vo._jsonSchema={type:Wt("string",Vo._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class Sc extends Vo{data(e={}){return super.data(e)}}class Lo{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new lc(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Sc(this._firestore,this._userDataWriter,s.key,s,new lc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map((l=>{const u=new Sc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new lc(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const u=new Sc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new lc(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:GD(l.type),doc:u,oldIndex:h,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_f.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}Lo._jsonSchemaVersion="firestore/querySnapshot/1.0",Lo._jsonSchema={type:Wt("string",Lo._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class QD extends zD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function JD(t){t=Xc(t,ta);const e=Xc(t.firestore,$f),n=iE(e),s=new QD(e);return jD(t._query),CD(n,t._query).then((r=>new Lo(e,s,t,r)))}function YD(t,e){const n=Xc(t.firestore,$f),s=kD(t),r=KD(t.converter,e);return XD(n,[LD(lE(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,hr.exists(!1))]).then((()=>s))}function XD(t,e){return(function(s,r){const i=new Yr;return s.asyncQueue.enqueueAndForget((async()=>pD(await SD(s),r,i))),i.promise})(iE(t),e)}(function(e,n=!0){(function(r){Yo=r})(Qo),$o(new Bi("firestore",((s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),l=new $f(new xO(s.getProvider("auth-internal")),new VO(o,s.getProvider("app-check-internal")),(function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new pe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cl(h.options.projectId,d)})(o,r),o);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Qr(dg,fg,e),Qr(dg,fg,"esm2020")})();const ZD={apiKey:"AIzaSyC6xEW5Ofs3VpQwHaCGoses_nwaundMRLg",authDomain:"fit5032-week6-da697.firebaseapp.com",projectId:"fit5032-week6-da697",storageBucket:"fit5032-week6-da697.firebasestorage.app",messagingSenderId:"1311900713",appId:"1:1311900713:web:f5a3f0a1e5b812ca5c8838",measurementId:"G-NTVX0ERKZS"};ev(ZD);const mE=OD(),eV={setup(){const t=ht([]),e=async()=>{try{const n=HD(rE(mE,"books"),WD("isbn",">",1e3)),s=await JD(n),r=[];s.forEach(i=>{r.push({id:i.id,...i.data()})}),t.value=r}catch(n){console.error("Error fetching books: ",n)}};return Xd(()=>{e()}),{books:t}}};function tV(t,e,n,s,r,i){return oe(),le("div",null,[e[0]||(e[0]=P("h1",null,"Books with ISBN > 1000",-1)),P("ul",null,[(oe(!0),le(At,null,us(s.books,o=>(oe(),le("li",{key:o.id},ye(o.name)+" - ISBN: "+ye(o.isbn),1))),128))])])}const nV=Hs(eV,[["render",tV]]),sV={setup(){const t=ht(""),e=ht("");return{isbn:t,name:e,addBook:async()=>{try{const s=Number(t.value);if(isNaN(s)){alert("ISBN must be a valid number");return}await YD(rE(mE,"books"),{isbn:s,name:e.value}),t.value="",e.value="",alert("Book added successfully!")}catch(s){console.error("Error adding book: ",s)}}}},components:{BookList:nV}};function rV(t,e,n,s,r,i){const o=js("BookList");return oe(),le(At,null,[P("div",null,[e[6]||(e[6]=P("h1",null,"Add Book",-1)),P("form",{onSubmit:e[2]||(e[2]=jc((...l)=>s.addBook&&s.addBook(...l),["prevent"]))},[P("div",null,[e[3]||(e[3]=P("label",{for:"isbn"},"ISBN:",-1)),It(P("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>s.isbn=l),id:"isbn",required:""},null,512),[[Lt,s.isbn]])]),P("div",null,[e[4]||(e[4]=P("label",{for:"name"},"Name:",-1)),It(P("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=l=>s.name=l),id:"name",required:""},null,512),[[Lt,s.name]])]),e[5]||(e[5]=P("button",{type:"submit"},"Add Book",-1))],32)]),Ue(o)],64)}const iV=Hs(sV,[["render",rV]]);function gE(t,e){return function(){return t.apply(e,arguments)}}const{toString:oV}=Object.prototype,{getPrototypeOf:Kf}=Object,{iterator:Ku,toStringTag:_E}=Symbol,Gu=(t=>e=>{const n=oV.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ps=t=>(t=t.toLowerCase(),e=>Gu(e)===t),Qu=t=>e=>typeof e===t,{isArray:na}=Array,Ko=Qu("undefined");function Cl(t){return t!==null&&!Ko(t)&&t.constructor!==null&&!Ko(t.constructor)&&Dn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const yE=ps("ArrayBuffer");function aV(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&yE(t.buffer),e}const lV=Qu("string"),Dn=Qu("function"),vE=Qu("number"),Pl=t=>t!==null&&typeof t=="object",cV=t=>t===!0||t===!1,Rc=t=>{if(Gu(t)!=="object")return!1;const e=Kf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_E in t)&&!(Ku in t)},uV=t=>{if(!Pl(t)||Cl(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},hV=ps("Date"),dV=ps("File"),fV=ps("Blob"),pV=ps("FileList"),mV=t=>Pl(t)&&Dn(t.pipe),gV=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Dn(t.append)&&((e=Gu(t))==="formdata"||e==="object"&&Dn(t.toString)&&t.toString()==="[object FormData]"))},_V=ps("URLSearchParams"),[yV,vV,wV,EV]=["ReadableStream","Request","Response","Headers"].map(ps),bV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),na(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(Cl(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(s=0;s<o;s++)l=i[s],e.call(null,t[l],l,t)}}function wE(t,e){if(Cl(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const Li=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,EE=t=>!Ko(t)&&t!==Li;function Dd(){const{caseless:t,skipUndefined:e}=EE(this)&&this||{},n={},s=(r,i)=>{const o=t&&wE(n,i)||i;Rc(n[o])&&Rc(r)?n[o]=Dd(n[o],r):Rc(r)?n[o]=Dd({},r):na(r)?n[o]=r.slice():(!e||!Ko(r))&&(n[o]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&kl(arguments[r],s);return n}const TV=(t,e,n,{allOwnKeys:s}={})=>(kl(e,(r,i)=>{n&&Dn(r)?t[i]=gE(r,n):t[i]=r},{allOwnKeys:s}),t),IV=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),AV=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},SV=(t,e,n,s)=>{let r,i,o;const l={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!s||s(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&Kf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},RV=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},CV=t=>{if(!t)return null;if(na(t))return t;let e=t.length;if(!vE(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},PV=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Kf(Uint8Array)),kV=(t,e)=>{const s=(t&&t[Ku]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},OV=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},xV=ps("HTMLFormElement"),NV=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),u_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),DV=ps("RegExp"),bE=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};kl(n,(r,i)=>{let o;(o=e(r,i,t))!==!1&&(s[i]=o||r)}),Object.defineProperties(t,s)},VV=t=>{bE(t,(e,n)=>{if(Dn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Dn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},LV=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return na(t)?s(t):s(String(t).split(e)),n},MV=()=>{},FV=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function UV(t){return!!(t&&Dn(t.append)&&t[_E]==="FormData"&&t[Ku])}const $V=t=>{const e=new Array(10),n=(s,r)=>{if(Pl(s)){if(e.indexOf(s)>=0)return;if(Cl(s))return s;if(!("toJSON"in s)){e[r]=s;const i=na(s)?[]:{};return kl(s,(o,l)=>{const u=n(o,r+1);!Ko(u)&&(i[l]=u)}),e[r]=void 0,i}}return s};return n(t,0)},BV=ps("AsyncFunction"),jV=t=>t&&(Pl(t)||Dn(t))&&Dn(t.then)&&Dn(t.catch),TE=((t,e)=>t?setImmediate:e?((n,s)=>(Li.addEventListener("message",({source:r,data:i})=>{r===Li&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Li.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Dn(Li.postMessage)),qV=typeof queueMicrotask<"u"?queueMicrotask.bind(Li):typeof process<"u"&&process.nextTick||TE,HV=t=>t!=null&&Dn(t[Ku]),B={isArray:na,isArrayBuffer:yE,isBuffer:Cl,isFormData:gV,isArrayBufferView:aV,isString:lV,isNumber:vE,isBoolean:cV,isObject:Pl,isPlainObject:Rc,isEmptyObject:uV,isReadableStream:yV,isRequest:vV,isResponse:wV,isHeaders:EV,isUndefined:Ko,isDate:hV,isFile:dV,isBlob:fV,isRegExp:DV,isFunction:Dn,isStream:mV,isURLSearchParams:_V,isTypedArray:PV,isFileList:pV,forEach:kl,merge:Dd,extend:TV,trim:bV,stripBOM:IV,inherits:AV,toFlatObject:SV,kindOf:Gu,kindOfTest:ps,endsWith:RV,toArray:CV,forEachEntry:kV,matchAll:OV,isHTMLForm:xV,hasOwnProperty:u_,hasOwnProp:u_,reduceDescriptors:bE,freezeMethods:VV,toObjectSet:LV,toCamelCase:NV,noop:MV,toFiniteNumber:FV,findKey:wE,global:Li,isContextDefined:EE,isSpecCompliantForm:UV,toJSONObject:$V,isAsyncFn:BV,isThenable:jV,setImmediate:TE,asap:qV,isIterable:HV};function Me(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}B.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const IE=Me.prototype,AE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{AE[t]={value:t}});Object.defineProperties(Me,AE);Object.defineProperty(IE,"isAxiosError",{value:!0});Me.from=(t,e,n,s,r,i)=>{const o=Object.create(IE);B.toFlatObject(t,o,function(d){return d!==Error.prototype},h=>h!=="isAxiosError");const l=t&&t.message?t.message:"Error",u=e==null&&t?t.code:e;return Me.call(o,l,u,n,s,r),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const WV=null;function Vd(t){return B.isPlainObject(t)||B.isArray(t)}function SE(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function h_(t,e,n){return t?t.concat(e).map(function(r,i){return r=SE(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function zV(t){return B.isArray(t)&&!t.some(Vd)}const KV=B.toFlatObject(B,{},null,function(e){return/^is[A-Z]/.test(e)});function Ju(t,e,n){if(!B.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,D){return!B.isUndefined(D[k])});const s=n.metaTokens,r=n.visitor||d,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(e);if(!B.isFunction(r))throw new TypeError("visitor must be a function");function h(S){if(S===null)return"";if(B.isDate(S))return S.toISOString();if(B.isBoolean(S))return S.toString();if(!u&&B.isBlob(S))throw new Me("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(S)||B.isTypedArray(S)?u&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function d(S,k,D){let U=S;if(S&&!D&&typeof S=="object"){if(B.endsWith(k,"{}"))k=s?k:k.slice(0,-2),S=JSON.stringify(S);else if(B.isArray(S)&&zV(S)||(B.isFileList(S)||B.endsWith(k,"[]"))&&(U=B.toArray(S)))return k=SE(k),U.forEach(function(G,se){!(B.isUndefined(G)||G===null)&&e.append(o===!0?h_([k],se,i):o===null?k:k+"[]",h(G))}),!1}return Vd(S)?!0:(e.append(h_(D,k,i),h(S)),!1)}const m=[],y=Object.assign(KV,{defaultVisitor:d,convertValue:h,isVisitable:Vd});function T(S,k){if(!B.isUndefined(S)){if(m.indexOf(S)!==-1)throw Error("Circular reference detected in "+k.join("."));m.push(S),B.forEach(S,function(U,W){(!(B.isUndefined(U)||U===null)&&r.call(e,U,B.isString(W)?W.trim():W,k,y))===!0&&T(U,k?k.concat(W):[W])}),m.pop()}}if(!B.isObject(t))throw new TypeError("data must be an object");return T(t),e}function d_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Gf(t,e){this._pairs=[],t&&Ju(t,this,e)}const RE=Gf.prototype;RE.append=function(e,n){this._pairs.push([e,n])};RE.toString=function(e){const n=e?function(s){return e.call(this,s,d_)}:d_;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function GV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function CE(t,e,n){if(!e)return t;const s=n&&n.encode||GV;B.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(e,n):i=B.isURLSearchParams(e)?e.toString():new Gf(e,n).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class f_{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,function(s){s!==null&&e(s)})}}const PE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QV=typeof URLSearchParams<"u"?URLSearchParams:Gf,JV=typeof FormData<"u"?FormData:null,YV=typeof Blob<"u"?Blob:null,XV={isBrowser:!0,classes:{URLSearchParams:QV,FormData:JV,Blob:YV},protocols:["http","https","file","blob","url","data"]},Qf=typeof window<"u"&&typeof document<"u",Ld=typeof navigator=="object"&&navigator||void 0,ZV=Qf&&(!Ld||["ReactNative","NativeScript","NS"].indexOf(Ld.product)<0),eL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tL=Qf&&window.location.href||"http://localhost",nL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qf,hasStandardBrowserEnv:ZV,hasStandardBrowserWebWorkerEnv:eL,navigator:Ld,origin:tL},Symbol.toStringTag,{value:"Module"})),wn={...nL,...XV};function sL(t,e){return Ju(t,new wn.classes.URLSearchParams,{visitor:function(n,s,r,i){return wn.isNode&&B.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function rL(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function iL(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function kE(t){function e(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=n.length;return o=!o&&B.isArray(r)?r.length:o,u?(B.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!l):((!r[o]||!B.isObject(r[o]))&&(r[o]=[]),e(n,s,r[o],i)&&B.isArray(r[o])&&(r[o]=iL(r[o])),!l)}if(B.isFormData(t)&&B.isFunction(t.entries)){const n={};return B.forEachEntry(t,(s,r)=>{e(rL(s),r,n,0)}),n}return null}function oL(t,e,n){if(B.isString(t))try{return(e||JSON.parse)(t),B.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Ol={transitional:PE,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=B.isObject(e);if(i&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return r?JSON.stringify(kE(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e)||B.isReadableStream(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return sL(e,this.formSerializer).toString();if((l=B.isFileList(e))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Ju(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),oL(e)):e}],transformResponse:[function(e){const n=this.transitional||Ol.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(B.isResponse(e)||B.isReadableStream(e))return e;if(e&&B.isString(e)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Me.from(l,Me.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wn.classes.FormData,Blob:wn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],t=>{Ol.headers[t]={}});const aL=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lL=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||e[n]&&aL[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},p_=Symbol("internals");function ka(t){return t&&String(t).trim().toLowerCase()}function Cc(t){return t===!1||t==null?t:B.isArray(t)?t.map(Cc):String(t)}function cL(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const uL=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function qh(t,e,n,s,r){if(B.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!B.isString(e)){if(B.isString(s))return e.indexOf(s)!==-1;if(B.isRegExp(s))return s.test(e)}}function hL(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function dL(t,e){const n=B.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,o){return this[s].call(this,e,r,i,o)},configurable:!0})})}let Vn=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(l,u,h){const d=ka(u);if(!d)throw new Error("header name must be a non-empty string");const m=B.findKey(r,d);(!m||r[m]===void 0||h===!0||h===void 0&&r[m]!==!1)&&(r[m||u]=Cc(l))}const o=(l,u)=>B.forEach(l,(h,d)=>i(h,d,u));if(B.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(B.isString(e)&&(e=e.trim())&&!uL(e))o(lL(e),n);else if(B.isObject(e)&&B.isIterable(e)){let l={},u,h;for(const d of e){if(!B.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[h=d[0]]=(u=l[h])?B.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}o(l,n)}else e!=null&&i(n,e,s);return this}get(e,n){if(e=ka(e),e){const s=B.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return cL(r);if(B.isFunction(n))return n.call(this,r,s);if(B.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ka(e),e){const s=B.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||qh(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(o){if(o=ka(o),o){const l=B.findKey(s,o);l&&(!n||qh(s,s[l],l,n))&&(delete s[l],r=!0)}}return B.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||qh(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return B.forEach(this,(r,i)=>{const o=B.findKey(s,i);if(o){n[o]=Cc(r),delete n[i];return}const l=e?hL(i):String(i).trim();l!==i&&delete n[i],n[l]=Cc(r),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return B.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&B.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[p_]=this[p_]={accessors:{}}).accessors,r=this.prototype;function i(o){const l=ka(o);s[l]||(dL(r,o),s[l]=!0)}return B.isArray(e)?e.forEach(i):i(e),this}};Vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(Vn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});B.freezeMethods(Vn);function Hh(t,e){const n=this||Ol,s=e||n,r=Vn.from(s.headers);let i=s.data;return B.forEach(t,function(l){i=l.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function OE(t){return!!(t&&t.__CANCEL__)}function sa(t,e,n){Me.call(this,t??"canceled",Me.ERR_CANCELED,e,n),this.name="CanceledError"}B.inherits(sa,Me,{__CANCEL__:!0});function xE(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Me("Request failed with status code "+n.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fL(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function pL(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),d=s[i];o||(o=h),n[r]=u,s[r]=h;let m=i,y=0;for(;m!==r;)y+=n[m++],m=m%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),h-o<e)return;const T=d&&h-d;return T?Math.round(y*1e3/T):void 0}}function mL(t,e){let n=0,s=1e3/e,r,i;const o=(h,d=Date.now())=>{n=d,r=null,i&&(clearTimeout(i),i=null),t(...h)};return[(...h)=>{const d=Date.now(),m=d-n;m>=s?o(h,d):(r=h,i||(i=setTimeout(()=>{i=null,o(r)},s-m)))},()=>r&&o(r)]}const hu=(t,e,n=3)=>{let s=0;const r=pL(50,250);return mL(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-s,h=r(u),d=o<=l;s=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&d?(l-o)/h:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},n)},m_=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},g_=t=>(...e)=>B.asap(()=>t(...e)),gL=wn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,wn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(wn.origin),wn.navigator&&/(msie|trident)/i.test(wn.navigator.userAgent)):()=>!0,_L=wn.hasStandardBrowserEnv?{write(t,e,n,s,r,i,o){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];B.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),B.isString(s)&&l.push(`path=${s}`),B.isString(r)&&l.push(`domain=${r}`),i===!0&&l.push("secure"),B.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function yL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vL(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function NE(t,e,n){let s=!yL(e);return t&&(s||n==!1)?vL(t,e):e}const __=t=>t instanceof Vn?{...t}:t;function zi(t,e){e=e||{};const n={};function s(h,d,m,y){return B.isPlainObject(h)&&B.isPlainObject(d)?B.merge.call({caseless:y},h,d):B.isPlainObject(d)?B.merge({},d):B.isArray(d)?d.slice():d}function r(h,d,m,y){if(B.isUndefined(d)){if(!B.isUndefined(h))return s(void 0,h,m,y)}else return s(h,d,m,y)}function i(h,d){if(!B.isUndefined(d))return s(void 0,d)}function o(h,d){if(B.isUndefined(d)){if(!B.isUndefined(h))return s(void 0,h)}else return s(void 0,d)}function l(h,d,m){if(m in e)return s(h,d);if(m in t)return s(void 0,h)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,d,m)=>r(__(h),__(d),m,!0)};return B.forEach(Object.keys({...t,...e}),function(d){const m=u[d]||r,y=m(t[d],e[d],d);B.isUndefined(y)&&m!==l||(n[d]=y)}),n}const DE=t=>{const e=zi({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:l}=e;if(e.headers=o=Vn.from(o),e.url=CE(NE(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),B.isFormData(n)){if(wn.hasStandardBrowserEnv||wn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(B.isFunction(n.getHeaders)){const u=n.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([d,m])=>{h.includes(d.toLowerCase())&&o.set(d,m)})}}if(wn.hasStandardBrowserEnv&&(s&&B.isFunction(s)&&(s=s(e)),s||s!==!1&&gL(e.url))){const u=r&&i&&_L.read(i);u&&o.set(r,u)}return e},wL=typeof XMLHttpRequest<"u",EL=wL&&function(t){return new Promise(function(n,s){const r=DE(t);let i=r.data;const o=Vn.from(r.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:h}=r,d,m,y,T,S;function k(){T&&T(),S&&S(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let D=new XMLHttpRequest;D.open(r.method.toUpperCase(),r.url,!0),D.timeout=r.timeout;function U(){if(!D)return;const G=Vn.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),ve={data:!l||l==="text"||l==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:G,config:t,request:D};xE(function(w){n(w),k()},function(w){s(w),k()},ve),D=null}"onloadend"in D?D.onloadend=U:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(U)},D.onabort=function(){D&&(s(new Me("Request aborted",Me.ECONNABORTED,t,D)),D=null)},D.onerror=function(se){const ve=se&&se.message?se.message:"Network Error",ce=new Me(ve,Me.ERR_NETWORK,t,D);ce.event=se||null,s(ce),D=null},D.ontimeout=function(){let se=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const ve=r.transitional||PE;r.timeoutErrorMessage&&(se=r.timeoutErrorMessage),s(new Me(se,ve.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,t,D)),D=null},i===void 0&&o.setContentType(null),"setRequestHeader"in D&&B.forEach(o.toJSON(),function(se,ve){D.setRequestHeader(ve,se)}),B.isUndefined(r.withCredentials)||(D.withCredentials=!!r.withCredentials),l&&l!=="json"&&(D.responseType=r.responseType),h&&([y,S]=hu(h,!0),D.addEventListener("progress",y)),u&&D.upload&&([m,T]=hu(u),D.upload.addEventListener("progress",m),D.upload.addEventListener("loadend",T)),(r.cancelToken||r.signal)&&(d=G=>{D&&(s(!G||G.type?new sa(null,t,D):G),D.abort(),D=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const W=fL(r.url);if(W&&wn.protocols.indexOf(W)===-1){s(new Me("Unsupported protocol "+W+":",Me.ERR_BAD_REQUEST,t));return}D.send(i||null)})},bL=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const i=function(h){if(!r){r=!0,l();const d=h instanceof Error?h:this.reason;s.abort(d instanceof Me?d:new sa(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:u}=s;return u.unsubscribe=()=>B.asap(l),u}},TL=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},IL=async function*(t,e){for await(const n of AL(t))yield*TL(n,e)},AL=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},y_=(t,e,n,s)=>{const r=IL(t,e);let i=0,o,l=u=>{o||(o=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:h,value:d}=await r.next();if(h){l(),u.close();return}let m=d.byteLength;if(n){let y=i+=m;n(y)}u.enqueue(new Uint8Array(d))}catch(h){throw l(h),h}},cancel(u){return l(u),r.return()}},{highWaterMark:2})},v_=64*1024,{isFunction:cc}=B,SL=(({Request:t,Response:e})=>({Request:t,Response:e}))(B.global),{ReadableStream:w_,TextEncoder:E_}=B.global,b_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},RL=t=>{t=B.merge.call({skipUndefined:!0},SL,t);const{fetch:e,Request:n,Response:s}=t,r=e?cc(e):typeof fetch=="function",i=cc(n),o=cc(s);if(!r)return!1;const l=r&&cc(w_),u=r&&(typeof E_=="function"?(S=>k=>S.encode(k))(new E_):async S=>new Uint8Array(await new n(S).arrayBuffer())),h=i&&l&&b_(()=>{let S=!1;const k=new n(wn.origin,{body:new w_,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!k}),d=o&&l&&b_(()=>B.isReadableStream(new s("").body)),m={stream:d&&(S=>S.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!m[S]&&(m[S]=(k,D)=>{let U=k&&k[S];if(U)return U.call(k);throw new Me(`Response type '${S}' is not supported`,Me.ERR_NOT_SUPPORT,D)})});const y=async S=>{if(S==null)return 0;if(B.isBlob(S))return S.size;if(B.isSpecCompliantForm(S))return(await new n(wn.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(B.isArrayBufferView(S)||B.isArrayBuffer(S))return S.byteLength;if(B.isURLSearchParams(S)&&(S=S+""),B.isString(S))return(await u(S)).byteLength},T=async(S,k)=>{const D=B.toFiniteNumber(S.getContentLength());return D??y(k)};return async S=>{let{url:k,method:D,data:U,signal:W,cancelToken:G,timeout:se,onDownloadProgress:ve,onUploadProgress:ce,responseType:w,headers:b,withCredentials:R="same-origin",fetchOptions:x}=DE(S),O=e||fetch;w=w?(w+"").toLowerCase():"text";let L=bL([W,G&&G.toAbortSignal()],se),A=null;const Ze=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let Ft;try{if(ce&&h&&D!=="get"&&D!=="head"&&(Ft=await T(b,U))!==0){let K=new n(k,{method:"POST",body:U,duplex:"half"}),at;if(B.isFormData(U)&&(at=K.headers.get("content-type"))&&b.setContentType(at),K.body){const[cn,Ut]=m_(Ft,hu(g_(ce)));U=y_(K.body,v_,cn,Ut)}}B.isString(R)||(R=R?"include":"omit");const Ge=i&&"credentials"in n.prototype,je={...x,signal:L,method:D.toUpperCase(),headers:b.normalize().toJSON(),body:U,duplex:"half",credentials:Ge?R:void 0};A=i&&new n(k,je);let Re=await(i?O(A,x):O(k,je));const Kt=d&&(w==="stream"||w==="response");if(d&&(ve||Kt&&Ze)){const K={};["status","statusText","headers"].forEach(xt=>{K[xt]=Re[xt]});const at=B.toFiniteNumber(Re.headers.get("content-length")),[cn,Ut]=ve&&m_(at,hu(g_(ve),!0))||[];Re=new s(y_(Re.body,v_,cn,()=>{Ut&&Ut(),Ze&&Ze()}),K)}w=w||"text";let In=await m[B.findKey(m,w)||"text"](Re,S);return!Kt&&Ze&&Ze(),await new Promise((K,at)=>{xE(K,at,{data:In,headers:Vn.from(Re.headers),status:Re.status,statusText:Re.statusText,config:S,request:A})})}catch(Ge){throw Ze&&Ze(),Ge&&Ge.name==="TypeError"&&/Load failed|fetch/i.test(Ge.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,S,A),{cause:Ge.cause||Ge}):Me.from(Ge,Ge&&Ge.code,S,A)}}},CL=new Map,VE=t=>{let e=t&&t.env||{};const{fetch:n,Request:s,Response:r}=e,i=[s,r,n];let o=i.length,l=o,u,h,d=CL;for(;l--;)u=i[l],h=d.get(u),h===void 0&&d.set(u,h=l?new Map:RL(e)),d=h;return h};VE();const Jf={http:WV,xhr:EL,fetch:{get:VE}};B.forEach(Jf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const T_=t=>`- ${t}`,PL=t=>B.isFunction(t)||t===null||t===!1;function kL(t,e){t=B.isArray(t)?t:[t];const{length:n}=t;let s,r;const i={};for(let o=0;o<n;o++){s=t[o];let l;if(r=s,!PL(s)&&(r=Jf[(l=String(s)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${l}'`);if(r&&(B.isFunction(r)||(r=r.get(e))))break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(T_).join(`
`):" "+T_(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r}const LE={getAdapter:kL,adapters:Jf};function Wh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new sa(null,t)}function I_(t){return Wh(t),t.headers=Vn.from(t.headers),t.data=Hh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),LE.getAdapter(t.adapter||Ol.adapter,t)(t).then(function(s){return Wh(t),s.data=Hh.call(t,t.transformResponse,s),s.headers=Vn.from(s.headers),s},function(s){return OE(s)||(Wh(t),s&&s.response&&(s.response.data=Hh.call(t,t.transformResponse,s.response),s.response.headers=Vn.from(s.response.headers))),Promise.reject(s)})}const ME="1.13.2",Yu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Yu[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const A_={};Yu.transitional=function(e,n,s){function r(i,o){return"[Axios v"+ME+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(e===!1)throw new Me(r(o," has been removed"+(n?" in "+n:"")),Me.ERR_DEPRECATED);return n&&!A_[o]&&(A_[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,l):!0}};Yu.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function OL(t,e,n){if(typeof t!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],o=e[i];if(o){const l=t[i],u=l===void 0||o(l,i,t);if(u!==!0)throw new Me("option "+i+" must be "+u,Me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Me("Unknown option "+i,Me.ERR_BAD_OPTION)}}const Pc={assertOptions:OL,validators:Yu},Cs=Pc.validators;let Ui=class{constructor(e){this.defaults=e||{},this.interceptors={request:new f_,response:new f_}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=zi(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&Pc.assertOptions(s,{silentJSONParsing:Cs.transitional(Cs.boolean),forcedJSONParsing:Cs.transitional(Cs.boolean),clarifyTimeoutError:Cs.transitional(Cs.boolean)},!1),r!=null&&(B.isFunction(r)?n.paramsSerializer={serialize:r}:Pc.assertOptions(r,{encode:Cs.function,serialize:Cs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Pc.assertOptions(n,{baseUrl:Cs.spelling("baseURL"),withXsrfToken:Cs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&B.merge(i.common,i[n.method]);i&&B.forEach(["delete","get","head","post","put","patch","common"],S=>{delete i[S]}),n.headers=Vn.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(n)===!1||(u=u&&k.synchronous,l.unshift(k.fulfilled,k.rejected))});const h=[];this.interceptors.response.forEach(function(k){h.push(k.fulfilled,k.rejected)});let d,m=0,y;if(!u){const S=[I_.bind(this),void 0];for(S.unshift(...l),S.push(...h),y=S.length,d=Promise.resolve(n);m<y;)d=d.then(S[m++],S[m++]);return d}y=l.length;let T=n;for(;m<y;){const S=l[m++],k=l[m++];try{T=S(T)}catch(D){k.call(this,D);break}}try{d=I_.call(this,T)}catch(S){return Promise.reject(S)}for(m=0,y=h.length;m<y;)d=d.then(h[m++],h[m++]);return d}getUri(e){e=zi(this.defaults,e);const n=NE(e.baseURL,e.url,e.allowAbsoluteUrls);return CE(n,e.params,e.paramsSerializer)}};B.forEach(["delete","get","head","options"],function(e){Ui.prototype[e]=function(n,s){return this.request(zi(s||{},{method:e,url:n,data:(s||{}).data}))}});B.forEach(["post","put","patch"],function(e){function n(s){return function(i,o,l){return this.request(zi(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ui.prototype[e]=n(),Ui.prototype[e+"Form"]=n(!0)});let xL=class FE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,l){s.reason||(s.reason=new sa(i,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new FE(function(r){e=r}),cancel:e}}};function NL(t){return function(n){return t.apply(null,n)}}function DL(t){return B.isObject(t)&&t.isAxiosError===!0}const Md={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Md).forEach(([t,e])=>{Md[e]=t});function UE(t){const e=new Ui(t),n=gE(Ui.prototype.request,e);return B.extend(n,Ui.prototype,e,{allOwnKeys:!0}),B.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return UE(zi(t,r))},n}const vt=UE(Ol);vt.Axios=Ui;vt.CanceledError=sa;vt.CancelToken=xL;vt.isCancel=OE;vt.VERSION=ME;vt.toFormData=Ju;vt.AxiosError=Me;vt.Cancel=vt.CanceledError;vt.all=function(e){return Promise.all(e)};vt.spread=NL;vt.isAxiosError=DL;vt.mergeConfig=zi;vt.AxiosHeaders=Vn;vt.formToJSON=t=>kE(B.isHTMLForm(t)?new FormData(t):t);vt.getAdapter=LE.getAdapter;vt.HttpStatusCode=Md;vt.default=vt;const{Axios:xM,AxiosError:NM,CanceledError:DM,isCancel:VM,CancelToken:LM,VERSION:MM,all:FM,Cancel:UM,isAxiosError:$M,spread:BM,toFormData:jM,AxiosHeaders:qM,HttpStatusCode:HM,formToJSON:WM,getAdapter:zM,mergeConfig:KM}=vt,VL={data(){return{count:null,error:null}},methods:{async getBookCount(){try{const t=await vt.get("https://countbooks-5bgqwovi2q-km.a.run.app");this.count=t.data.count,this.error=null}catch(t){console.error("Error fetching book count:",t),this.error=t,this.count=null}}}},LL={id:"app"},ML={key:0},FL={key:1};function UL(t,e,n,s,r,i){return oe(),le("div",LL,[e[1]||(e[1]=P("h1",null,"Book Counter",-1)),P("button",{onClick:e[0]||(e[0]=(...o)=>i.getBookCount&&i.getBookCount(...o))},"Get Book Count"),r.count!==null?(oe(),le("p",ML,"Total number of books: "+ye(r.count),1)):St("",!0),r.error?(oe(),le("p",FL,ye(r.error),1)):St("",!0)])}const $L=Hs(VL,[["render",UL]]),S_="0b878e6c79ce879e400c0ad40db2a34e",BL={name:"WeatherSearch",data(){return{city:"",weatherData:null,loading:!1,error:null}},computed:{temperature(){return this.weatherData?Math.round(this.weatherData.main.temp):null},iconUrl(){return this.weatherData?`https://openweathermap.org/img/wn/${this.weatherData.weather[0].icon}@2x.png`:null}},mounted(){this.fetchCurrentLocationWeather()},methods:{async searchByCity(){if(this.error=null,this.weatherData=null,!this.city)return;const t=`https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(this.city)}&appid=${S_}&units=metric`;await this.fetchWeatherData(t)},async fetchCurrentLocationWeather(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(async({coords:t})=>{const e=`https://api.openweathermap.org/data/2.5/weather?lat=${t.latitude}&lon=${t.longitude}&appid=${S_}&units=metric`;await this.fetchWeatherData(e)},()=>{})},async fetchWeatherData(t){try{this.loading=!0;const{data:e}=await vt.get(t,{timeout:1e4});this.weatherData=e,this.error=null}catch(e){const n=e?.response?.status;n===404?this.error="City not found. Try a different name (e.g. Clayton, AU).":n===401?this.error="Invalid API key. Check your OpenWeatherMap key.":this.error="Failed to fetch weather. Please try again.",this.weatherData=null}finally{this.loading=!1}}}},jL={class:"container"},qL={class:"header"},HL={class:"search-bar"},WL=["disabled"],zL={key:0,class:"error"},KL={key:1,class:"card"},GL={class:"place"},QL={class:"reading"},JL=["src"],YL={class:"temp"},XL={class:"desc"},ZL={key:2,class:"empty"};function eM(t,e,n,s,r,i){return oe(),le("div",jL,[P("header",qL,[e[3]||(e[3]=P("h1",null,"WEATHER APP",-1)),P("div",HL,[It(P("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>r.city=o),placeholder:'Enter city (e.g. "Clayton, AU")',class:"search-input",onKeyup:e[1]||(e[1]=OA((...o)=>i.searchByCity&&i.searchByCity(...o),["enter"]))},null,544),[[Lt,r.city,void 0,{trim:!0}]]),P("button",{onClick:e[2]||(e[2]=(...o)=>i.searchByCity&&i.searchByCity(...o)),class:"search-button",disabled:r.loading},ye(r.loading?"Searching":"Search"),9,WL)]),e[4]||(e[4]=P("p",{class:"hint"},[tt("Tip: Try "),P("strong",null,"Clayton, AU")],-1))]),P("main",null,[r.error?(oe(),le("div",zL,ye(r.error),1)):r.weatherData?(oe(),le("div",KL,[P("h2",GL,ye(r.weatherData.name)+", "+ye(r.weatherData.sys.country),1),P("div",QL,[i.iconUrl?(oe(),le("img",{key:0,src:i.iconUrl,alt:"Weather Icon"},null,8,JL)):St("",!0),P("p",YL,[tt(ye(i.temperature)+" C ",1),P("span",XL,ye(r.weatherData.weather[0].description),1)])])])):(oe(),le("div",ZL,"Search a city to see its current weather."))])])}const tM=Hs(BL,[["render",eM],["__scopeId","data-v-aab49e99"]]),nM={name:"BooksDemo",data(){return{form:{name:"",author:"",isbn:""},busy:!1,error:"",result:null,bookId:"",fetched:null,polling:!1,pollTimer:null,URL_CREATE:"https://createbook-5bgqwovi2q-km.a.run.app",URL_GET:"https://getbook-5bgqwovi2q-km.a.run.app"}},methods:{async create(){this.error="",this.result=null,this.bookId="",this.fetched=null;try{this.busy=!0;const t=await vt.post(this.URL_CREATE,{...this.form});this.result=t.data,this.bookId=t.data.id,this.startPolling()}catch(t){console.error(t),this.error=t?.response?.data?.error||t.message||"Create failed."}finally{this.busy=!1}},reset(){this.form={name:"",author:"",isbn:""},this.error="",this.result=null,this.bookId="",this.fetched=null,this.stopPolling()},async fetchDoc(){if(this.bookId)try{const t=await vt.get(this.URL_GET,{params:{id:this.bookId}});this.fetched=t.data}catch(t){console.error(t),this.error=t?.response?.data?.error||t.message||"Fetch failed."}},startPolling(){this.polling||!this.bookId||(this.polling=!0,this.pollTimer=setInterval(async()=>{await this.fetchDoc(),this.fetched?.data?.normalized===!0&&this.stopPolling()},900))},stopPolling(){this.polling=!1,this.pollTimer&&clearInterval(this.pollTimer),this.pollTimer=null}},beforeUnmount(){this.stopPolling()}},sM={class:"container py-4",style:{"max-width":"680px"}},rM={class:"mb-2"},iM={class:"mb-2"},oM={class:"mb-2"},aM={class:"d-flex gap-2"},lM=["disabled"],cM={key:0,class:"card p-3 mb-3"},uM={class:"bg-light p-2 rounded small"},hM={key:1,class:"card p-3"},dM={class:"d-flex gap-2 mb-2"},fM=["disabled"],pM={class:"bg-light p-2 rounded small"},mM={key:2,class:"alert alert-danger mt-3"};function gM(t,e,n,s,r,i){return oe(),le("main",sM,[e[13]||(e[13]=P("h1",{class:"h4 mb-3"},"Add Book (CAPS via Cloud Functions)",-1)),P("form",{class:"card p-3 mb-3",onSubmit:e[4]||(e[4]=jc((...o)=>i.create&&i.create(...o),["prevent"]))},[P("div",rM,[e[7]||(e[7]=P("label",{class:"form-label"},"Name",-1)),It(P("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.form.name=o),class:"form-control",placeholder:"the hobbit",required:""},null,512),[[Lt,r.form.name,void 0,{trim:!0}]])]),P("div",iM,[e[8]||(e[8]=P("label",{class:"form-label"},"Author",-1)),It(P("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.form.author=o),class:"form-control",placeholder:"j.r.r. tolkien",required:""},null,512),[[Lt,r.form.author,void 0,{trim:!0}]])]),P("div",oM,[e[9]||(e[9]=P("label",{class:"form-label"},"ISBN",-1)),It(P("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r.form.isbn=o),class:"form-control",placeholder:"9780261103344",required:""},null,512),[[Lt,r.form.isbn,void 0,{trim:!0}]])]),P("div",aM,[P("button",{class:"btn btn-dark",disabled:r.busy},ye(r.busy?"Saving":"Create"),9,lM),P("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[3]||(e[3]=(...o)=>i.reset&&i.reset(...o))},"Reset")])],32),r.result?(oe(),le("div",cM,[e[10]||(e[10]=P("h2",{class:"h6"},"Server Response",-1)),P("pre",uM,ye(r.result),1)])):St("",!0),r.bookId?(oe(),le("div",hM,[e[11]||(e[11]=P("h2",{class:"h6 mb-2"},"Capitalized Document",-1)),e[12]||(e[12]=P("p",{class:"text-muted small mb-2"},"We fetch the doc by ID; a short delay/poll lets the trigger finish.",-1)),P("div",dM,[P("button",{class:"btn btn-sm btn-outline-dark",onClick:e[5]||(e[5]=(...o)=>i.fetchDoc&&i.fetchDoc(...o))},"Fetch Now"),P("button",{class:"btn btn-sm btn-outline-secondary",onClick:e[6]||(e[6]=(...o)=>i.startPolling&&i.startPolling(...o)),disabled:r.polling},"Auto-poll",8,fM)]),P("pre",pM,ye(r.fetched),1)])):St("",!0),r.error?(oe(),le("div",mM,ye(r.error),1)):St("",!0)])}const _M=Hs(nM,[["render",gM],["__scopeId","data-v-d40b3418"]]),yM={name:"GetAllBookAPI",data(){return{jsondata:null,error:null}},mounted(){this.getAllBooksAPI()},methods:{async getAllBooksAPI(){try{const e=await vt.get("https://getallbooks-5bgqwovi2q-km.a.run.app");this.jsondata=e.data,this.error=null}catch(t){console.error("Error fetching all books:",t),this.error=t,this.jsondata={error:"Failed to fetch all books."}}}}};function vM(t,e,n,s,r,i){return oe(),le("pre",null,ye(r.jsondata),1)}const wM=Hs(yM,[["render",vM]]),EM={data(){return{jsondata:null,error:null}},computed:{errorMessage(){return this.error?.message||"Unknown error"}},mounted(){this.getBookCountAPI()},methods:{async getBookCountAPI(){try{const t=await vt.get("https://countbooks-5bgqwovi2q-km.a.run.app");this.jsondata=JSON.stringify(t.data,null,2),this.error=null}catch(t){console.error("Error fetching book count:",t),this.error=t,this.jsondata=null}}}},bM={key:0},TM={key:1},IM={key:2};function AM(t,e,n,s,r,i){return r.jsondata?(oe(),le("pre",bM,ye(r.jsondata),1)):r.error?(oe(),le("pre",TM,"Error: "+ye(i.errorMessage),1)):(oe(),le("pre",IM,"Loading"))}const SM=Hs(EM,[["render",AM]]),RM=[{path:"/",name:"homePage",component:q0},{path:"/events",name:"events",component:IR},{path:"/blog",name:"blog",component:GR},{path:"/newsletters",name:"newsletters",component:lC},{path:"/loginRegister",name:"loginregister",component:kC},{path:"/FireLogin",name:"FireLogin",component:SO},{path:"/FireRegister",name:"FireRegister",component:RO},{path:"/addBook",name:"AddBook",component:iV},{path:"/getBook",name:"GetBook",component:$L},{path:"/WeatherCheck",name:"WeatherCheck",component:tM},{path:"/CreateBook",name:"CreateBook",component:_M},{path:"/GetAllBookAPI",name:"GetAllBookAPI",component:wM},{path:"/GetCount",name:"GetCount",component:SM}],CM=LS({history:hS(),routes:RM,linkActiveClass:"active",linkExactActiveClass:"active"});DA(t0).use(CM).mount("#app");
